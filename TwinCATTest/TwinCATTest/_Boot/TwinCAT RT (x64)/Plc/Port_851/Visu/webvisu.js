// This software uses the following Open Source software:
// - log4javascript
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Copyright by Tim Down
//	* Source: http://www.apache.org/licenses/
// - a simplified (and thus modified) version of stringencoding
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Source: http://code.google.com/p/stringencoding/

function h(a){throw a;}var j=void 0,k=!0,l=null,n=!1;function q(){return function(){}}function r(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function u(a){return function(){return a}}var ha,ta;
(function(){function a(a){var b=0;this.get=function(){return b>=a.length?-1:Number(a[b])};this.Eb=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};this.match=function(c){if(c.length>b+a.length)return n;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return n;return k}}function b(a){var b=0;this.get=function(){return b>=a.length?-1:a[b]};this.Eb=function(c){b+=c;0>b&&h(Error("Seeking past start of the buffer"));b>a.length&&h(Error("Seeking past EOF"))};
this.match=function(c){if(c.length>b+a.length)return n;var d;for(d=0;d<c.length;d+=1)if(a[b+d]!==c[d])return n;return k}}function c(a){var b=0;this.Ef=function(c){var d=-1,e;for(e=0;e<arguments.length;++e)d=Number(arguments[e]),a[b++]=d;return d}}function d(a){var b=0,c=function(){for(var b=[],c=0,d=a.length;c<a.length;){var e=a.charCodeAt(c);if(55296<=e&&57343>=e)if(56320<=e&&57343>=e)b.push(65533);else if(c===d-1)b.push(65533);else{var f=a.charCodeAt(c+1);56320<=f&&57343>=f?(e&=1023,f&=1023,c+=
1,b.push(65536+(e<<10)+f)):b.push(65533)}else b.push(e);c+=1}return b}();this.Eb=function(a){b+=a;0>b&&h(Error("Seeking past start of the buffer"));b>c.length&&h(Error("Seeking past EOF"))};this.get=function(){return b>=c.length?-1:c[b]}}function e(){var a="";this.fw=function(){return a};this.Ef=function(b){65535>=b?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(b&1023)))}}function f(a){a=(""+a).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(m,
a))return m[a];h(Error("EncodingError: Unknown encoding: "+a))}function g(a,b){var c=b.jd;this.Sh=function(b){var d=b.get();if(-1===d)return-1;b.Eb(1);if(0<=d&&127>=d)return d;b=a[d-128];b===l&&(c&&h(Error("EncodingError")),b=65533);return b}}function i(a){this.ke=function(b,c){var d=c.get();if(-1===d)return-1;c.Eb(1);if(0<=d&&127>=d)return b.Ef(d);d=a.indexOf(d);d=-1===d?l:d;d===l&&h(Error("EncodingError"));return b.Ef(d+128)}}var o={},m={};[{Xt:[{Ha:"csisolatin2,iso-8859-2,iso-ir-101,iso8859-2,iso_8859-2,l2,latin2".split(","),
name:"iso-8859-2"},{Ha:"csisolatin3,iso-8859-3,iso_8859-3,iso-ir-109,l3,latin3".split(","),name:"iso-8859-3"},{Ha:"csisolatin4,iso-8859-4,iso_8859-4,iso-ir-110,l4,latin4".split(","),name:"iso-8859-4"},{Ha:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{Ha:"arabic,csisolatinarabic,ecma-114,iso-8859-6,iso_8859-6,iso-ir-127".split(","),name:"iso-8859-6"},{Ha:"csisolatingreek,ecma-118,elot_928,greek,greek8,iso-8859-7,iso_8859-7,iso-ir-126".split(","),name:"iso-8859-7"},
{Ha:"csisolatinhebrew,hebrew,iso-8859-8,iso-8859-8-i,iso-ir-138,iso_8859-8,visual".split(","),name:"iso-8859-8"},{Ha:"csisolatin6,iso-8859-10,iso-ir-157,iso8859-10,l6,latin6".split(","),name:"iso-8859-10"},{Ha:["iso-8859-13"],name:"iso-8859-13"},{Ha:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{Ha:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{Ha:["iso-8859-16"],name:"iso-8859-16"},{Ha:"ascii,ansi_x3.4-1968,csisolatin1,iso-8859-1,iso8859-1,iso_8859-1,l1,latin1,us-ascii,windows-1252".split(","),
name:"windows-1252"}],heading:"Legacy single-byte encodings"}].forEach(function(a){a.Xt.forEach(function(a){o[a.name]=a;a.Ha.forEach(function(b){m[b]=a})})});var x={"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,
323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,l,292,167,168,304,350,286,308,173,l,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,l,380,192,193,194,l,196,266,264,199,200,201,202,203,204,
205,206,207,l,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,l,228,267,265,231,232,233,234,235,236,237,238,239,l,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,
268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,
1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,l,l,164,l,l,l,
l,l,l,l,1548,173,l,l,l,l,l,l,l,l,l,l,l,l,l,1563,l,l,l,1567,l,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,l,l,l,l,l,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,l,l,l,l,l,l,l,l,l,l,l,l,l],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,
168,169,890,171,172,173,l,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,l,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,l],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,162,163,
164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,l,l,8206,8207,l],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,
315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,
8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,
154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,
142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,
135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"windows-1252":[8364,
129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,
251,252,253,254,255]};(function(){"iso-8859-2,iso-8859-3,iso-8859-4,iso-8859-5,iso-8859-6,iso-8859-7,iso-8859-8,iso-8859-10,iso-8859-13,iso-8859-14,iso-8859-15,iso-8859-16,windows-1252".split(",").forEach(function(a){var b=o[a],c=x[a];b.mu=function(a){return new g(c,a)};b.qu=function(){return new i(c)}})})();ta=function(a,b){b=Object(b);this.lc=f(a?""+a:"utf-8");this.Dh=n;this.Rc=l;this.al={jd:Boolean(b.jd)};Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.lc.name}}):
this.encoding=this.lc.name;return this};ta.prototype={ke:function(a,b){if(!this.Dh)this.Rc=this.lc.qu();this.Dh=Boolean(Object(b).Ry);for(var e=[],f=new c(e),g=new d(a?""+a:"");-1!==g.get();)this.Rc.ke(f,g);if(!this.Dh){var i;do i=this.Rc.ke(f,g);while(-1!==i);this.Rc=l}return new Uint8Array(e)}};ha=function(a,b){b=Object(b);this.lc=f(a?""+a:"utf-8");this.al={jd:Boolean(b.jd)};this.Kg=this.lc.mu(this.al);Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.lc.name}}):
this.encoding=this.lc.name;return this};ha.prototype={Sh:function(b){b&&!("buffer"in b&&"byteOffset"in b&&"byteLength"in b)&&h(new TypeError("Expected ArrayBufferView"));b||(b=new Uint8Array(0));b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return this.Xj(new a(b))},Pt:function(a){a||h(new TypeError("Expected array of bytes"));return this.Xj(new b(a))},Xj:function(a){for(var b=new e,c;-1!==a.get();)c=this.Kg.Sh(a),c!==l&&-1!==c&&b.Ef(c);return b.fw()}}})();
if(!Array.prototype.push)Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length};if(!Array.prototype.shift)Array.prototype.shift=function(){if(0<this.length){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];this.length-=1;return a}};
if(!Array.prototype.splice)Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,g=arguments.length;f<g;f++)e[f]=arguments[f];c=2<e.length?e.slice(2).concat(c):c;for(f=0,g=c.length;f<g;f++)this.push(c[f]);return d};
var w=function(){function a(b){for(var c=l,d,e=0,f=wd.length;e<f;e++){d=wd[e];try{return c=d(),a=d,c}catch(g){}}b?b():D("getXmlHttp: unable to obtain XMLHttpRequest object")}function b(){}function c(){}function d(a,b,c,d,e){this.Pf=a;this.timeStamp=b;this.qn=b.getTime();this.hw=Math.floor(this.qn/1E3);this.Nm=this.timeStamp.getMilliseconds();this.aa=c;this.Db=d;this.sc=e}function e(a,b){this.aa=a;this.name=b}function f(){}function g(a){return"undefined"==typeof a}function i(){}function o(){}function m(a){return a&&
a.toString?a.toString():""+a}function x(a){return a.message?a.message:a.description?a.description:m(a)}function K(a){if(a){var b="Exception: "+x(a);try{if(a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName)var c=b,d=a.fileName,e=Math.max(d.lastIndexOf("/"),d.lastIndexOf("\\")),b=c+(" in file "+d.substr(e+1))}catch(f){Z.warn("Unable to obtain file and line information for error")}xd&&a.stack&&(b+=F+"Stack trace:"+F+a.stack);return b}return l}function G(a){return a.replace(/^\s+/,"").replace(/\s+$/,
"")}function N(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function s(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}0<=c&&a.splice(c,1)}function Y(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return k;return n}function na(a,b){return g(a)?b:""+a}function Za(a,b){if(g(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(d){return Z.warn("Invalid int param "+a,d),b}}function Hd(a){var b,c=window;b=b?b:window;if(c.addEventListener)c.addEventListener("unload",
a,j);else if(c.attachEvent)c.attachEvent("onunload",a);else{if(!c.__log4javascript_listeners__unload)c.__log4javascript_listeners__unload=[],c.onunload=function(a){for(var c=b,a=a?a:(c?c:window).event,c=this.__log4javascript_listeners__unload.concat([]),d;d=c.shift();)d.call(this,a)};c.__log4javascript_listeners__unload.push(a)}}function D(a,b){Z.error(a,b);w.dispatchEvent("error",{message:a,exception:b})}function yd(a,b){this.name=a;this.aa=g(b)?e.zc:b;this.start=new Date}function ca(a){this.name=
a;this.parent=l;this.children=[];var b=[],c=l,f=this.name===Ha,i=this.name===zd,o=l,Cb=n;this.jt=function(a){this.children.push(a);a.parent=this;a.nd()};var da=k;this.gu=function(){return da};this.qy=function(a){var b=da!=a;da=a;b&&this.nd()};this.Ql=function(a){i?D("Logger.addAppender: you may not add an appender to the null logger"):a instanceof w.ti?Y(b,a)||(b.push(a),a.$m(this),this.nd()):D("Logger.addAppender: appender supplied ('"+m(a)+"') is not a subclass of Appender")};this.ny=function(a){s(b,
a);a.fn(this);this.nd()};this.my=function(){var a=b.length;if(0<a){for(var c=0;c<a;c++)b[c].fn(this);b.length=0;this.nd()}};this.If=function(){if(o===l||Cb)o=(f||!this.gu()?[]:this.parent.If()).concat(b),Cb=n;return o};this.nd=function(){Cb=k;for(var a=0,b=this.children.length;a<b;a++)this.children[a].nd()};this.log=function(a,b){if(ia&&a.fi(this.ou())){var c,e=b.length-1,f=b[e];1<b.length&&f instanceof Error&&(c=f,e--);for(var f=[],g=0;g<=e;g++)f[g]=b[g];this.xt(new d(this,new Date,a,f,c))}};this.xt=
function(a){for(var b=this.If(),c=0,d=b.length;c<d;c++)b[c].Vt(a)};this.kb=function(a){f&&a===l?D("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof e?c=a:D("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.tu=function(){return c};this.ou=function(){for(var a=this;a!==l;a=a.parent){var b=a.tu();if(b!==l)return b}};this.uc=function(a,b){if(ia)for(var c=this.If(),d=0,e=c.length;d<e;d++)c[d].uc(a,b)};this.vc=
function(){if(ia)for(var a=this.If(),b=0,c=a.length;b<c;b++)a[b].vc()};var ea={};this.pn=function(a,b){ia&&(g(a)?D("Logger.time: a name for the timer must be supplied"):b&&!(b instanceof e)?D("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"):ea[a]=new yd(a,b))};this.Sy=function(a){if(ia)if(g(a))D("Logger.timeEnd: a name for the timer must be supplied");else if(ea[a]){var b=ea[a];this.log(b.aa,["Timer "+m(a)+" completed in "+b.pu()+"ms"]);delete ea[a]}else Z.warn("Logger.timeEnd: no timer found with name "+
a)};this.mx=function(a){if(ia&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=0<b.length?b:["Assertion Failure"];b.push(F);b.push(a);this.log(e.yd,b)}};this.toString=function(){return"Logger["+this.name+"]"}}function ja(){this.ea=[]}function ka(){this.ea=[]}function la(a){this.Qh=g(a)?k:Boolean(a);this.ea=[]}function pa(a,b){this.pd=g(a)?n:Boolean(a);this.Qh=g(b)?k:Boolean(b);this.cm=this.pd?"["+F:"[";this.bm=this.pd?"]"+F:"]";this.dm=this.pd?","+F:",";this.dn();this.Ft=this.pd?
": ":":";this.oi=this.pd?"\t":"";this.re=this.pd?F:"";this.ea=[]}function ma(){this.dn();this.ea=[];this.Ym=k}function Ad(a,b){function c(a,b,e){function f(a){for(var a=N(a),b=1,c=a.length;b<c;b++)a[b]=e+a[b];return a.join(F)}var g,i,oa,o,v,Ga;e||(e="");if(a===l)return"null";if("undefined"==typeof a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&Y(d,a)){try{v=m(a)}catch(s){v="Error formatting property. Details: "+K(s)}return v+" [already expanded]"}if(a instanceof Array&&
0<b){d.push(a);v="["+F;i=b-1;oa=e+"  ";o=[];for(g=0,b=a.length;g<b;g++)try{Ga=c(a[g],i,oa),o.push(oa+Ga)}catch(x){o.push(oa+"Error formatting array member. Details: "+K(x)+"")}return v+=o.join(","+F)+F+e+"]"}if("object"==typeof a&&0<b){d.push(a);v="{"+F;i=b-1;oa=e+"  ";o=[];for(g in a)try{Ga=c(a[g],i,oa),o.push(oa+g+": "+Ga)}catch(D){o.push(oa+g+": Error formatting property. Details: "+K(D))}return v+=o.join(","+F)+F+e+"}"}return f(m(a))}var d=[];return c(a,b,j)}function I(a){this.pattern=a?a:I.In;
this.ea=[]}function wa(){}function aa(){}function xa(b){function c(a){return N?(D("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),n):k}function d(){if(ea&&ia){I=k;var a;if(p)0<$.length?(a=$.shift(),m(i(a),d)):(I=n,va&&window.setTimeout(d,v));else{for(;a=$.shift();)m(i(a));I=n;va&&window.setTimeout(d,v)}}}function e(){if(ea&&ia){for(var a=da.S.Ph()?$a:1,b,c=[];b=U.shift();)c.push(b),U.length>=a&&($.push(c),c=[]);0<c.length&&$.push(c);va=p=n;d()}}
function i(a){var b=[],c;for(c="";c=a.shift();)c=da.S.Sa(c),da.S.ib()&&(c+=loggingEvent.Kf()),b.push(c);c=1==a.length?b.join(""):da.S.cm+b.join(da.S.dm)+da.S.bm;c=da.S.Ym?c:ya(F)+"="+ya(c);0<c.length&&(c+="&");return c+"layout="+ya(da.S.toString())}function o(){D("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled");ea=n;x&&x("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled")}function m(c,d){try{var e=a(o);if(ea){e.overrideMimeType&&e.overrideMimeType(da.S.ai());
e.onreadystatechange=function(){if(4==e.readyState){if(g(e.status)||0===e.status||200<=e.status&&300>e.status)s&&s(e),d&&d(e);else{var a="AjaxAppender.append: XMLHttpRequest request to URL "+b+" returned status code "+e.status;D(a);x&&x(a)}e.onreadystatechange=f;e=l}};e.open("POST",b,k);try{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(i){D("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");
ea=n;x&&x("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");return}e.send(c)}}catch(p){var va="AjaxAppender.append: error sending log message to "+b;D(va,p);ea=n;x&&x(va+". Details: "+K(p))}}var da=this,ea=k;b||(D("AjaxAppender: URL must be specified in constructor"),ea=n);var va=this.u.iw,p=this.u.uw,$a=this.u.wt,v=this.u.jw,s=this.u.qv,x=this.u.au,F=this.u.av,G=this.u.tv,R=l,U=[],$=[],I=n,N=n;
this.Nx=function(){return R};this.Yv=function(a){R=na(a,l);this.S.Bv("sessionid",R)};this.Xf=function(a){if(c("layout"))this.S=a,R!==l&&this.Yv(R)};this.Zx=function(){return va};this.Ky=function(a){c("timed")&&(va=Boolean(a))};this.Ox=function(){return v};this.Ly=function(a){c("timerInterval")&&(v=Za(a,v))};this.by=function(){return p};this.Oy=function(a){c("waitForResponse")&&(p=Boolean(a))};this.Ex=function(){return $a};this.ty=function(a){c("batchSize")&&($a=Za(a,$a))};this.Vx=function(){return G};
this.Iy=function(a){c("sendAllOnUnload")&&(G=Za(a,G))};this.Gy=function(a){s="function"==typeof a?a:s};this.yy=function(a){x="function"==typeof a?a:x};this.Lx=function(){return F};this.Dy=function(a){c("postVarName")&&(F=na(a,F))};this.py=d;this.append=function(a){if(ea&&(N||(N=k,G&&Hd(e),va&&window.setTimeout(d,v)),U.push(a),U.length>=(this.S.Ph()?$a:1))){for(var b=[];a=U.shift();)b.push(a);$.push(b);!va&&(!p||p&&!I)&&d()}}}function Ia(a){try{return Boolean(a.loaded)}catch(b){return n}}function Bd(a,
b){if(a.length<b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}i.prototype={hd:[],le:{},bn:function(a){if(a instanceof Array){this.hd=a;this.le={};for(var a=0,b=this.hd.length;a<b;a++)this.le[this.hd[a]]=[]}else D("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?(Y(this.hd,a)||D("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),
this.le[a].push(b)):D("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(a,b){"function"==typeof b?(Y(this.hd,a)||D("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+a+"'"),s(this.le[a],b)):D("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(a,b){if(Y(this.hd,a))for(var c=this.le[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else D("log4javascript.EventSupport ["+
this+"]: dispatchEvent: no event called '"+a+"'")}};var Cd=new Date,Dd="log4javascript_"+Cd.getTime()+"_"+Math.floor(1E8*Math.random()),F="\r\n",Eb=n;o.prototype=new i;w=new o;w.version="1.4.2";w.vx="log4javascript";var ya="undefined"!=typeof window.wx?function(a){return encodeURIComponent(a)}:function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var c=
"__apply__";"undefined"!=typeof a[c]&&(c+=(""+Math.random()).substr(2));a[c]=this;for(var d=[],e=0,f=b.length;e<f;e++)d[e]="args["+e+"]";d=eval("obj."+c+"("+d.join(",")+")");delete a[c];return d};if(!Function.prototype.call)Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<d;c++)b[c-1]=arguments[c];return this.apply(a,b)};var Z={Tm:n,hm:[],Ey:function(a){this.Tm=Boolean(a)},Su:0,Sl:n,ry:r("Sl"),R:function(a){this.hm.push(a)},ux:function(){alert(this.hm.join(F))},warn:q(),error:function(a,
b){if((1==++this.Su||this.Sl)&&!this.Tm){var c="log4javascript error: "+a;b&&(c+=F+F+"Original error: "+K(b));alert(c)}}};w.fy=Z;w.bn(["load","error"]);w.handleError=D;var ia=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);w.xy=function(a){ia=Boolean(a)};w.isEnabled=function(){return ia};var Ja=k;w.bw=function(a){Ja=Boolean(a)};w.Nf=function(){return Ja};w.zx=function(a){return eval(a)};var xd=n;w.Jy=function(a){xd=Boolean(a)};e.prototype={toString:t("name"),Gf:function(a){return this.aa==
a.aa},fi:function(a){return this.aa>=a.aa}};e.wn=new e(Number.MIN_VALUE,"ALL");e.yg=new e(1E4,"TRACE");e.wd=new e(2E4,"DEBUG");e.zc=new e(3E4,"INFO");e.pj=new e(4E4,"WARN");e.yd=new e(5E4,"ERROR");e.Ri=new e(6E4,"FATAL");e.po=new e(Number.MAX_VALUE,"OFF");w.Hb=e;yd.prototype.pu=function(){return(new Date).getTime()-this.start.getTime()};var zd="[null]",Ha="root";ca.prototype={td:function(){this.log(e.yg,arguments)},R:function(){this.log(e.wd,arguments)},info:function(){this.log(e.zc,arguments)},warn:function(){this.log(e.pj,
arguments)},error:function(){this.log(e.yd,arguments)},jd:function(){this.log(e.Ri,arguments)}};ca.prototype.td.pe=k;ca.prototype.R.pe=k;ca.prototype.info.pe=k;ca.prototype.warn.pe=k;ca.prototype.error.pe=k;ca.prototype.jd.pe=k;var Qa={},Id=[],Ed=e.wd,Ea=new ca(Ha);Ea.kb(Ed);w.Mx=function(){return Ea};w.bi=function(a){"string"!=typeof a&&(a="[anonymous]",Z.warn("log4javascript.getLogger: non-string logger name "+m(a)+" supplied, returning anonymous logger"));a==Ha&&D("log4javascript.getLogger: root logger may not be obtained by name");
if(!Qa[a]){var b=new ca(a);Qa[a]=b;Id.push(a);var c=a.lastIndexOf(".");(-1<c?w.bi(a.substring(0,c)):Ea).jt(b)}return Qa[a]};var Aa=l;w.Ix=function(){if(!Aa){Aa=w.bi("[default]");var a=new w.uo;Aa.Ql(a)}return Aa};var Ka=l;w.Kx=function(){Ka||(Ka=new ca(zd),Ka.kb(e.po));return Ka};w.oy=function(){Ea.kb(Ed);Qa={}};d.prototype={Kf:function(){return this.sc?K(this.sc):""},$h:function(){return 1==this.Db.length?this.Db[0]:this.Db.join(F)},toString:function(){return"LoggingEvent["+this.aa+"]"}};w.Lw=d;
c.prototype={u:{Qf:"logger",ag:"timestamp",Sf:"milliseconds",Of:"level",Rf:"message",Hf:"exception",bg:"url"},Qf:"logger",ag:"timestamp",Sf:"milliseconds",Of:"level",Rf:"message",Hf:"exception",bg:"url",cm:"",bm:"",dm:"",Ym:n,Qm:n,sn:l,Sa:function(){D("Layout.format: layout supplied has no format() method")},ib:function(){D("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},ai:u("text/plain"),Ph:u(k),bw:function(a){this.Qm=k;this.sn=Boolean(a)},Nf:function(){return this.Qm?
this.sn:Ja},Bm:function(a){return this.Nf()?a.qn:a.hw},wm:function(a,b){var c=[[this.Qf,a.Pf.name],[this.ag,this.Bm(a)],[this.Of,a.aa.name],[this.bg,window.location.href],[this.Rf,b?a.$h():a.Db]];this.Nf()||c.push([this.Sf,a.Nm]);a.sc&&c.push([this.Hf,K(a.sc)]);if(this.di())for(var d=0,e=this.ea.length;d<e;d++){var f=this.ea[d].value;"function"===typeof f&&(f=f(this,a));c.push([this.ea[d].name,f])}return c},dn:function(a,b,c,d,e,f,g){this.Qf=na(a,this.u.Qf);this.ag=na(b,this.u.ag);this.Of=na(c,this.u.Of);
this.Rf=na(d,this.u.Rf);this.Hf=na(e,this.u.Hf);this.bg=na(f,this.u.bg);this.Sf=na(g,this.u.Sf)},Bv:function(a,b){for(var c=n,d=0,e=this.ea.length;d<e;d++)if(this.ea[d].name===a)this.ea[d].value=b,c=k;c||this.ea.push({name:a,value:b})},di:function(){return 0<this.ea.length},toString:function(){D("Layout.toString: all layouts must override this method")}};w.Jw=c;b.prototype=new i;b.prototype.S=new I;b.prototype.pi=e.wn;b.prototype.gi=[];b.prototype.Vt=function(a){ia&&a.aa.aa>=this.pi.aa&&this.append(a)};
b.prototype.append=q();b.prototype.Xf=function(a){a instanceof c?this.S=a:D("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};b.prototype.aw=function(){var a=w.Hb.yg;a instanceof e?this.pi=a:D("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")};b.prototype.$m=function(a){this.gi.push(a)};b.prototype.fn=function(a){s(this.gi,a)};b.prototype.uc=f;b.prototype.vc=f;b.prototype.toString=function(){D("Appender.toString: all appenders must override this method")};
w.ti=b;ja.prototype=new c;ja.prototype.Sa=function(a){return a.aa.name+" - "+a.$h()};ja.prototype.ib=u(k);ja.prototype.toString=u("SimpleLayout");w.Uw=ja;ka.prototype=new c;ka.prototype.Sa=function(a){return a.Db};ka.prototype.ib=u(k);ka.prototype.toString=u("NullLayout");w.Nw=ka;la.prototype=new c;la.prototype.ai=u("text/xml");la.prototype.Zt=function(a){return a.replace(/\]\]>/,"]]\>]]&gt;<![CDATA[")};la.prototype.Sa=function(a){function b(a){a="string"===typeof a?a:m(a);return"<log4javascript:message><![CDATA["+
c.Zt(a)+"]]\></log4javascript:message>"}var c=this,d,e,f='<log4javascript:event logger="'+a.Pf.name+'" timestamp="'+this.Bm(a)+'"';this.Nf()||(f+=' milliseconds="'+a.Nm+'"');f+=' level="'+a.aa.name+'">'+F;if(this.Qh)f+=b(a.$h());else{f+="<log4javascript:messages>"+F;for(d=0,e=a.Db.length;d<e;d++)f+=b(a.Db[d])+F;f+="</log4javascript:messages>"+F}if(this.di())for(d=0,e=this.ea.length;d<e;d++)f+='<log4javascript:customfield name="'+this.ea[d].name+'"><![CDATA['+this.ea[d].value.toString()+"]]\></log4javascript:customfield>"+
F;a.sc&&(f+="<log4javascript:exception><![CDATA["+K(a.sc)+"]]\></log4javascript:exception>"+F);return f+="</log4javascript:event>"+F+F};la.prototype.ib=u(n);la.prototype.toString=u("XmlLayout");w.bx=la;pa.prototype=new c;pa.prototype.Sa=function(a){function b(a,d,e){var f=typeof a;if(a instanceof Date)e=""+a.getTime();else if(e&&a instanceof Array){for(var e="["+c.re,f=0,g=a.length;f<g;f++){var i=d+c.oi,e=e+(i+b(a[f],i,n));f<a.length-1&&(e+=",");e+=c.re}e+=d+"]"}else e="number"!==f&&"boolean"!==f?
'"'+m(a).replace(/\"/g,'\\"').replace(/\r\n|\r|\n/g,"\\r\\n")+'"':a;return e}var c=this,a=this.wm(a,this.Qh),d="{"+this.re,e,f;for(e=0,f=a.length-1;e<=f;e++)d+=this.oi+'"'+a[e][0]+'"'+this.Ft+b(a[e][1],this.oi,k),e<f&&(d+=","),d+=this.re;return d+="}"+this.re};pa.prototype.ib=u(n);pa.prototype.toString=u("JsonLayout");pa.prototype.ai=u("application/json");w.Hw=pa;ma.prototype=new c;ma.prototype.Ph=u(n);ma.prototype.Sa=function(a){for(var a=this.wm(a),b=[],c=0,d=a.length;c<d;c++){var e=a[c][1]instanceof
Date?""+a[c][1].getTime():a[c][1];b.push(ya(a[c][0])+"="+ya(e))}return b.join("&")};ma.prototype.ib=u(n);ma.prototype.toString=u("HttpPostDataLayout");w.Fw=ma;var ra;(function(){function a(b,c){for(;b.length<c;)b="0"+b;return b}function b(a,c,d){a=new Date(a,c,d,0,0,0);a.setMilliseconds(0);return a}var c=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,d="January,February,March,April,May,June,July,August,September,October,November,December".split(","),
e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),f={Dw:0,y:3,Mw:4,Ty:2,$w:2,Aw:2,tx:2,Bw:2,E:1,Nh:0,Ew:2,cy:2,Iw:2,xa:2,hy:2,qd:2,Qw:2,cx:5};Date.prototype.nu=function(a){return this.getTime()-a.getTime()};Date.prototype.Im=function(a){return this.getTime()<a.getTime()};Date.prototype.Dm=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.ci=function(a){return this.Dm()-
a.Dm()};Date.prototype.Am=function(){var a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0)).getTime()-864E5*this.getDay());return b(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.yu=function(a){g(this.hi)&&(a=1);var c=this.Am(),d=b(this.getFullYear(),0,1),c=c.Im(d)?0:1+Math.floor(c.ci(d)/6048E5);7-d.getDay()<a&&c--;return c};Date.prototype.xu=function(a){g(this.hi)&&(a=1);var c=this.Am(),d=b(this.getFullYear(),this.getMonth(),1),c=c.Im(d)?0:1+Math.floor(c.ci(d)/
6048E5);7-d.getDay()>=a&&c++;return c};Date.prototype.lu=function(){var a=b(this.getFullYear(),0,1);return 1+Math.floor(this.ci(a)/864E5)};ra=r("du");ra.prototype.ym=function(){return g(this.hi)?1:this.hi};ra.prototype.Sa=function(b){for(var g="",i,o=this.du;i=c.exec(o);){var p=i[1],m=i[2],v=i[3],s=i[4];if(p)g="''"==p?g+"'":g+p.substring(1,p.length-1);else if(!v)if(s)g+=s;else if(m){p=m.charAt(0);m=m.length;v="";switch(p){case "G":v="AD";break;case "y":v=b.getFullYear();break;case "M":v=b.getMonth();
break;case "w":v=b.yu(this.ym());break;case "W":v=b.xu(this.ym());break;case "D":v=b.lu();break;case "d":v=b.getDate();break;case "F":v=1+Math.floor((b.getDate()-1)/7);break;case "E":v=e[b.getDay()];break;case "a":v=12<=b.getHours()?"PM":"AM";break;case "H":v=b.getHours();break;case "k":v=b.getHours()||24;break;case "K":v=b.getHours()%12;break;case "h":v=b.getHours()%12||12;break;case "m":v=b.getMinutes();break;case "s":v=b.getSeconds();break;case "S":v=b.getMilliseconds();break;case "Z":v=b.getTimezoneOffset()}switch(f[p]){case 0:g+=
4<=m?v:v.substr(0,Math.max(2,m));break;case 1:g+=4<=m?v:v.substr(0,Math.max(3,m));break;case 2:g+=a(""+v,m);break;case 3:g=3>=m?g+(""+v).substr(2,2):g+a(""+v,m);break;case 4:g=3<=m?g+(4<=m?d[v]:d[v].substr(0,Math.max(m,m))):g+a(""+(v+1),m);break;case 5:m=0<v?"-":"+",v=Math.abs(v),p=""+Math.floor(v/60),p=a(p,2),v=""+v%60,v=a(v,2),g+=m+p+v}}o=o.substr(i.index+i[0].length)}return g}})();w.Tw=ra;I.Yw="%r %p %c - %m%n";I.In="%m%n";I.Vi="yyyy-MM-dd HH:mm:ss,SSS";I.Hn="dd MMM yyyy HH:mm:ss,SSS";I.un="HH:mm:ss,SSS";
I.prototype=new c;I.prototype.Sa=function(a){for(var b=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,c="",d,e=this.pattern;d=b.exec(e);){var f=d[0],g=d[1],i=d[2],o=d[3],m=d[5],p=d[6];if(p)c+=""+p;else{p="";switch(o){case "a":case "m":f=0;m&&(f=parseInt(m,10),isNaN(f)&&(D("PatternLayout.format: invalid specifier '"+m+"' for conversion character '"+o+"' - should be a number"),f=0));for(var m="a"===o?a.Db[0]:a.Db,o=0,s=m.length;o<s;o++)0<o&&" "!==p.charAt(p.length-1)&&(p+=" "),p=0===
f?p+m[o]:p+Ad(m[o],f);break;case "c":p=a.Pf.name;m&&(m=parseInt(m,10),f=a.Pf.name.split("."),p=m>=f.length?p:f.slice(f.length-m).join("."));break;case "d":p=I.Vi;if(m)if(p=m,"ISO8601"==p)p=I.Vi;else if("ABSOLUTE"==p)p=I.un;else if("DATE"==p)p=I.Hn;p=(new ra(p)).Sa(a.timeStamp);break;case "f":if(this.di())p=0,m&&(p=parseInt(m,10),isNaN(p)?D("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - should be a number"):0===p?D("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - must be greater than zero"):
p>this.ea.length?D("PatternLayout.format: invalid specifier '"+m+"' for conversion character 'f' - there aren't that many custom fields"):p-=1),p=this.ea[p].value;break;case "n":p=F;break;case "p":p=a.aa.name;break;case "r":p=""+a.timeStamp.nu(Cd);break;case "%":p="%";break;default:p=f}if(i)i=parseInt(i.substr(1),10),m=p.length,i<m&&(p=p.substring(m-i,m));if(g)if("-"==g.charAt(0))for(i=parseInt(g.substr(1),10);p.length<i;)p+=" ";else for(i=parseInt(g,10);p.length<i;)p=" "+p;c+=p}e=e.substr(d.index+
d[0].length)}return c};I.prototype.ib=u(k);I.prototype.toString=u("PatternLayout");w.Ow=I;wa.prototype=new b;wa.prototype.S=new ja;wa.prototype.append=function(a){var b=this.S.Sa(a);this.S.ib()&&(b+=a.Kf());alert(b)};wa.prototype.toString=u("AlertAppender");w.yw=wa;aa.prototype=new w.ti;aa.prototype.S=new ka;aa.prototype.pi=e.wd;aa.prototype.append=function(a){function b(){var d=c.S,e=d.Sa(a);d.ib()&&a.sc&&(e+=a.Kf());return e}var c=this;if("undefined"!=typeof opera&&opera.postError)opera.postError(b());
else if(window.console&&window.console.log){var d=b();window.console.R&&e.wd.fi(a.aa)?window.console.R(d):window.console.info&&e.zc.Gf(a.aa)?window.console.info(d):window.console.warn&&e.pj.Gf(a.aa)?window.console.warn(d):window.console.error&&a.aa.fi(e.yd)?window.console.error(d):window.console.log(d)}};aa.prototype.uc=function(a){window.console&&window.console.uc&&window.console.uc(a)};aa.prototype.vc=function(){window.console&&window.console.vc&&window.console.vc()};aa.prototype.toString=u("BrowserConsoleAppender");
w.yn=aa;var wd=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];xa.prototype=new b;xa.prototype.u={uw:n,iw:n,jw:1E3,wt:1,tv:k,qv:l,au:l,av:"data"};xa.prototype.S=new ma;xa.prototype.toString=u("AjaxAppender");w.xw=xa;var V;(function(){function a(b,c,d,e,f){this.create(n,l,b,c,d,e,f,this.u.cu)}function c(a,b,d,e,f,g){this.create(k,a,b,d,e,f,g,n)}var f=[];V=q();var i=1;V.prototype=new b;V.prototype.create=
function(a,b,c,o,m,s,p,x){function v(){var a=document.domain!=location.hostname;if(m)a="";else{var b;a:{b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;++c)if(-1!=b[c].src.indexOf("log4javascript")){d=b[c].src.lastIndexOf("/");b=-1==d?"":b[c].src.substr(0,d+1);break a}b=l}a=b+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):"")}return a}function jb(a,b,c,d){var e=setInterval(function(){try{ba&&clearInterval(e),a(O())&&(clearInterval(e),c())}catch(b){clearInterval(e),
sa=n,D(d,b)}},b)}function G(){var a=O();a.sy(fa);a.Sv(la);a.Wv(ma);a.ni(ja);a.Yf(ka);a.jn(wa);a.hn(xa);a.Cy(window);var b;a:{b=escape("log4javascriptCommandHistory")+"=";for(var c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b)){b=unescape(f.substring(b.length,f.length));break a}}b=l}if(b)a.Gt=b.split(","),a.sx=a.Gt.length;fa.dispatchEvent("load",{win:a})}function N(a){var b=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
'<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<\!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\>",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','<\!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\>','<\!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\>',
'<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}",
"this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",
'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',
"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",
'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}',
'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",
'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',
"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}",
"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}",
"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",
'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}',
'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}',
'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',
"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}',
'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',
"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",
'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}',
'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',
"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}",
"var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}",
"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",
'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}",
"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}",
"return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}",
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}",
"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}",
"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",
'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}',
'function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}',
'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}",
"searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}",
"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',
"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+",
"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}",
"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}",
"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}",
"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',
"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}",
"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}',
'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}',
'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}",
"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}',
'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}',
'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',
"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}',
'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}',
'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}",
"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}",
"currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}",
"return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-',
'($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}",
"this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}",
"return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}",
"return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',
"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',
"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}",
"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]\>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}",
"</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>',
'<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>',
'<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />',
'<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>',
'<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>',
'<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>',
'<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />',
'<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />',
'<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];a.open();for(var c=0,d=b.length;c<d;c++)a.writeln(b[c]);a.close()}function Db(){for(;0<Y.length;)Y.shift().append();x&&O().focus()}function R(){ra();aa?ba&&Fb&&Ra():ya();ra()&&Db()}function U(){return qa&&sa&&!ba}function $(a){return Da?(D(Qa+": configuration option '"+a+"' may not be set after the appender has been initialized"),
n):k}function oa(a,b){this.gy=a;this.Lu=a.aa.name;this.eu=b}function V(a,b){this.name=a;this.Eu=b}function ca(){}var fa=this,aa=n,Da=n,qa=n,ba=n,Y=[],sa=k,Ga=i++,o=g(o)?this.u.Hm:Boolean(o),c=g(c)?this.u.Km:Boolean(c),m=g(m)?this.u.rn:Boolean(m),la=this.u.Om,ma=this.u.Zm,s=s?s:this.u.width,p=p?p:this.u.height,ja=this.u.Mm,ka=this.u.ln,pa=this.u.gm,wa=this.u.mn,xa=this.u.kn;this.Xf(this.u.S);var ya,Ra,ra,O,La,Qa=a?"InPageAppender":"PopUpAppender";this.Sx=function(){return la};this.Tv=function(){la=
Boolean(k);U()&&O().Sv(la)};this.Ux=function(){return ma};this.Hy=function(a){ma=Boolean(a);U()&&O().Wv(ma)};this.i=function(){return s};this.Py=function(a){$("width")&&(s=na(a,s))};this.h=function(){return p};this.Ay=function(a){$("height")&&(p=na(a,p))};this.Jx=function(){return ja};this.ni=function(a){ja=Za(a,ja);U()&&O().ni(ja)};this.Xx=function(){return ka};this.Yf=function(a){ka=Boolean(a);U()&&O().Yf(ka)};this.Yx=function(){return wa};this.jn=function(a){wa=Boolean(a);U()&&O().jn(wa)};this.Wx=
function(){return xa};this.hn=function(a){xa=Boolean(a);U()&&O().hn(xa)};this.Gx=function(){return pa};this.wv=function(a){pa=Za(a,pa)};var ab=o;this.Rx=function(){return o};this.By=function(a){$("initiallyMinimized")&&(ab=o=Boolean(a))};this.$x=function(){return m};this.My=function(a){$("useDocumentWrite")&&(m=Boolean(a))};oa.prototype.append=function(){O().log(this.Lu,this.eu)};V.prototype.append=function(){O().uc(this.name,this.Eu)};ca.prototype.append=function(){O().vc()};this.append=function(a){if(sa){var b=
fa.S.Sa(a);this.S.ib()&&(b+=a.Kf());Y.push(new oa(a,b));R()}};this.uc=function(a,b){sa&&(Y.push(new V(a,b)),R())};this.vc=function(){sa&&(Y.push(new ca),R())};this.$m=function(a){this.gi.push(a);ia&&!c&&ya()};this.clear=function(){U()&&O().qx();Y.length=0};this.focus=function(){U()&&O().focus()};this.Cx=q();this.Dx=q();var X=window;this.ku=function(){return X};this.xv=function(a){X=a};this.Bx=function(){U()&&O().Ax()};var Ea=new I("%m");this.Fx=function(){return Ea};this.vy=function(a){Ea=a};this.xx=
function(a){var b={Zl:k,Mf:n},c="";try{var f,i;!X.eval&&X.execScript&&X.execScript("null");var o={};for(i=0,len=Sa.length;i<len;i++)o[Sa[i][0]]=Sa[i][1];var p=[],m=function(a){p.push([a,X[a]])};m("appender");X.lx=fa;m("commandReturnValue");X.rx=b;m("commandLineFunctionsHash");X.Ht=o;o=function(a){m(a);X[a]=function(){return this.Ht[a](fa,arguments,b)}};for(i=0,len=Sa.length;i<len;i++)o(Sa[i][0]);X===window&&X.execScript?(m("evalExpr"),m("result"),window.yx=a,X.execScript("window.result=eval(window.evalExpr);"),
f=window.result):f=X.eval(a);c=g(f)?f:Ad(f,pa);for(i=0,len=p.length;i<len;i++)X[p[i][0]]=p[i][1]}catch(v){c="Error evaluating command: "+K(v),b.Mf=k}if(b.Zl)a=">>> "+a,g(c)||(a+=F+c),c=new d(l,new Date,b.Mf?e.yd:e.zc,[a],l),a=this.S,this.Xf(Ea),this.append(c),this.Xf(a)};var Sa=f.concat([]);this.kx=function(a,b){Sa.push([a,b])};this.Qy=function(a){var a=a.join(","),b;document.cookie=escape("log4javascriptCommandHistory")+"="+escape(a)+""+(b?"; path="+b:"")};this.bn(["load","unload"]);this.ve=function(){Z.R("unload "+
this+", caller: "+this.ve.caller);ba||(Z.R("really doing unload "+this),ba=k,Da=qa=n,fa.dispatchEvent("unload",{}))};if(a){var Ba=l,Aa=[];this.Rl=function(a,b){$("cssProperties")&&Aa.push([a,b])};var Ka=n,za,Ha=Dd+"_InPageAppender_"+Ga;this.Au=function(){if(aa&&Da)U()&&O().ww("command").blur(),za.style.display="none",ab=k};this.show=function(){if(aa)Da?(za.style.display="block",this.Yf(ka),ab=n):Ka||Ra(k)};this.Ju=function(){return!ab&&!ba};this.close=function(a){if(!ba&&(!a||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")))za.parentNode.removeChild(za),
this.ve()};La=function(){function a(b){try{return Boolean(b)&&Boolean(b.document)}catch(c){return n}}function b(){try{o||fa.show(),G(),qa=k,Db()}catch(a){sa=n,D(d,a)}}function c(){try{var a=function(a){return Ia(a)};m&&N(O().document);Ia(O())?b():jb(a,100,b,d)}catch(e){sa=n,D(d,e)}}var d="InPageAppender.open: unable to create console iframe";ab=n;za=Ba.appendChild(document.createElement("div"));za.style.width=s;za.style.height=p;za.style.border="solid gray 1px";for(var e=0,f=Aa.length;e<f;e++)za.style[Aa[e][0]]=
Aa[e][1];za.innerHTML="<iframe id='"+Ha+"' name='"+Ha+"' width='100%' height='100%' frameborder='0'"+(m?"":" src='"+v()+"'")+" scrolling='no'></iframe>";ba=n;a(O())?c():jb(a,100,c,d);Da=k};Ra=function(a){if(a||!o)a=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(Ba=a);La()}catch(c){D("InPageAppender.init: invalid container element '"+b+"' supplied",c)}else Ba=document.createElement("div"),Ba.style.position="fixed",Ba.style.left="0",Ba.style.right="0",Ba.style.bottom="0",document.body.appendChild(Ba),
fa.Rl("borderWidth","1px 0 0 0"),fa.Rl("zIndex",1E6),La()},Eb&&b&&b.appendChild?(Ba=b,La()):Eb?a():w.addEventListener("load",a),Ka=k};ya=function(){Ra();aa=k};O=function(){var a=window.frames[Ha];if(a)return a};ra=function(){return sa&&!ba?(Da&&!qa&&O()&&Ia(O())&&(qa=k),qa):n}}else{var bb=fa.u.nw,Ja=fa.u.It,Fb=this.u.ov;this.ay=function(){return bb};this.Ny=function(a){$("useOldPopUp")&&(bb=Boolean(a))};this.Px=function(){return Ja};this.wy=function(a){$("complainAboutPopUpBlocking")&&(Ja=Boolean(a))};
this.Qx=function(){return x};this.zy=function(a){x=Boolean(a)};this.Tx=function(){return Fb};this.Fy=function(a){Fb=Boolean(a)};this.close=function(){Z.R("close "+this);try{ga.close(),this.ve()}catch(a){}};this.Au=function(){Z.R("hide "+this);U()&&this.close()};this.show=function(){Z.R("show "+this);Da||La()};this.Ju=function(){return ra()};var ga;La=function(){function a(){ba||fa.ve()}function b(a){if(ba)return k;try{return Boolean(a)&&a.closed}catch(c){}return n}function c(){O().uy(!bb||!m);G();
qa=k;Db();jb(b,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var d="width="+s+",height="+p+",status,resizable",e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+Ga;if(!bb||!m)e=e+"_"+Dd;try{ga=window.open(v(),e,d),ba=n,Da=k,ga&&ga.document?m&&bb&&Ia(ga)?(ga.iy(),c()):(m&&N(ga.document),d=function(a){return Boolean(a)&&Ia(a)},Ia(ga)?c():jb(d,100,c,"PopUpAppender.init: unable to create console window")):(sa=n,Z.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),
Ja&&D("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(f){D("PopUpAppender.init: error creating pop-up",f)}};Ra=function(){o||La()};ya=function(){Ra();aa=k};O=function(){return ga};ra=function(){if(sa&&!g(ga)&&!ba){if(ga.closed||qa&&g(ga.closed))return fa.ve(),Z.R("PopUpAppender: pop-up closed"),n;!qa&&Ia(ga)&&(qa=k)}return sa&&qa&&!ba}}this.Hx=O};V.$b=function(a,b){f.push([a,b])};a.prototype=new V;a.prototype.u={S:new I("%d{HH:mm:ss} %-5p - %m{1}%n"),
Hm:n,cu:n,Km:k,nw:k,It:k,Om:n,Zm:k,width:"600",height:"400",ov:n,Mm:l,ln:k,gm:1,mn:n,kn:k,dw:k,rn:k};a.prototype.toString=u("PopUpAppender");w.uo=a;c.prototype=new V;c.prototype.u={S:new I("%d{HH:mm:ss} %-5p - %m{1}%n"),Hm:n,Km:k,Om:n,Zm:k,width:"100%",height:"220px",Mm:l,ln:k,gm:1,mn:n,kn:n,dw:k,rn:k};c.prototype.toString=u("InPageAppender");w.ko=c;w.Gw=c})();(function(){var a,b,c,d,e;function f(m,p,s,v,x){function D(a){for(var a=a.style.cssText.split(";"),b="",c=0,d=a.length;c<d;c++){var b=a[c].split(":"),
e=[];/^\s*$/.test(b[0])||e.push(G(b[0]).toLowerCase()+":"+G(b[1]));b=e.join(";")}return b}"string"!=typeof s&&(s="");v=!!v;x=!!x;if(("undefined"==typeof p?k:p)&&m.nodeType!=b)switch(m.nodeType){case c:var K=m.tagName.toLowerCase(),p=v?F+s:"",p=p+"<",x=m.prefix?m.prefix:m.outerHTML&&RegExp("<([^:]+):"+m.tagName+"[^>]*>","i").test(m.outerHTML)?RegExp.$1.toLowerCase():"";(v=!!x)&&(p+=x+":");p+=K;for(x=0,R=m.attributes.length;x<R;x++){var I=m.attributes[x];if(I.specified&&!(I.nodeValue===l||"style"===
I.nodeName.toLowerCase()||"string"!==typeof I.nodeValue||0===I.nodeName.indexOf("_moz")))p+=" "+I.nodeName.toLowerCase()+'="',p+=I.nodeValue.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"),p+='"'}m.style.cssText&&""!==D(m)&&(p+=' style="'+D(m)+'"');if(Y(i,K)||v&&!m.hasChildNodes())p+="/>";else{for(var p=p+">",v=!(1===m.childNodes.length&&m.childNodes[0].nodeType===a),I=Y(g,K),x=0,R=m.childNodes.length;x<R;x++)p+=f(m.childNodes[x],k,s+o,v,I);m="</"+K+">";p+=v?F+s+m:m}return p;
case a:if(m.nodeType==a&&/^[ \t\r\n]*$/.test(m.nodeValue))p="";else{if(x)p=m.nodeValue;else{m=N(G(m.nodeValue));p=[];x=0;for(R=m.length;x<R;x++)p[x]=G(m[x]);p=p.join(F+s)}v&&(p=F+s+p)}return p;case d:return"<![CDATA["+m.nodeValue+"]]\>"+F;case e:p="";x=0;for(R=m.childNodes.length;x<R;x++)p+=f(m.childNodes[x],k,s);return p;default:return""}else{p="";x=0;for(R=m.childNodes.length;x<R;x++)p+=f(m.childNodes[x],k,s+o);return p}}c=1;a=3;d=4;e=9;b=11;var g=["script","pre"],i="br,img,hr,param,link,area,input,col,base,meta".split(","),
o="  ";(function(){V.$b("$",function(a,b){return document.getElementById(b[0])});V.$b("dir",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=c,g=d,i=b[d],o=0,s=j;for(s in i)o=Math.max(m(s).length,o);var D=[];for(s in i){var G="  "+Bd(m(s),o+2),I;try{I=N(m(i[s])).join(Bd(F,o+6))}catch(K){I="[Error obtaining property. Details: "+x(K)+"]"}D.push(G+I)}f[g]=D.join(F)}return c.join(F+F)});V.$b("dirxml",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=f(b[d]);return c.join(F+F)});V.$b("cd",
function(a,b,c){var d;0===b.length||""===b[0]?(d=window,b="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],b="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]])?b="Command line set to run in frame '"+b[0]+"'":(c.Mf=k,b="Frame '"+b[0]+"' does not exist",d=a.ku());a.xv(d);return b});V.$b("clear",function(a,b,c){c.Zl=n;a.clear()});V.$b("keys",function(a,b){var c=[],d;for(d in b[0])c.push(d);return c});V.$b("values",function(a,b){var c=[],d;for(d in b[0])try{c.push(b[0][d])}catch(e){Z.warn("values(): Unable to obtain value for key "+
d+". Details: "+x(e))}return c});V.$b("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);if(isNaN(d)||0>d)return c.Mf=k,""+b[0]+" is not a valid expansion depth";a.wv(d);return"Object expansion depth set to "+d})})();initialized=k})();w.Wf=function(){Eb=k;w.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",w.Wf,n);else if(window.attachEvent)window.attachEvent("onload",w.Wf);else{var Fd=window.onload;window.onload="function"!=typeof window.onload?w.Wf:function(a){Fd&&
Fd(a);w.Wf()}}return window.ey=w}(),y;
(function(){y=q();y.Ho=function(){return y.Fs};y.Dd=function(){return y.Eh};y.Jn=function(){return y.Sp};y.De=function(a){return a.layerX||0===a.layerX?new z(a.layerX,a.layerY):new z(a.offsetX,a.offsetY)};y.wk=function(a){var c=new z(a.offsetLeft,a.offsetTop);a.offsetParent&&(a=y.wk(a.offsetParent),c.b+=a.b,c.c+=a.c);return c};y.Hl=n;y.Ee=function(a){if(!a.pageX||!a.target){if(!y.Hl)y.Hl=k,WebvisuLogger.error("Evaluation of Touch events not supported because the browser uses an unexpected interface");return l}var c=
y.wk(a.target);return new z(a.pageX-c.b,a.pageY-c.c)};y.kr=navigator.userAgent.match(/OS 6(_\d)+ like Mac OS X/i);y.Bu=function(){return y.kr};y.Gk=function(a,c){a.style.cssText+="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0);";a.tabIndex=c;a.addEventListener("MSHoldVisual",function(a){a.preventDefault()})};y.xd=function(){return window.devicePixelRatio?window.devicePixelRatio:1};y.lo=function(a,c){y.Gk(a,2E3);y.Gk(c,1E3)};y.gl=function(a){if(!(a===j||a===l||0<=a.indexOf("%")))return parseFloat(a)};
y.is=function(a){if(a===j)return l;a=a.split(/[\s,]/);return 4>a.length?l:new A(parseFloat(a[2]),parseFloat(a[3]))};y.zs=function(a){try{if(0<=a.src.toLowerCase().indexOf(".svg")){WebvisuLogger.td("Derivation of SVG size for '"+a.src+"' failed. Parsing manually");var c=new XMLHttpRequest,d,e,f;c.open("GET",a.src,n);c.send();if(c.responseXML&&c.responseXML.documentElement){d=y.gl(c.responseXML.documentElement.getAttribute("width"));e=y.gl(c.responseXML.documentElement.getAttribute("height"));if(d&&
e)return new A(d,e);f=y.is(c.responseXML.documentElement.getAttribute("viewBox"));if(f!==l)return f}}}catch(g){WebvisuLogger.error("Exception during manual parsing of SVG size.")}return l};y.ho=function(a){if(a.naturalWidth&&a.naturalHeight)return new A(a.naturalWidth,a.naturalHeight);if(a.width&&a.height)return new A(a.width,a.height);a=y.zs(a);return a!==l?a:new A(0,0)};y.gj=function(){return y.Cs};y.mk="undefined"!==typeof MozBlobBuilder;y.nk=n;if(y.mk){var a=navigator.userAgent.indexOf("rv");
if(-1!==a)a+=3,y.nk=9<=parseInt(navigator.userAgent.substr(a,navigator.userAgent.indexOf(".",a)-a),10)}y.Cs=-1!==navigator.userAgent.indexOf("Safari");y.Eh=function(){var a="undefined"===typeof ArrayBuffer||"undefined"==typeof Uint8Array||"undefined"!==typeof Int8Arary;a||(a=new ArrayBuffer(4),a=new Int8Array(a,1,2),a=2!==a.byteLength);return a}();y.Sp=function(){if(y.Eh)return n;var a="undefined"!==typeof DataView,c,d,e,f;if(/opera [56789]|opera\/[56789]/i.test(navigator.userAgent)||/MSIE (\d+\.\d+);/.test(navigator.userAgent))return n;
try{if(a){c=new ArrayBuffer(8);d=new Int8Array(c);for(f=0;8>f;++f)d[f]=f;e=new DataView(c);if(a="function"===typeof e.getFloat64&&"function"===typeof e.getFloat32&&"function"===typeof e.getInt32&&"function"===typeof e.getUint32&&"function"===typeof e.getInt16&&"function"===typeof e.getUint16&&"function"===typeof e.getInt8&&"function"===typeof e.getInt8)e.getFloat64(0),e.getFloat32(0),e.getInt32(0),e.getUint32(0),e.getInt16(0),e.getUint16(0),e.getInt8(0),e.getInt8(0)}}catch(g){return n}return a}();
y.Fs=y.Eh||!y.mk||y.nk})();var Configuration;
Configuration=function(){this.PlcAddress="0101";this.UseLocalHost=k;this.CommBufferSize=5E4;this.ErrorReconnectTime=1E4;this.Application="Application";this.UpdateRate=200;this.BestFit=n;this.StartVisu="Visualization";this.PollingRegistrationInterval=100;this.TimeMeasurements="";this.LogLevel="INFO";this.MaxUnusedImageAge=2E4;this.MaxUndrawnImageAge=1E4;this.NumCachedImages=15;this.ChangeWindowTitle=k;this.TooltipFont="11px Arial";this.DefaultKeyActions=k;this.ANSIStringEncoding="iso-8859-1";this.CommitEditcontrolOnClickOut=
k;this.HandleTouchEvents=n;this.FuzzyTransparencyColorEvaluation=k;this.TouchHandlingActive=this.Benchmarking=this.HasKeyboard=this.LoadImagesById=n;this.ClientName="";this.ScaleTypeIsotropic=this.SemiTransparencyActive=n;this.GesturesFlickPanThresholdPxPerSecond=1E3;this.GesturesPanFlickTimeThresholdMs=40;this.GesturesTouchMouseTimeThresholdMs=250;this.GesturesPanClickThresholdDistSquare=10;this.PostDataInHeader=0;this.WorkaroundDisableMouseUpDownAfterActiveTouch=k;this.DebugOnlyDiagnosisDisplay=
this.DebugOnlyPrintTouchRectangles=this.DebugOnlyPrintGestures=this.DebugOnlyPrintRawTouches=this.DebugOnlyPrintPaintCommands=this.WorkaroundDisableSVGAspectRatioWorkaround=this.WorkaroundDisableResizeHandling=n};
Configuration.prototype={ow:function(){"string"!==typeof this.PlcAddress&&h(Error("Plc address must be of type string"));"boolean"!==typeof this.UseLocalHost&&h(Error("UseLocalHost must be of type boolean"));"number"!==typeof this.CommBufferSize&&h(Error("CommBufferSize must be of type number"));"number"!==typeof this.ErrorReconnectTime&&h(Error("ErrorReconnectTime must be of type number"));"string"!==typeof this.Application&&h(Error("Application must be of type string"));"number"!==typeof this.UpdateRate&&
h(Error("UpdateRate must be of type number"));"boolean"!==typeof this.BestFit&&h(Error("BestFit must be of type boolean"));"string"!==typeof this.StartVisu&&h(Error("StartVisu must be of type string"));"number"!==typeof this.PollingRegistrationInterval&&h(Error("PollingRegistrationInterval must be of type number"));"string"!==typeof this.TimeMeasurements&&h(Error("TimeMeasurements must be of type string"));"string"!==typeof this.TooltipFont&&h(Error("TooltipFont must be of type string"));"boolean"!==
typeof this.DefaultKeyActions&&h(Error("DefaultKeyActions must be of type boolean"));"string"!==typeof this.ANSIStringEncoding&&h(Error("ANSIStringEncoding must be of type string"));"boolean"!==typeof this.FuzzyTransparencyColorEvaluation&&h(Error("FuzzyTransparencyColorEvaluation must be of type boolean"));"boolean"!==typeof this.LoadImagesById&&h(Error("LoadImagesById must be of type boolean"));"boolean"!==typeof this.Benchmarking&&h(Error("Benchmarking must be of type boolean"));"boolean"!==typeof this.TouchHandlingActive&&
h(Error("TouchHandlingActive must be of type boolean"));"boolean"!==typeof this.HasKeyboard&&h(Error("HasKeyboard must be of type boolean"));"boolean"!==typeof this.SemiTransparencyActive&&h(Error("SemiTransparencyActive must be of type boolean"));"boolean"!==typeof this.ScaleTypeIsotropic&&h(Error("ScaleTypeIsotropic must be of type boolean"));("number"!==typeof this.GesturesFlickPanThresholdPxPerSecond||0>this.GesturesFlickPanThresholdPxPerSecond)&&h(Error("GesturesFlickPanThresholdPxPerSecond must be of type nonnegative number"));
("number"!==typeof this.GesturesPanFlickTimeThresholdMs||0>this.GesturesPanFlickTimeThresholdMs)&&h(Error("GesturesPanFlickTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesTouchMouseTimeThresholdMs||0>this.GesturesTouchMouseTimeThresholdMs)&&h(Error("GesturesTouchMouseTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesPanClickThresholdDistSquare||0>this.GesturesPanClickThresholdDistSquare)&&h(Error("GesturesPanClickThresholdDistSquare must be of type nonnegative number"));
("number"!==typeof this.PostDataInHeader||0>this.PostDataInHeader||2<this.PostDataInHeader)&&h(Error("PostDataInHeader must be a number in the range 0..2"));"boolean"!==typeof this.DebugOnlyPrintPaintCommands&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintRawTouches&&h(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintGestures&&h(Error("DebugOnlyPrintGestures must be of type boolean"));"boolean"!==
typeof this.DebugOnlyPrintTouchRectangles&&h(Error("DebugOnlyPrintTouchRectangles must be of type boolean"));"boolean"!==typeof this.DebugOnlyDiagnosisDisplay&&h(Error("DebugOnlyDiagnosisDisplay must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableMouseUpDownAfterActiveTouch&&h(Error("WorkaroundDisableMouseUpDownAfterActiveTouch must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableResizeHandling&&h(Error("WorkaroundDisableResizeHandling must be of type boolean"));this.Cm();
this.ma()},Cm:function(){return new ua(this.TooltipFont)},ma:function(){return new ha(this.ANSIStringEncoding)},ne:function(){return new ta(this.ANSIStringEncoding)}};var Ca;Ca=function(a,b,c,d,e){this.CommBufferSize=a;this.ua=b;this.Ge=c;this.Kw=d;this.Li=43981;this.U=0;this.Xi="";this.Io=e};var Fa;Fa=function(a,b,c,d,e,f,g,i,o){this.Md=a;this.Va=d%360;this.Dp=e;this.Ep=f;this.Wg=g;(0===this.Wg||2===this.Wg)&&180<this.Va?(this.Va-=180,this.Oe=i?c:o,this.Kd=b):(this.Oe=b,this.Kd=i?c:o)};
Fa.prototype={ru:function(a,b){if(0===b.i()||0===b.h())return"#ffffff";switch(this.Wg){case 0:return this.Fj(a,b,n);case 1:return this.xp(a,b);case 2:return this.Fj(a,b,k);default:return"#ffffff"}},Fj:function(a,b,c){var d,e,f,g;f=b.ju();var i;d=90<this.Va?B.Gb(180-this.Va):B.Gb(this.Va);e=f.b-Math.max(b.h(),b.i())*Math.cos(d);g=f.c-Math.max(b.h(),b.i())*Math.sin(d);this.Rk(f.b,f.c,e,g,b.d,b.e,b.d,b.s)?(f=d,d=b.i()/2*Math.tan(f),d=b.h()/2-d,f=Math.PI/2-f,f=d*Math.cos(f),e=f*f/d,g=d-e,i=Math.sqrt(Math.max(0,
g*e)),d=b.d-i,f=b.e+g,e=b.q+i,g=b.s-g):this.Rk(f.b,f.c,e,g,b.d,b.e,b.q,b.e)?(f=d,d=b.h()/2/Math.tan(f),d=b.i()/2-d,f=Math.PI/2-f,f=Math.cos(f)*d,e=f*f/d,i=Math.sqrt(Math.max(0,(d-e)*e)),d=b.d+e,f=b.e-i,e=b.q-e,g=b.s+i):(d=b.d,f=b.e,e=b.q,g=b.s);90<this.Va&&(d=b.q-(d-b.d),e=b.q-(e-b.d));a=a.createLinearGradient(d,f,e,g);a.addColorStop(0,this.Oe);c?(a.addColorStop(0.45,this.Kd),a.addColorStop(0.55,this.Kd),a.addColorStop(1,this.Oe)):a.addColorStop(1,this.Kd);return a},xp:function(a,b){var c=new z(b.d+
b.i()*this.Dp,b.e+b.h()*this.Ep),d=this.Xq(b,c),c=a.createRadialGradient(c.b,c.c,0,c.b,c.c,d);c.addColorStop(0,this.Oe);c.addColorStop(1,this.Kd);return c},Rk:function(a,b,c,d,e,f,g,i){var o;o=(i-f)*(c-a)-(g-e)*(d-b);g=(g-e)*(b-f)-(i-f)*(a-e);a=(c-a)*(b-f)-(d-b)*(a-e);if(0===o)return g===a;b=g/o;o=a/o;return 0<=b&&1>=b&&0<=o&&1>=o},Xq:function(a,b){var c=[],d,e;c[0]=this.Pe(new z(a.d,a.e),b);c[1]=this.Pe(new z(a.q,a.e),b);c[2]=this.Pe(new z(a.q,a.s),b);c[3]=this.Pe(new z(a.d,a.s),b);for(d=e=0;4>d;++d)e=
Math.max(e,c[d]);return Math.sqrt(e)},Pe:function(a,b){return(a.b-b.b)*(a.b-b.b)+(a.c-b.c)*(a.c-b.c)}};var Ma;Ma=function(a){this.a=a;this.Nd()};
Ma.prototype={Nd:function(){var a=this.a.T.G.canvas,b=this;a.addEventListener("keydown",function(a){b.Fr(a)},n);a.addEventListener("keypress",function(a){b.Gr(a)},n);a.addEventListener("keyup",function(a){b.Hr(a)},n)},Gr:function(a){var b=this.a.l,a=this.Lq(a);b!==l&&a!==l&&this.a.Ab(C.Dn(b.U,a))},Fr:function(a){var b=this.Bk(a),c=this.a.l;this.Gj(a);c!==l&&b!==l&&this.a.Ab(C.Ii(E.Wn,c.U,b.key,b.Bb))},Hr:function(a){var b=this.Bk(a),c=this.a.l;this.Gj(a);c!==l&&b!==l&&this.a.Ab(C.Ii(E.Xn,c.U,b.key,
b.Bb))},Bk:function(a){var a=a?a:event,b=a.keyCode,c=0;if(16<=b&&18>=b)return l;a.shiftKey&&(c|=1);a.altKey&&(c|=2);a.ctrlKey&&(c|=4);return{key:b,Bb:c}},Lq:function(a){var a=a?a:event,b=0;if(a.charCode)b=a.charCode;else if(a.which)b=a.which;if(0===b||a.altKey!==j&&a.altKey===k&&48<=b&&57>=b)return l;if(a.ctrlKey!==j&&a.ctrlKey||a.altKey!==j&&a.altKey)if(!(a.ctrlKey!==j&&a.ctrlKey)||!(a.altKey!==j&&a.altKey))return l;return String.fromCharCode(b)},Gj:function(a){this.a.j!==l&&!this.a.j.DefaultKeyActions&&
a.preventDefault&&a.preventDefault()}};var Na;Na=function(a){this.a=a;this.df=n;this.$g=0;this.Nd()};
Na.prototype={cn:r("df"),Jv:r("$g"),Nd:function(){var a=this.a.T.G.canvas,b=this;a.addEventListener("mouseup",function(a){b.Mr(a)},n);a.addEventListener("mousedown",function(a){b.Jr(a)},n);a.addEventListener("mousemove",function(a){b.Kr(a)},n);a.addEventListener("mouseout",function(a){b.Lr(a)},n);a.addEventListener("touchstart",function(a){b.Sd(a)},k);a.addEventListener("touchmove",function(a){b.Sd(a)},k);a.addEventListener("touchend",function(a){b.Sd(a)},k)},Ve:function(a,b){this.a.l!==l&&this.a.Ab(C.Ji(b,
this.a.l.U,y.De(a)))},Jk:function(a){return 1===a.which},Mr:function(a){H.fa()<this.$g||this.Jk(a)&&this.Ve(a,E.Ni)},Jr:function(a){!(H.fa()<this.$g)&&this.Jk(a)&&(this.a.Qb.Jm()&&this.a.Qb.Rh(this.a.j.CommitEditcontrolOnClickOut),this.a.Ic.Pu(a),this.Ve(a,E.gg))},Kr:function(a){this.df||this.Ve(a,E.hg)},Lr:function(a){this.Ve(a,E.ao)},Sd:function(a){if(this.a.j!==l&&this.a.j.HandleTouchEvents&&!this.a.j.TouchHandlingActive){var b,c=l;switch(a.type){case "touchstart":b=E.gg;this.df=k;break;case "touchmove":b=
E.hg;break;case "touchend":b=E.Ni;this.df=n;break;default:return}a.touches&&1<=a.touches.length?c=y.Ee(a.touches[0]):a.changedTouches&&1<=a.changedTouches.length&&(c=y.Ee(a.changedTouches[0]));c!==l&&(this.a.l!==l&&(b===E.gg&&this.a.Ic.kw(c),this.a.Ab(C.Ji(b,this.a.l.U,c))),a.preventDefault())}}};var Oa;Oa=function(a,b,c){this.Lc=a;this.Rp=b;this.Hg=c;this.cl=J.p(1E3)};Oa.prototype={Ou:function(){return this.Rp-this.cl.size()},dc:t("cl"),finish:function(){this.Hg=0},Lf:function(){return 0===this.Hg}};
var Pa;Pa=r("a");Pa.prototype={uv:function(){var a=this.a.Ga(),b=this.a.Wa();b.tw(this.a.l.U);a.Za(b.Xa(),this,k)},Ya:q(),I:q()};var Ta;
Ta=function(a,b,c,d){this.a=a;var b=this.xk(b),c=this.xk(c),e=1;(b.width!==c.width||b.height!==c.height)&&h(Error("Expected two canvasses of the same size"));y.lo(b,c);this.ga=this.yk(b);this.G=this.yk(c);this.gt=Ua.io();d&&(this.Em()&&(e=y.xd()),this.qm(e));this.Ug=new Va;this.uk=new Wa(this.G);this.Dg=new Wa(this.ga);this.$d=n;this.bh=new Xa;this.ah=new Ya(this.a);this.Gh=new cb(this);this.Hh=new db(this);this.Fg=n;this.Yp=new eb(a);this.hb=new fb};
Ta.prototype={tc:function(){return new L(0,0,this.ga.canvas.width,this.ga.canvas.height)},clear:function(){this.G.clearRect(0,0,this.G.canvas.width,this.G.canvas.height);this.ga.fillStyle="#ffffff";this.ga.fillRect(0,0,this.ga.canvas.width,this.ga.canvas.height)},iu:function(){var a=H.rg(this.ga.canvas);return new z(a.d,a.e)},getContext:function(){var a,b;a=l;b=this.hb.Pl();-1!==b&&(a=this.hb.ki(b));return this.$d?a!==l?a.ga:this.ga:a!==l?a.Jg:this.G},v:function(){var a,b;a=l;b=this.hb.Pl();-1!==
b&&(a=this.hb.ki(b));return this.$d?a!==l?a.nx():this.Dg:a!==l?a.rp:this.uk},mv:function(){this.$d=k},nv:function(){this.$d=n},Et:function(){this.Fg=k},$t:function(a,b){this.a.Ic.ew();this.Ug.clear();this.G.save();this.uk.apply();this.Dg.apply();var c=this.ns(a),d,e=n,f=this;for(d=0;d<c.length;++d)c[d]instanceof gb&&!c[d].Cu(this.ah,this.bh)&&(e=k),c[d]instanceof hb&&c[d].execute(this);this.Bp()?(e?(WebvisuLogger.R("Waiting for image(s) to load"),this.ah.ut(function(){WebvisuLogger.R("Loading image(s) finished so continue with drawing");
f.$j(c,b)})):this.$j(c,b),this.a.ka!==l&&this.a.ka.m.bf&&this.bq()):b()},Ru:function(){(new ib).ot("DevicePixelRatioChanged","true")},Em:function(){return(new ib).zu("DevicePixelRatioChanged")},Cg:function(a){this.ga.canvas.width=this.G.canvas.width=a.D;this.ga.canvas.height=this.G.canvas.height=a.F},Yj:function(){return new A(document.documentElement.clientWidth,document.documentElement.clientHeight)},qm:function(a){this.gt&&(a=1);try{var b=this.Yj(),c;this.Cg(b.scale(a));c=this.Yj();(c.D>b.D||c.F>
b.F)&&this.Cg(c.scale(a))}catch(d){WebvisuLogger.warn("Exception during resizing canvasses: "+d),this.Cg((new A(window.innerWidth,window.innerHeight)).scale(a))}},$j:function(a,b){if(this.Fg)this.a.fm(),this.Fg=n;var c,d,e=[];for(c=0;c<a.length;++c)d=a[c],d instanceof kb?d.execute(this):d instanceof lb&&e.push(d);this.Ug.st(this.G);for(c=0;c<a.length;++c)d=a[c],!(d instanceof kb)&&!(d instanceof lb)&&!(d instanceof hb)&&a[c].execute(this);this.G.restore();for(c=0;c<e.length;++c)e[c].execute(this);
this.a.Ic.Yt(0===a.length);this.Yp.Cf(this.G);b()},Bp:function(){return this.a.ka===l||this.a.ka.m.bf||!this.a.ka.m.Fm()},ns:function(a){var b=Array(a.Lc),c,d;if(0<a.Lc){c=M.p(a.dc().dc(),this.a.l.ua,this.a.ma());c=new mb(c);for(d=0;d<a.Lc;++d)if(c.z()<c.size()-4){var e=c.z(),f=c.getUint32(),g=c.getUint32();b[d]=nb.En(g,c,f,this);c.seek(e+f)}}return b},xk:function(a){var b=window.document.getElementById(a);b===l&&h(Error("Canvas "+a+" does not exist"));return b},yk:function(a){a=a.getContext("2d");
a===l&&h(Error("Creating graphics context failed"));return a},bq:function(){var a,b,c,d,e=this.a.ka;if(e!==l)for(a=0;a<e.ia.t.length;++a)if(c=e.ia.uu(a),c.info().li(0)!==l&&(b=e.fe,b!==l))d=this.G,d.save(),b.Rm(this,c),d.restore()}};var ob;ob=function(a,b,c){this.Jg=a;this.ga=b;this.rp=new Wa(this.Jg);this.Dg=new Wa(this.ga);this.$c=c};ob.prototype={size:t("$c")};var Wa;
Wa=function(a){this.Uc=l;this.Pg="#ffffff";this.Dk=n;this.hh="#000000";this.Ze=n;this.ih=0.5;this.Cl="#000000";this.xb="12px Arial";this.sk=12;this.ja=a;this.uh=new z(0,0);this.th=new z(0,0)};
Wa.prototype={Ev:function(a,b){this.Pg=a;this.Dk=b;this.ja.fillStyle=this.Pg},Mv:function(a,b,c,d,e,f){this.ih=a;this.hh=b;this.Ze=c;this.Mb=d;this.Nb=e;this.Ed=f;this.ja.strokeStyle=this.hh;this.ja.lineWidth=Math.max(1,this.ih);this.ja.lineCap=this.Mb;this.ja.lineJoin=this.Nb;this.ja.miterLimit=this.Ed},$v:function(a,b,c){this.xb=a;this.sk=b;this.Cl=c;this.ja.font=this.xb},apply:function(){this.ja.fillStyle=this.Pg;this.ja.strokeStyle=this.hh;this.ja.lineWidth=this.ih;this.ja.font=this.xb;this.ja.lineCap=
this.Mb;this.ja.lineJoin=this.Nb;this.ja.miterLimit=this.Ed},ei:function(){return this.Uc===l?this.Dk:this.Uc.Md},ec:function(){return this.Uc!==l},Gv:r("Uc"),Uf:function(){this.Uc=l;this.apply()},zf:function(a){this.ja.fillStyle=this.Uc.ru(this.ja,a)}};var fb;fb=function(){this.Zd=[];this.Fd=[];this.fr=n};
fb.prototype={ki:function(a){return this.Zd.length>a?this.Zd[a]:l},nt:function(a,b){this.Zd[a]=b},lv:function(a){this.Zd.length>a&&(this.Zd[a]=l)},Pl:function(){return 0<this.Fd.length?this.Fd[this.Fd.length-1]:-1},bv:function(a){this.Fd.push(a)},$u:function(){return this.Fd.pop()},Kv:r("fr")};var pb;pb=q();pb.fp="3.5.9.0 (dev)";var qb;
qb=function(a,b,c){this.hr();WebvisuLogger.info("Webvisualization starting");WebvisuLogger.info("Version: "+pb.fp);this.ka=this.Zc=l;this.Qb=new rb(this);this.vh();this.T=new Ta(this,a,b,c);this.Nd();this.ex=new Ma(this);this.ph=new Na(this);this.Ic=new sb(this);this.ir(b);this.sf=l;this.Mg=new tb(new Configuration);this.Ah("Loading Webvisualization");this.Ue=l;this.de=-1;this.Nc=new ub(this);this.jk()};window.Webvisu=qb;
qb.prototype={jk:function(){var a=this.Nc;if(this.Ue!==l)this.Oa!==l&&this.Oa.push(this.Ue),this.Ue=l;this.Nc=l;try{a.execute()}catch(b){this.error("Unexpected Exception: "+b)}},vh:function(){this.Oa=this.j=this.l=l;this.jx=this.il=n;if(this.ka!==l)this.ka.Vh(),this.ka=l;this.Qb.Jm()&&this.Qb.close();this.Zc!==l&&this.Zc.detach();WebvisuExtensionMgr.St()},Nd:function(){var a=this;window.addEventListener("unload",function(b){a.Ir(b)},n)},ir:function(a){var b="WebvisuAutotestInst";window[b]=new WebvisuAutotest(this,
a);window.WebvisuAutotest_raiseMouse=window[b].raiseMouse;window.WebvisuAutotest_raiseKey=window[b].raiseKey;b="WebvisuExtensionMgr";window[b]=WebvisuExtensionMgr;window.WebvisuExtensionMgr_register=window[b].register;window.WebvisuExtensionMgr_openControlRelative=window[b].openControlRelative},hr:function(){WebvisuLogger=w.bi();var a=window.document.getElementById("WebvisuLoggingElem");a!==l?(a=new w.ko(a),a.Tv(),a.Yf(n),a.ni(100)):(a=new w.yn,a.aw());WebvisuLogger.Ql(a);WebvisuLogger.kb(w.Hb.zc)},
Ah:function(a){this.sf!==l&&this.fm();this.sf=new vb(a,this.T)},fm:function(){this.sf.close();this.sf=l},Ga:function(){return new wb(this)},Wa:function(){return this.l===l?new xb(k,43981):new xb(this.l.ua,this.l.Li)},an:function(a){"TRACE"===a.LogLevel?WebvisuLogger.kb(w.Hb.yg):"DEBUG"===a.LogLevel?WebvisuLogger.kb(w.Hb.wd):"INFO"===a.LogLevel?WebvisuLogger.kb(w.Hb.zc):"WARNING"===a.LogLevel?WebvisuLogger.kb(w.Hb.ax):"ERROR"===a.LogLevel?WebvisuLogger.kb(w.Hb.yd):"FATAL"===a.LogLevel?WebvisuLogger.kb(w.Hb.Ri):
WebvisuLogger.warn("Unexpected loglevel: "+a.LogLevel);this.j=a;this.Mg=new tb(a);if(this.j.TouchHandlingActive)this.ka=new yb(this);if(this.j.BestFit&&!this.j.WorkaroundDisableResizeHandling){if(this.Zc===l)this.Zc=new zb(this);this.Zc.tt()}},ma:function(){return this.Mg.Kg},ne:function(){return this.Mg.Rc},en:function(a){!window.btoa&&a&&(WebvisuLogger.warn("POST data in header should be done but is not supported by the browser"),a=n);this.il=a},yv:r("l"),Z:function(a,b){this.Nc=a;0>=b&&(b=0);this.wl(b)},
Dv:r("Ue"),Ls:r("Nc"),error:function(a){WebvisuLogger.error(a);a=this.j!==l?this.j.ErrorReconnectTime:1E4;WebvisuLogger.info("Will restart in "+a+"ms");this.vh();this.xs();this.Ah("An error happened; will automatically restart");this.Z(new Ab(this),a)},Mu:function(){this.on("The webvisualization license expired.","License Expired")},on:function(a,b){WebvisuLogger.warn(a+" Webvisualization is stopped");this.Ah(b);this.vh();this.Ls(new Ab(this))},Cv:r("Oa"),wl:function(a){var b=this;this.de=window.setTimeout(function(){b.jk()},
a)},Ab:function(a){this.Oa!==l&&(this.Oa.push(a),this.Nc!==l&&this.Nc.yt()&&(clearTimeout(this.de),this.wl(0)))},Ir:function(){this.l!==l&&(new Pa(this)).uv()},xs:function(){var a=this.T.G,b;for(b=0;20>b;++b)a.restore()}};var WebvisuAutotest;WebvisuAutotest=function(a,b){this.a=a;this.Ij=b};
WebvisuAutotest.prototype={raiseMouse:function(a,b,c){var d,e,f=window.document.getElementById(this.Ij),g;d="mousemove"!==a;e=window;g=window.document.createEvent("MouseEvents");g.initMouseEvent(a,k,d,e,0,b,c,b,c,n,n,n,n,0,f);Object.defineProperty(g,"layerX",{value:b});Object.defineProperty(g,"layerY",{value:c});g.button=1;g.which=1;f.dispatchEvent(g)},raiseKey:function(a,b,c,d,e){var f=this.a.Qb.Ma;f!==l?13===b||27===b?this.ll(f,a,b,c,d,e):this.ms(f,b,a,c):this.ll(window.document.getElementById(this.Ij),
a,b,c,d,e)},ms:function(a,b,c,d){if("keypress"===c){var c=a.selectionStart,e=a.selectionEnd,b=String.fromCharCode(b);d||(b=b.toLowerCase());a.value=a.value.substr(0,c)+b+a.value.substr(e);c===e&&this.Kq(a);this.Js(a,c+1)}},Js:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(k);c.moveEnd("character",b);c.moveStart("character",b);c.select()}},Kq:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),
b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},ll:function(a,b,c,d,e,f){var g;window.document.createEventObject!==j?(g=document.createEvent("Events"),g.initEvent(b,k,k),g.which=c,g.keyCode=c,g.shiftKey=d,g.ctrlKey=f,g.altKey=e,g.metaKey=n):(g=window.document.createEvent("KeyboardEvent"),g.initKeyboardEvent===j?g.initKeyEvent(b,k,k,l,f,e,d,n,c,c,c,a):g.initKeyboardEvent(b,k,k,l,f,e,d,n,c,c,c,a),delete g.keyCode,
Object.defineProperty(g,"keyCode",{value:c}),delete g.charCode,Object.defineProperty(g,"charCode",{value:c}),delete g.shiftKey,Object.defineProperty(g,"shiftKey",{value:d}),delete g.ctrlKey,Object.defineProperty(g,"ctrlKey",{value:f}),delete g.altKey,Object.defineProperty(g,"altKey",{value:e}),delete g.metaKey,Object.defineProperty(g,"metaKey",{value:n}),delete g.which,Object.defineProperty(g,"which",{value:c}),delete g.target,Object.defineProperty(g,"target",{value:a}));a.dispatchEvent(g)}};var WebvisuExtensionMgr;
(function(){var a;a=function(){this.Og=[];this.Fc={}};a.prototype={register:function(a){a===l&&h(Error("null value not expected"));"function"!==typeof a.instantiateIf&&h(Error("function instantiateIf of extensionFactory expected"));this.Og.push(a)},openControlRelative:function(a,c,d,e,f,g){a===l&&h(Error("null value not expected"));"number"!==typeof c&&h(new TypeError("Expected numeric value"));"number"!==typeof d&&h(new TypeError("Expected numeric value"));"number"!==typeof e&&h(new TypeError("Expected numeric value"));
"number"!==typeof f&&h(new TypeError("Expected numeric value"));g===l&&h(Error("null value not expected"));c=new L(c,d,c+e,d+f);d=H.rg(g);c=c.fc(d.d,d.e);H.pg(a,c);a.style.zIndex=300;g.parentNode.appendChild(a)},lw:function(a){var c;for(c=0;c<this.Og.length;++c){var d=this.Og[c].instantiateIf(a);if(d!==l&&d!==j){if(this.et(d))return d;break}}return l},St:function(){var a;for(a=0;a<this.Fc.length;++a)this.Fc[a]&&this.om(a);this.Fc=[]},Mt:function(a,c,d,e){a.create(d.d,d.e,d.i(),d.h(),e);this.Fc[c]=
a},om:function(a){var c=this.Ye(a);c!==l&&(c.destroy(),delete this.Fc[a])},Lt:function(a,c){var d=this.Ye(a);d!==l&&d.setVisibility(c)},Kt:function(a,c){var d=this.Ye(a);d!==l&&d.move(c.d,c.e,c.i(),c.h())},Jt:function(a,c,d){a=this.Ye(a);return a===l?l:a.invoke(c,d)},Ye:function(a){var c=this.Fc[a];return!c?(WebvisuLogger.warn("Not existing extension with id "+a+" accessed; ignored"),l):c},et:function(a){return!this.Id(a,"create")||!this.Id(a,"setVisibility")||!this.Id(a,"move")||!this.Id(a,"invoke")||
!this.Id(a,"destroy")?n:k},Id:function(a,c){return"function"!==typeof a[c]?(WebvisuLogger.warn("Extension object is missing an implementation of '"+c+"'"),n):k}};WebvisuExtensionMgr=new a})();var J;J=function(a){a===j&&(a=10);this.n=new ArrayBuffer(a);this.qb=new Uint8Array(this.n);this.Y=0};J.p=function(a){return y.Dd()?new Bb:new J(a)};
J.prototype={ys:function(){this.rl(this.Ar(this.n.byteLength))},rl:function(a){var b=this.qb;this.n=new ArrayBuffer(a);this.qb=new Uint8Array(this.n);for(a=0;a<this.Y;++a)this.qb[a]=b[a]},Ar:function(a){return 500>a?2*a:Math.floor(1.3*a)},pf:function(a,b){this.qb[a]=b},Wm:function(a){a>this.n.byteLength&&this.rl(a)},Tl:function(a){this.Y>=this.n.byteLength&&this.ys();var b=this.Y;this.Y++;this.pf(b,a)},Yl:function(a,b,c){var d=new Uint8Array(a),e;this.Wm(this.size()+c);if(200<c&&0===b%4&&0===this.Y%
4&&!y.gj()){var f=Math.floor(c/4);e=Math.floor(this.Y/4);var a=new Uint32Array(a,4*Math.floor(b/4),f),g=new Uint32Array(this.n,4*e,f),i=c-4*f;for(e=0;e<f;++e)g[e]=a[e];for(e=0;e<i;++e)this.qb[this.Y+e+4*f]=d[b+e+4*f]}else for(e=0;e<c;++e)this.qb[this.Y+e]=d[b+e];this.Y+=c},mi:function(a,b){this.pf(a,b)},um:function(a){return this.qb[a]},size:t("Y"),dc:function(){var a=new ArrayBuffer(this.Y),b=new Uint8Array(this.n),c,d=new Uint8Array(a);for(c=0;c<this.Y;++c)d[c]=b[c];return a}};var Bb;
(function(){function a(a){return String.fromCharCode((a>>4)+65)+String.fromCharCode((a&15)+65)}Bb=function(){this.n="";this.Y=0};Bb.prototype={pf:function(b,c){var d=l,e=l,f;0<b&&(d=this.n.substr(0,2*b));b<this.Y-1&&(e=this.n.substr(2*b+2,this.n.length-2*b-2));f="";d!==l&&(f=d);f=f.concat(a(c));e!==l&&(f=f.concat(e));this.n=f},Wm:q(),Tl:function(b){this.n=this.n.concat(a(b));this.Y++},rt:function(b){var c="",d;for(d=0;d<b.length;++d)c=c.concat(a(b.charCodeAt(d)));this.n=this.n.concat(c);this.Y+=c.length/
2},Yl:function(a,c,d){this.n=this.n.concat(a.substr(2*c,2*d));this.Y+=d},mi:function(a,c){this.pf(a,c)},um:function(a){return this.n.charCodeAt(2*a)-65<<4|this.n.charCodeAt(2*a+1)-65},size:t("Y"),dc:t("n")}})();var M;
(function(){function a(a,b,c){return function(){if(0===this.f%c&&(1===c||this.J))try{return(new a[b+"Array"](this.n,this.f,1))[0]}catch(d){}return l}}function b(a,b){return function(){var c=this["getOptimized"+a]();c===l&&(c=this["_get"+a]());this.f+=b;return c}}function c(c,d){M.prototype["getOptimized"+c]=a(this,c,d);M.prototype["get"+c]=b(c,d)}M=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader requires an ArrayBuffer"));b===j&&h(Error("Byteorder must be explicitly assigned"));
c===j&&(c=(new Configuration).ma());d===j&&(d=0);if(e===j)e=a.byteLength;c instanceof ha||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.J=b;this.Pb=e;this.n=a;this.f=d;this.qb=new Uint8Array(this.n);this.Vb=c;this.k=new Gb(this,this.J)};M.p=function(a,b,c,d,e){return y.Jn()?new Hb(a,b,c,d,e):y.Dd()?new Ib(a,b,c,d,e):new M(a,b,c,d,e)};M.prototype={md:t("J"),sd:t("Vb"),getString:function(a,
b){var c=a*(b?2:1),d;(0>a||this.f+c>this.n.byteLength)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.k.Um(this.n,this.f,a,c,b,this.Vb);this.f+=c;return d},Cb:function(a){return this.k.Cb(a)},kd:function(){return String.fromCharCode(this.getUint8())},rc:function(){return this.f>=this.Pb},z:t("f"),seek:r("f"),size:t("Pb"),Sq:function(){return this.k.jm()},Rq:function(){return this.k.im()},Uq:function(){return this.k.lm()},$q:function(){return this.k.Uh()},Tq:function(){return this.k.km()},Zq:function(){return this.k.Th()},
Vq:function(){return this.k.mm()},C:function(a){return this.qb[a]},getUint8:function(){var a=this.C(this.f);this.f++;return a},me:t("n")};var d={Int8:1,Int16:2,Int32:4,Uint16:2,Uint32:4,Float32:4,Float64:8},e,f;for(e in d)if(d.hasOwnProperty(e))c(e,d[e]),f="_getFloat64",M.prototype[f]=M.prototype.Sq,f="_getFloat32",M.prototype[f]=M.prototype.Rq,f="_getInt32",M.prototype[f]=M.prototype.Uq,f="_getUint32",M.prototype[f]=M.prototype.$q,f="_getInt16",M.prototype[f]=M.prototype.Tq,f="_getUint16",M.prototype[f]=
M.prototype.Zq,f="_getInt8",M.prototype[f]=M.prototype.Vq})();var mb;mb=r("k");
mb.prototype={md:function(){return this.k.md()},sd:function(){return this.k.sd()},getString:function(a,b){return this.k.getString(a,b)},Cb:function(a){return this.k.Cb(a)},kd:function(){return this.k.kd()},rc:function(){return this.k.rc()},z:function(){return this.k.z()},seek:function(a){this.k.seek(a)},size:function(){return this.k.size()},getFloat64:function(){this.Gc(8);return this.k.getFloat64()},getFloat32:function(){this.Gc(4);return this.k.getFloat32()},getInt32:function(){this.Gc(4);return this.k.getInt32()},
getUint32:function(){this.Gc(4);return this.k.getUint32()},getInt16:function(){this.Gc(2);return this.k.getInt16()},getUint16:function(){this.Gc(2);return this.k.getUint16()},getInt8:function(){return this.k.getInt8()},getUint8:function(){return this.k.getUint8()},C:function(a){return this.k.C(a)},me:function(){return this.k.me()},Gc:function(a){var b=this.k.z();8!==a&&4!==a&&2!==a||0===b%a||this.k.seek(b+a-b%a)}};var Hb;
Hb=function(a,b,c,d,e){a instanceof ArrayBuffer||h(new TypeError("BinaryReader_DataView requires an ArrayBuffer"));b===j&&h(Error("Byteorder must be explicitly assigned"));c===j&&(c=(new Configuration).ma());d===j&&(d=0);if(e===j)e=a.byteLength;c instanceof ha||h(new TypeError("BinaryReader_DataView requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&h(Error("Valid data range exceeded"));this.J=b;this.Zb=new DataView(a,0,e+d);this.Pb=e;this.n=a;this.f=d;this.Vb=
c;this.k=new Gb(this,this.J)};
Hb.prototype={md:t("J"),sd:t("Vb"),getString:function(a,b){var c=a*(b?2:1),d;(0>a||2*(this.f+c)>this.n.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.k.Um(this.n,this.f,a,c,b,this.Vb);this.f+=c;return d},Cb:function(a){return this.k.Cb(a)},kd:function(){return String.fromCharCode(this.getUint8())},rc:function(){return this.f>=this.Pb},z:t("f"),seek:r("f"),size:t("Pb"),getFloat64:function(){var a=this.Zb.getFloat64(this.f,this.J);this.f+=8;return a},getFloat32:function(){var a=this.Zb.getFloat32(this.f,
this.J);this.f+=4;return a},getInt32:function(){var a=this.Zb.getInt32(this.f,this.J);this.f+=4;return a},getUint32:function(){var a=this.Zb.getUint32(this.f,this.J);this.f+=4;return a},getInt16:function(){var a=this.Zb.getInt16(this.f,this.J);this.f+=2;return a},getUint16:function(){var a=this.Zb.getUint16(this.f,this.J);this.f+=2;return a},getInt8:function(){var a=this.Zb.getInt8(this.f);this.f++;return a},getUint8:function(){var a=this.C(this.f);this.f++;return a},C:function(a){return this.Zb.getUint8(a)},
me:t("n")};var Ib;Ib=function(a,b,c,d,e){"string"!==typeof a&&h(new TypeError("BinaryReader_StringBased expects a string"));b===j&&h(Error("Byteorder must be explicitly assigned"));c===j&&(c=(new Configuration).ma());d===j&&(d=0);e===j&&(e=a.length/2);c instanceof ha||h(new TypeError("BinaryReader requires a TextDecoder"));0>d&&h(Error("Invalid start offset"));(0===e||d+e>a.length/2)&&h(Error("Valid data range exceeded"));this.J=b;this.Pb=e;this.n=a;this.f=d;this.Vb=c;this.k=new Gb(this,b)};
Ib.prototype={md:t("J"),sd:t("Vb"),getString:function(a,b){var c=a*(b?2:1),d,e;(0>a||2*(this.f+c)>this.n.length)&&h(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=Array(a);if(b){var f;if(this.J)for(e=0;e<a;++e)f=2*e+this.f,d[e]=(this.C(f+1)<<8)+this.C(f);else for(e=0;e<a;++e)f=2*e+this.f,d[e]=this.C(f+1)+(this.C(f)<<8);d=String.fromCharCode.apply(l,d)}else{for(e=this.f;e<this.f+a;++e)d[e-this.f]=this.C(e);d=this.Vb.Pt(d)}this.f+=c;return d},Cb:function(a){return this.k.Cb(a)},kd:function(){return String.fromCharCode(this.getUint8())},
rc:function(){return this.f>=this.Pb},z:t("f"),seek:r("f"),size:t("Pb"),getFloat64:function(){var a=this.k.jm();this.f+=8;return a},getFloat32:function(){var a=this.k.im();this.f+=4;return a},getInt32:function(){var a=this.k.lm();this.f+=4;return a},getUint32:function(){var a=this.k.Uh();this.f+=4;return a},getInt16:function(){var a=this.k.km();this.f+=2;return a},getUint16:function(){var a=this.k.Th();this.f+=2;return a},getInt8:function(){var a=this.k.mm();this.f++;return a},getUint8:function(){var a=
this.C(this.f);this.f++;return a},C:function(a){return this.n.charCodeAt(2*a)-65<<4|this.n.charCodeAt(2*a+1)-65},me:t("n")};var Gb;Gb=function(a,b){this.A=a;this.J=b};
Gb.prototype={Cb:function(a){var b=this.A.z(),c=0;if(a)for(;0!==this.A.getUint16();)c++;else for(;0!==this.A.getUint8();)c++;this.A.seek(b);b=this.A.getString(c,a);a?this.A.getUint16():this.A.getUint8();return b},jm:function(){var a=this.A.z(),b=this.A.C(this.da(a,0,8)),c=this.A.C(this.da(a,1,8)),d=this.A.C(this.da(a,2,8)),e=this.A.C(this.da(a,3,8)),f=this.A.C(this.da(a,4,8)),g=this.A.C(this.da(a,5,8)),i=this.A.C(this.da(a,6,8)),o=this.A.C(this.da(a,7,8)),a=1-2*(b>>7),b=((b<<1&255)<<3|c>>4)-(Math.pow(2,
10)-1),c=(c&15)*Math.pow(2,48)+d*Math.pow(2,40)+e*Math.pow(2,32)+f*Math.pow(2,24)+g*Math.pow(2,16)+i*Math.pow(2,8)+o;return 1024===b?0!==c?NaN:Infinity*a:-1023===b?a*c*Math.pow(2,-1074):a*(1+c*Math.pow(2,-52))*Math.pow(2,b)},im:function(){var a=this.A.z(),b=this.A.C(this.da(a,0,4)),c=this.A.C(this.da(a,1,4)),d=this.A.C(this.da(a,2,4)),e=this.A.C(this.da(a,3,4)),a=1-2*(b>>7),b=(b<<1&255|c>>7)-127,c=(c&127)<<16|d<<8|e;return 128===b?0!==c?NaN:Infinity*a:-127===b?a*c*Math.pow(2,-149):a*(1+c*Math.pow(2,
-23))*Math.pow(2,b)},lm:function(){var a=this.Uh();return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},Uh:function(){var a=this.A.z(),b=this.A.C(this.da(a,0,4)),c=this.A.C(this.da(a,1,4)),d=this.A.C(this.da(a,2,4)),a=this.A.C(this.da(a,3,4));return b*Math.pow(2,24)+(c<<16)+(d<<8)+a},km:function(){var a=this.Th();return a>Math.pow(2,15)-1?a-Math.pow(2,16):a},Th:function(){var a=this.A.z(),b=this.A.C(this.da(a,0,2)),a=this.A.C(this.da(a,1,2));return(b<<8)+a},mm:function(){var a=this.A.C(this.A.z());return a>
Math.pow(2,7)-1?a-Math.pow(2,8):a},Um:function(a,b,c,d,e,f){var g=l;if(e){if(this.J&&0===b%2)try{g=new Int16Array(a,b,c)}catch(i){}if(g===l)if(g=new Int16Array(Array(c)),b=new Uint8Array(a,b,d),this.J)for(a=0;a<c;++a)g[a]=(b[2*a+1]<<8)+b[2*a];else for(a=0;a<c;++a)g[a]=b[2*a+1]+(b[2*a]<<8);b=[];for(a=0;a<c;++a)b[a]=g[a];return String.fromCharCode.apply(l,b)}g=new Int8Array(a,b,c);return f.Sh(g)},da:function(a,b,c){return a+(this.J?c-b-1:b)}};var P;
P=function(a,b,c){a instanceof J||h(new TypeError("BinaryWriter expects a BinaryBuffer"));b===j&&h(Error("Byteorder must be explicitly assigned"));this.kc=a;this.J=b;this.Ba=-1;this.Ng=c};P.p=function(a,b,c){c=new Jb(c);return y.Dd()?new Kb(a,b,c):new P(a,b,c)};
P.prototype={Us:function(a){var b=a.length/2,c,d;1!==b&&2!==b&&4!==b&&h(Error("Unexpected size for swapping"));for(d=0;d<b;++d)c=a[d],a[d]=a[a.length-d-1],a[a.length-d-1]=c},jc:function(a,b,c){var d=new ArrayBuffer(c),b=new b(d),d=new Uint8Array(d);b[0]=a;1<c&&!this.J&&this.Us(d,c);for(a=0;a<c;++a)this.Aj(d[a])},Aj:function(a){-1!==this.Ba?(this.kc.mi(this.Ba,a),this.Ba++):this.kc.Tl(a)},seek:r("Ba"),z:function(){return-1!==this.Ba?this.Ba:this.kc.size()},yf:function(a){var b=[204,221],c;for(c=0;c<
a;++c)this.$(b[c%2])},$:function(a){this.Aj(a)},Xl:function(a){this.jc(a,Int8Array,1)},ca:function(a){this.jc(a,Uint16Array,2)},Ea:function(a){this.jc(a,Int16Array,2)},B:function(a){this.jc(a,Uint32Array,4)},Wl:function(a){this.jc(a,Int32Array,4)},Ul:function(a){this.jc(a,Float32Array,4)},Vl:function(a){this.jc(a,Float64Array,8)},ac:function(a,b){this.Gd(a,b,n)},bc:function(a,b){this.Gd(a,b,k)},Gd:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ca(e):128>e?this.$(e):this.$(this.Ng.pm(e))}c&&
(b?this.ca(0):this.$(0))}};var Kb;Kb=function(a,b,c){a instanceof Bb||h(new TypeError("BinaryWriter expects a BinaryBuffer_StringBased"));b===j&&h(Error("Byteorder must be explicitly assigned"));this.kc=a;this.J=b;this.Ba=-1;this.Ng=c};
Kb.prototype={Ob:function(a){if(-1!==this.Ba)for(var b=0;b<a.length;++b)this.kc.mi(this.Ba,a.charCodeAt(b)&255),this.Ba++;else this.kc.rt(a)},seek:r("Ba"),z:function(){return-1!==this.Ba?this.Ba:this.kc.size()},yf:function(a){var b=[204,221],c;for(c=0;c<a;++c)this.$(b[c%2])},$:function(a){this.Ob(this.Qc(a,8,n))},Xl:function(a){this.Ob(this.Qc(a,8,k))},ca:function(a){this.Ob(this.Qc(a,16,n))},Ea:function(a){this.Ob(this.Qc(a,16,k))},B:function(a){this.Ob(this.Qc(a,32,n))},Wl:function(a){this.Ob(this.Qc(a,
32,k))},Ul:function(a){this.Ob(this.gk(a,23,8))},Vl:function(a){this.Ob(this.gk(a,52,11))},ac:function(a,b){this.Gd(a,b,n)},bc:function(a,b){this.Gd(a,b,k)},Gd:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ca(e):128>e?this.$(e):this.$(this.Ng.pm(e))}c&&(b?this.ca(0):this.$(0))},gk:function(a,b,c){var d=Math.pow(2,c-1)-1,e=-d+1,f=e-b,g=parseFloat(a),i=isNaN(g)||-Infinity==g||Infinity==g?g:0,o=0,m=2*d+1+b+3,a=Array(m),x=0>(g=0!==i?0:g),K=Math.floor(g=Math.abs(g)),G=g-K,N=
[],s;for(s=m;s;a[--s]=0);for(s=d+2;K&&s;a[--s]=K%2,K=Math.floor(K/2));for(s=d+1;0<G&&s;(a[++s]=(1<=(G*=2))-0)&&--G);for(s=-1;++s<m&&!a[s];);if(a[(N=b-1+(s=(o=d+1-s)>=e&&o<=d?s+1:d+1-(o=e-1)))+1]){if(!(g=a[N]))for(G=N+2;!g&&G<m;g=a[G++]);for(G=N+1;g&&0<=--G;(a[G]=!a[G]-0)&&(g=0));}for(s=0>s-2?-1:s-3;++s<m&&!a[s];);(o=d+1-s)>=e&&o<=d?++s:o<e&&(o!=d+1-m&&o<f&&this.warn("encodeFloat::float underflow"),s=d+1-(o=e-1));if(K||0!==i)this.warn(K?"encodeFloat::float overflow":"encodeFloat::"+i),o=d+1,s=d+2,
-Infinity==i?x=1:isNaN(i)&&(a[s]=1);for(g=Math.abs(o+d),G=c+1,c="";--G;c=g%2+c,g=g>>=1);for(g=0,G=0,s=(c=(x?"1":"0")+c+a.slice(s,s+b).join("")).length,N=[];s;G=(G+1)%8)g+=(1<<G)*c.charAt(--s),7==G&&(N[N.length]=String.fromCharCode(g),g=0);N[N.length]=g?String.fromCharCode(g):"";return(this.J?N:N.reverse()).join("")},Qc:function(a,b,c){var d=[],e=Math.pow(2,b);if(c){if(c=-Math.pow(2,b-1),a>-c-1||a<c)this.Ol("encodeInt::overflow"),a=0}else if(a>e||0>a)this.Ol("encodeInt::overflow"),a=0;for(0>a&&(a+=
e);a;a=Math.floor(a/256))d[d.length]=String.fromCharCode(a%256);for(b=-(-b>>3)-d.length;b;b--)d[d.length]=String.fromCharCode(0);return(this.J?d:d.reverse()).join("")},Ol:function(a){h(Error(a))}};var Lb;Lb=function(a,b,c,d,e){this.k=M.p(a,b,c,d,e)};Lb.prototype={ld:function(){var a,b=0,c=0;do a=this.k.getUint8(),b|=(a&127)<<c,c+=7;while(0!==(a&128));return b}};var Mb;Mb=function(a,b,c){this.Hc=P.p(a,b,c)};
Mb.prototype={K:function(a,b){var c,d,e;c=b!==j?b:this.Wq(a);0===c&&h(Error("Expected value for MBui greater then zero"));d=a;for(e=0;e<c-1;e++)this.Hc.$(d&127|128),d>>=7;this.Hc.$(d&127);0!==d>>7&&h(Error("Value "+a+" cannot be written as an MBUI with "+c+" bytes"))},Wq:function(a){var b=0;do a>>=7,b++;while(0<a);return b}};var Nb;Nb=function(a,b,c,d){this.aj=a;this.Ge=b;this.Gn=c;this.An=d};var wb;wb=function(a){this.Q=new XMLHttpRequest;this.a=a};
wb.prototype={Za:function(a,b,c,d){c===j&&(c=n);d===j&&(d=n);this.rb=b;var b="/Tc3PlcHmiWebService",e=this,d=this.Gs(d,a);y.Bu()&&(b+="?"+H.fa());this.Q.open("POST",b,!c);if(!c&&!y.Dd())this.Q.responseType="arraybuffer";this.Q.setRequestHeader("Content-Type","application/octet-stream");d&&this.Q.setRequestHeader("3S-Repl-Content",this.rq(a));if(!c)this.Q.onreadystatechange=function(){e.Vu()};y.Ho()?d?this.Q.send():this.Q.send(a):(c=new MozBlobBuilder,c.append(a),this.Q.send(c.getBlob()))},Gs:function(a,
b){return!window.btoa?n:(a||this.a.il)&&b instanceof ArrayBuffer&&70>b.byteLength?k:n},rq:function(a){var b="",a=new Uint8Array(a),c=a.byteLength,d;for(d=0;d<c;d++)b+=String.fromCharCode(a[d]);return window.btoa(b)},Lm:function(a,b){this.rb=b;this.Q.open("GET",a,k);var c=this;this.Q.onreadystatechange=function(){c.Uu(a)};this.Q.send()},Uu:function(a){4==this.Q.readyState&&(200==this.Q.status||"OK"==this.Q.status?this.rb.rm(this.Q.responseText):this.rb.I("Loading file '"+a+"' failed: "+this.Q.status))},
Vu:function(){if(4==this.Q.readyState)if(200==this.Q.status||"OK"==this.Q.status){this.Q.onreadystatechange=l;var a;y.Dd()?(a=this.Q.responseText,""===a&&(a=l)):(a=this.Q.response,a instanceof ArrayBuffer&&0===a.byteLength&&(a=l));try{a!==l||this.tq()?this.rb.Ya(a):this.rb.I("Sending service failed, server not available?")}catch(b){this.rb.I("Unexpected exception while evaluating comm result"+b)}}else 4E3===this.Q.status?this.a.Mu():0===this.Q.status?this.rb.I("Sending service aborted"):this.rb.I("Sending service failed, status: "+
this.Q.status)},tq:function(){return"function"!==typeof this.rb.Xh?n:k}};var Q;Q=q();Q.cj=65407;Q.dj=1;Q.bj=2;Q.Oo=130;Q.Po=32;Q.Qo=33;Q.kj=34;Q.jj=35;Q.Mo=129;Q.Ro=16;Q.No=17;Q.Jb=4;Q.fj=1;Q.Go=2;Q.ej=3;Q.sg=4;Q.Rw=5;Q.Fo=6;Q.So=1;Q.Xw=1;Q.To=3;Q.xg=132;Q.Zo=1;Q.Uo=2;Q.$o=3;Q.Vo=4;Q.ap=2;Q.Wo=3;Q.Xo=4;Q.Yo=1;Q.bp=134;Q.cp=2;Q.Ei=0;Q.zn=1;var Ob;Ob=function(a,b,c){this.xh=a;this.yh=b;this.ul=c;this.of=0};
Ob.cv=function(a){var b=a.getUint16(),c;52565!=b&&h(Error("Unsupported protocol: "+b));this.Ld=a.getUint16();12>this.Ld&&h(Error("Unsupported length of header: "+this.Ld));this.xh=a.getUint16();this.yh=a.getUint16();this.ul=a.getUint32();this.of=a.getUint32();b=this.Ld-12;16<=this.Ld&&(a.getUint16(),b-=2);for(c=0;c<b;++c)a.getUint8();return this};Ob.Do=4;Ob.Eo=20;Ob.hp=16;Ob.prototype={write:function(a,b){a.ca(52565);a.ca(Ob.hp);a.ca(this.xh);a.ca(this.yh);a.B(this.ul);a.B(b);a.ca(0);a.ca(0)}};var Pb;
Pb=function(a,b,c){this.pc=new Lb(a,b,c);this.L=this.pc.k};
Pb.prototype={ev:function(){try{if("|"!=this.L.kd())return"Unexpected format of service: 1";var a=this.Gl(),b=n;if(4>a.length)return"Unexpected format of service: 2";5<=a.length&&(b="true"===a[4]);return new Ca(parseInt(a[0],10),0===parseInt(a[1],10),parseInt(a[2],10),"true"!==a[3],b)}catch(c){return"Exception during readOpenConnectionResult: "+c}},fv:function(){var a=this.Gl(),b;for(b=0;b<a.length;++b)if(0===a[b].indexOf("IPv4:"))return a[b].substr(5);return""},Gl:function(){for(var a=[],b="";!this.L.rc();){var c=
this.L.kd();"|"==c?(a.push(b),b=""):b+=c}return a},nf:function(a,b){for(var c=this.L.z()+a;this.L.z()<c;){var d=this.pc.ld(),e=this.pc.ld(),d=b[d],f=this.L.z();"function"===typeof d&&d(this,e);d=this.L.z()-f;d<e&&this.Ps(e-d)}},dv:function(){try{var a=this.mf(Q.dj,Q.bj),b=0,c=0,d=0,e=Q.Ei,f={};f[Q.Oo]=function(a,d){var e={};e[Q.Po]=function(a){b=a.L.getUint16()};e[Q.Qo]=function(a){c=a.L.getUint32()};a.nf(d,e)};f[Q.kj]=function(a){e=a.L.getUint32()};f[Q.jj]=function(a){d=a.L.getUint32()};this.nf(a.of,
f);return new Nb(b,c,e,d)}catch(g){return"Exception during readDeviceLoginResult: "+g}},hv:function(){try{for(this.mf(Q.Jb,Q.fj);!this.L.rc();){var a=this.pc.ld(),b;this.pc.ld();if(a===Q.cj)return"Visu not supported by the plc";b=this.L.getUint32();return 2952790016>b?b:4294967292===b?"No more memory on the plc":4294967293===b?"Connection to invalid application":"Unknown error"}return"Unexpected format of service: 4"}catch(c){return"Exception during readVisuRegisterClientResult: "+c}},gv:function(){try{for(this.mf(Q.Jb,
Q.ej);!this.L.rc();){var a=this.pc.ld(),b;this.pc.ld();if(a===Q.cj)return"Visu not supported by the plc";b=this.L.getUint32();return 0===b||1===b?b:2===b?"Client registration failed":3===b?"Client registration failed due to an invalid external id":"Unknown error"}return"Unexpected format of service: 5"}catch(c){return"Exception during readVisuIsRegisteredClientResult: "+c}},Tf:function(a){try{var b=this.mf(Q.Jb,Q.sg),c=0,d=a,a={};a[Q.xg]=function(a,b){var e={};e[Q.ap]=function(a){a.L.getUint32();
var b=a.L.getUint32(),c=a.L.getUint32(),a=a.L.getUint32();d=new Oa(b,c,a)};e[Q.Xo]=function(){d.finish()};e[Q.Yo]=function(a){c=a.L.getUint32()};e[Q.Wo]=function(a,b){d.dc().Yl(a.L.me(),a.L.z(),Math.min(b,d.Ou()))};a.nf(b,e)};this.nf(b.of,a);return 0!==c?65535===c?"Client id not or no longer valid":c.toString():d===l?"Unexpected format of service: 6":d}catch(e){return"Exception during readVisuGetPaintDataResult: "+e}},Ps:function(a){this.L.seek(this.L.z()+a)},mf:function(a,b){var c=Ob.cv(this.L),
d=Ob.Do+c.Ld+c.of;this.L.size()<d&&h(Error("Actual packet size "+this.L.size()+" smaller than expected "+d));(c.xh!=(128|a)||c.yh!=b)&&h(Error("Unexpected format of service: 3"));return c}};var xb;xb=function(a,b,c){this.J=a;this.Xp=b;this.n=J.p(50);this.ba=new Mb(this.n,a,c);this.w=this.ba.Hc};
xb.prototype={Xa:function(){return this.n.dc()},Xu:function(a,b,c){this.Me(1);this.w.ac("|",n);this.w.ac(a,n);this.w.ac("|",n);this.w.ac(b.toString(),n);this.w.ac("|",n);this.w.ac(c.toString(),n);this.w.ac("|",n)},sv:function(){this.Me(3)},Wt:function(){this.Me(100)},Tt:function(a,b,c,d){if(a===j||a===l)a="";b===j&&(b=l);c===j&&(c=0);if(d===j)d=Q.Ei;var e=this.ad(Q.dj,Q.bj),f=l;this.ba.K(Q.kj);this.ba.K(4,3);this.w.B(d);0!==c&&(this.ba.K(Q.jj),this.ba.K(4,3),this.w.B(c));a=this.Qq(a);b!==l&&0!==c&&
d===Q.zn&&(f=this.Pq(b,c));this.ba.K(Q.Mo);this.ba.K(a.size()+(f!==l?f.size():0),2);this.Le(this.w,a);f!==l&&this.Le(this.w,f);this.Kc(e)},sw:function(a,b,c){var d=this.ad(Q.Jb,Q.fj),e=a.length+4+1,f=this.Vg(e,4,0),g=0,i=0;b&&0<b.length&&g++;c&&0<c.length&&g++;0<g&&(i=8+84*g,e+=i);this.ba.K(Q.So);this.ba.K(e+f,3);this.w.bc(a,n);this.Bg(this.w,f,0);this.w.B(524288);0<g&&(this.w.B(i),this.w.B(g),b&&0<b.length&&(this.w.ca(1),this.w.bc(b,n),this.w.yf(82-b.length-1)),c&&0<c.length&&(this.w.ca(2),this.w.bc(c,
n),this.w.yf(82-c.length-1)));this.Kc(d)},qw:function(a){var b=this.ad(Q.Jb,Q.ej);this.ba.K(Q.To);this.ba.K(4,3);this.w.B(a);this.Kc(b)},cg:function(a){this.Nl(a,Q.sg,Q.xg)},pw:function(a){var b=this.ad(Q.Jb,Q.sg);this.ba.K(Q.xg);this.ba.K(8,2);this.ba.K(Q.Vo);this.ba.K(4,3);this.w.B(a);this.Kc(b)},rw:function(a){this.Nl(a,Q.Fo,Q.bp)},tw:function(a){var b=this.ad(Q.Jb,Q.Go);this.ba.K(Q.cp);this.ba.K(4,3);this.w.B(a);this.Kc(b)},Nl:function(a,b,c){b=this.ad(Q.Jb,b);a=this.ar(a);this.ba.K(c);this.ba.K(a.size(),
2);this.Le(this.w,a);this.Kc(b)},Kc:function(a){var b=this.w.z()-a.Ko;this.ht(a.jo,b)},ad:function(a,b){var c=new Ob(a,b,this.Xp);this.Me(2);this.w.yf(Ob.Eo);return{jo:c,Ko:this.w.z()}},Qq:function(a){var b=J.p(10+a.length),c=new Mb(b,this.J),d=c.Hc,e=a.length+1,f=this.Vg(e,4,2);c.K(Q.Ro);c.K(e+f);d.bc(a,n);this.Bg(d,f,0);return b},Pq:function(a,b){var c=this.Oq(a,b),d=J.p(10+c.length),e=new Mb(d,this.J),f=e.Hc;e.K(Q.No);e.K(c.length,3);for(e=0;e<c.length;++e)f.$(c[e]);return d},Oq:function(a,b){var c=
"Qcw@e46A6!R.gssltR4dg=_l)B^nQSo^",d="",e=[],f,g=0,i=0,o,m=a.length+1,x=[b&255,0,0,0];for(f=0;f<c.length;f+=4)d=d.concat(String.fromCharCode(c.charCodeAt(f+2)+3)),d=d.concat(String.fromCharCode(c.charCodeAt(f+1)+2)),d=d.concat(String.fromCharCode(c.charCodeAt(f+3)+4)),d=d.concat(String.fromCharCode(c.charCodeAt(f+0)+1));c=d;32>m&&(m=32);0!==m%4&&(m+=4-m%4);for(f=0;f<m;++f)d=c.charCodeAt(g),o=0,f<a.length&&(o=a.charCodeAt(f)),e[f]=(o^d+x[i])&255,g++,g===c.length&&(g=0),i++,4===i&&(i=0);return e},ar:function(a){var b=
J.p(100),c=new Mb(b,this.J),d=c.Hc,e=a.wj;c.K(Q.Zo);c.K(16,3);d.B(a.lb);d.B(a.so);d.B(a.to);d.B(a.Bn);if(e!==l){c.K(Q.Uo);var f=e.size(),g;g=this.Vg(f,4,0);c.K(f+g,3);this.Le(d,e);this.Bg(d,g,0)}a.hc!==l&&(c.K(Q.$o),c.K(8,3),d.ca(a.hc.d),d.ca(a.hc.e),d.ca(a.hc.q),d.ca(a.hc.s));return b},Le:function(a,b){var c=b.size(),d;for(d=0;d<c;++d)a.$(b.um(d))},Vg:function(a,b,c){for(var d=0;0!==(a+c)%b;)a++,d++;return d},Bg:function(a,b,c){for(var d=0;d<b;++d)a.$(c)},Me:function(a){this.w.$(a);this.w.$(0);this.w.ca(0)},
ht:function(a,b){this.w.seek(4);a.write(this.w,b)}};var E;E=q();E.$n=1;E.gg=2;E.Ni=4;E.hg=16;E.Wn=128;E.Xn=256;E.Mn=257;E.Mi=1048576;E.Un=512;E.Vn=513;E.bo=515;E.Oi=516;E.Zn=518;E.Yn=519;E.Rn=2049;E.Qn=2050;E.Nn=2051;E.On=2052;E.Pn=2053;E.Sn=2054;E.Tn=2055;E.ao=4096;E.co=4097;E.Qi=4098;E.Pi=2097152;var C;C=function(a,b,c,d){c===j&&(c=0);d===j&&(d=0);this.lb=a;this.Bn=b;this.so=c;this.to=d;this.hc=this.wj=l;this.Yc=n};C.Ji=function(a,b,c){return C.Hi(a,b,c)};
C.Ii=function(a,b,c,d){return new C(a,b,c,d)};C.Dn=function(a,b){return new C(E.Mn,a,b.charCodeAt(0))};C.Ki=function(a,b,c,d){a=new C(E.Oi,a,b?c?3:1:0,0);b=J.p(8);c=P.p(b,k);c.Ea(0);c.Ea(0);c.Ea(d.i()-1);c.Ea(d.h()-1);a.Ta(b);return a};C.Fn=function(a,b,c){return C.Hi(a,b,c)};C.Hi=function(a,b,c){return new C(a,b,c.cc())};C.prototype={Ta:r("wj"),Xv:function(){this.Yc=k}};var Qb;Qb=function(a){a===j&&(a=100);this.Te=[];this.dd=this.Vd=0;this.Rd=a;this.Xe=n;this.Pk=0};
Qb.prototype={push:function(a){if(a.lb!==E.Pi)this.Pk=H.fa();if(this.lr(a))return k;if(this.Xe)return"undefined"!==typeof WebvisuLogger&&WebvisuLogger.warn("Eventqueue full, dropped event with tag "+a.lb),n;this.Te[this.dd%this.Rd]=a;this.dd=(this.dd+1)%this.Rd;if(this.dd==this.Vd)this.Xe=k;return k},empty:function(){return!this.Xe&&this.Vd===this.dd},pop:function(){if(this.empty())return l;this.Xe=n;var a=this.Vd;this.Vd=(this.Vd+1)%this.Rd;return this.Te[a]},lr:function(a){if(!this.empty()&&(a.lb===
E.hg||a.lb===E.Pn||a.lb===E.Tn||a.lb===E.Oi)){var b=(this.dd+this.Rd-1)%this.Rd;if(this.Te[b].lb===a.lb)return this.Te[b]=a,k}return n}};var Ya;Ya=function(a){this.Wb={};this.a=a;this.jh=l};
Ya.prototype={Jf:function(a,b,c){c===j&&(c=l);var d=this.Cr(a,c),e;e=this.Wb[d];if(e!==j)return e;e=new Rb(this.a,a,c,b);return this.Wb[d]=e},ut:function(a){var b=[];this.tk(function(c){c.se()||(b.push(c),c.vt(function(){b.splice(b.indexOf(c),1);0===b.length&&setTimeout(a,0)}))})},Bt:function(){var a=H.fa(),b=[],c=this.a.j,d,e;if(-1!==c.NumCachedImages)if(0===c.NumCachedImages)this.Wb={};else if(this.tk(function(d,e){var i=d.ur,o=d.$k?c.MaxUnusedImageAge:c.MaxUndrawnImageAge;0!==i&&i<a-o&&b.push({path:e,
time:i})}),d=Math.min(H.Kn(this.Wb)-c.NumCachedImages,b.length),0<d){b.sort(function(a,b){return a.pn-b.pn});for(e=0;e<d;++e)delete this.Wb[b[e].path]}},kv:function(a){delete this.Wb[a]},Nu:function(){if(this.jh===l)this.jh=this.a.j.LoadImagesById;return this.jh},tk:function(a){var b,c;for(b in this.Wb)c=this.Wb[b],a(c,b)},Cr:function(a,b){return b===l?a:a+":"+b}};var Rb;Rb=function(a,b,c,d){this.a=a;this.$k=n;this.Xb=c;this.Rb=H.Ui(b);this.rs=3;this.yl(d);this.Jh();this.dh=this.hf=this.vf=l};
Rb.prototype={er:function(){try{this.Xb!==l&&!this.Lk()&&this.at(),this.Eg(2)}catch(a){this.a.error("Unexpected exception during load image callback: "+a)}},Lk:function(){return 3<=this.Rb.length&&"SVG"==this.Rb.substring(this.Rb.length-3).toUpperCase()},at:function(){try{var a=window.document.createElement("canvas"),b=a.getContext("2d"),c,d,e=parseInt(this.Xb.substr(1,2),16),f=parseInt(this.Xb.substr(3,2),16),g=parseInt(this.Xb.substr(5,2),16),i=this.Mq(),o=this.xm();a.width=o.D;a.height=o.F;b.drawImage(this.mc,
0,0);c=b.getImageData(0,0,a.width,a.height);for(d=0;d<c.data.length;d+=4)i(c.data[d+0],c.data[d+1],c.data[d+2],e,f,g)&&(c.data[d+3]=0,c.data[d+0]=0,c.data[d+1]=0,c.data[d+2]=0);b.putImageData(c,0,0);this.vf=a;this.mc=l}catch(m){this.vf=this.Xb=l,WebvisuLogger.warn("Exception during making image "+this.Rb+" transparent. Is this an SVG? As a workaround it will be rendered ignoring the transparency color")}},wr:function(a){try{if(WebvisuLogger.warn("Loading image "+this.Rb+" failed: "+a.type),0<=this.rs--){var b=
this;window.setTimeout(function(){WebvisuLogger.info("Triing to load the image "+b.Rb+" again");b.yl(b.Rb)},50);this.Eg(4)}else this.Eg(3)}catch(c){this.a.error("Unexpected exception during handling of load image problems: "+c)}},su:function(){this.Jh();this.$k=k;2!==this.O&&WebvisuLogger.warn("Access to not (yet) loaded image");return this.vf!==l?this.vf:this.mc},xm:function(){if(this.dh===l)this.dh=y.ho(this.mc);return this.dh},vt:r("hf"),se:function(){return 2===this.O||3===this.O},loaded:function(){return 2===
this.O},Eg:function(a){this.Jh();this.O=a;if(this.hf!==l&&this.se())this.hf(),this.hf=l},Jh:function(){this.ur=H.fa()},yl:function(a){this.mc=new Image;var b=this;this.mc.onload=function(){b.er()};this.mc.onerror=function(a){b.wr(a)};this.O=1;this.mc.src=this.vp(a)},vp:function(a){var b=this.Rb;a&&(b+="?"+H.fa());this.Lk()&&!this.a.j.WorkaroundDisableSVGAspectRatioWorkaround&&(b+="#svgView(preserveAspectRatio(none))");return b},Mq:function(){return this.a.j.FuzzyTransparencyColorEvaluation?function(a,
b,c,d,e,f){return 2>Math.abs(a-d)&&2>Math.abs(b-e)&&2>Math.abs(c-f)}:function(a,b,c,d,e,f){return a===d&&b===e&&c===f}}};var Xa;Xa=function(){this.zb={};this.pb=l;this.Ce="<Project>"};
Xa.prototype={zm:function(a){var a=a.toLowerCase().split("."),b=[],c;for(c=0;c<a.length;++c)b[c]=H.Cc(a[c]);var d;if(1>b.length)return l;a=b[b.length-1];if(1===b.length)return this.Td(this.Bq(a));c=b[b.length-2];if(2==b.length){d=this.Cq(c);if(d!==l)return this.Td(this.Qg(a,d));d=this.Sg(c);return d!==l?this.Td(this.We(a,d)):l}b=b.slice(0,b.length-2).join(".");d=this.Sg(b);if(d!==l&&(d=this.Rg(c,d),d!==l))return this.Td(this.Qg(a,d));d=this.Sg(b+"."+c);return d!==l?this.Td(this.We(a,d)):l},vv:r("pb"),
Td:function(a){return a!==l?a.path:l},Sg:function(a){var b=this.lk(a);b===l&&(b=this.Dq(a));return b},lk:function(a){a=this.zb[a];return a!==j?a:l},Dq:function(a){if(this.pb!==l){var a=a.toLowerCase(),b,c=l,d;for(b=0;b<this.pb.length;++b)if(this.pb[b].ii===a){c=this.pb[b].Sm;break}if(c!==l)for(b=0;b<this.pb.length;++b)if(this.pb[b].ii!==a&&this.pb[b].Sm===c&&(d=this.lk(this.pb[b].ii),d!==l))return d}return l},Bq:function(a){var b=this.zb[this.Ce],c;if(b!==j&&(b=this.We(a,b),b!==l))return b;for(c in this.zb)if(c!==
this.Ce&&(b=this.We(a,this.zb[c]),b!==l))return b;return l},We:function(a,b){var c,d;for(c in b.od)if(d=this.Qg(a,b.od[c]),d!==l)return d;return l},Qg:function(a,b){var c=b.Ff[a];return c===j?l:c},Cq:function(a){var b=this.zb[this.Ce],c;if(b!==j&&(b=this.Rg(a,b),b!==l))return b;for(c in this.zb)if(b=this.Rg(a,this.zb[c]),b!==l)return b;return l},Rg:function(a,b){var c=b.od[a];return c!==j?c:l},fill:function(a){var a=a.replace(/\r\n/g,"\n").split("\n"),b,c,d,e,f,g,i;for(b=0;b<a.length;++b)c=a[b].split(";"),
4>c.length||(d=this.Br(H.Cc(c[1])),e=H.Cc(c[0]).toLowerCase(),f=H.Cc(c[2]).toLowerCase(),g=H.Cc(c[3]),c=this.zb[d],c===j?(c={od:{}},i=this.Uj(e),i.Ff[f]=this.Ig(f,g),c.od[e]=i,this.zb[d]=c):(i=c.od[e],i===j?(i=this.Uj(e),i.Ff[f]=this.Ig(f,g),c.od[e]=i):i.Ff[f]=this.Ig(f,g)))},Br:function(a){return a===l||""===a?this.Ce:a.toLowerCase()},Uj:function(a){return{name:a,Ff:{}}},Ig:function(a,b){return{id:a,path:b}}};var hb;hb=q();hb.prototype={execute:function(a){a=a.a.ka;a!==l&&a.m.Ot()}};var Sb;
Sb=function(a,b){this.g=B.Ib(b)};Sb.prototype={execute:function(a){a=a.getContext();a.save();a.beginPath();a.rect(this.g.d,this.g.e,this.g.i()+1,this.g.h()+1);a.clip()}};var Tb;Tb=function(a,b){this.g=B.Fe(b,n);this.kf=0!==b.getInt8();this.Yb=b.getInt8();switch(this.Yb){case 2:case 4:this.Re=b.getUint32();this.ck=b.getUint32();this.Se=b.getUint32();break;case 1:case 3:this.Pj=b.getInt16(),this.Re=b.getUint32()}};
Tb.prototype={execute:function(a){var b=a.getContext(),c=this.g.d,d=this.g.e,e=this.g.i(),f=this.g.h(),g=b.lineWidth;b.save();this.tl=a.a.j.SemiTransparencyActive;a.v().ec()?a.v().zf(this.g):b.fillStyle=this.tl===k?B.$a(this.Re):B.ta(this.Re);b.lineWidth=1;c+=0.5;d+=0.5;switch(this.Yb){case 2:case 4:this.Zr(b,c,d,e,f);break;case 1:case 3:this.Yr(b,c,d,e,f)}b.lineWidth=g;a.v().ec()&&a.v().Uf();b.restore()},Zr:function(a,b,c,d,e){var f,g,i;this.tl===k?(f=this.kf?B.$a(this.Se):"#000000",g=B.$a(this.ck),
i=B.$a(this.Se)):(f=this.kf?B.ta(this.Se):"#000000",g=B.ta(this.ck),i=B.ta(this.Se));this.kf?(a.strokeStyle=f,a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e)):(a.fillRect(b,c,d,e),a.strokeStyle=g,a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.moveTo(b,c),a.lineTo(b,c+e),a.stroke(),a.closePath(),a.strokeStyle=f,a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c+e),a.lineTo(b+d,c),a.stroke(),a.closePath(),a.strokeStyle=i,a.beginPath(),a.moveTo(b+1,c+e-1),a.lineTo(b+d-2,c+e-1),a.moveTo(b+d-1,c+1),a.lineTo(b+d-1,
c+e-1),a.stroke(),a.closePath())},Yr:function(a,b,c,d,e){var f=new Ub(this.Re,this.Pj);if(this.kf)a.strokeStyle=B.ta(f.vm(0)),a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e);else{a.strokeStyle="#000000";a.fillRect(b,c,d,e);a.strokeRect(b,c,d,e);var g;for(g=0;g<this.Pj;++g)a.beginPath(),a.moveTo(b+g,c+e-g),a.lineTo(b+g,c+g),a.lineTo(b+d-g,c+g),a.strokeStyle=B.ta(f.hu(g)),a.stroke(),a.beginPath(),a.moveTo(b+d-g,c+1+g),a.lineTo(b+d-g,c+e-g),a.lineTo(b+1+g,c+e-g),a.strokeStyle=B.ta(f.vm(g)),a.stroke()}}};var gb;
gb=function(a,b,c){var a=b.z(),d,e;d=b.getUint16();e=b.getString(d,n);d=b.getUint16();d=b.getString(d,n);""!==e&&(d=e+"."+d);this.ef=d;this.g=B.Fe(b,k);this.g.normalize();e=b.getUint32();this.rr=0!==(e&1);this.zj=0!==(e&2);this.pk=0!==(e&4);this.Os=0!==(e&8);this.Lj=0!==(e&16);this.Il=0!==(e&32);this.Ck=0!==(e&128);this.sl=0!==(e&256);this.Ml=0!==(e&1024);this.Dj=0!==(e&2048);this.Yd=0!==(e&4096);this.kk=n;this.Xb=B.ta(b.getUint32());if(c>=b.z()-a+16)this.kk=k,this.uq=b.getFloat32(),this.vq=b.getFloat32();
this.fb=l};
gb.prototype={execute:function(a){var a=a.getContext(),b=B.oo(this.g),c=this.g.Fa(),d=this;this.Ms(a,c,b);this.fb!==l&&(this.fb.loaded()?this.eq(a,this.fb.su(),function(){return d.fb.xm()},c):this.fq(a,this.g));this.Os&&(c=B.lg(a),a.strokeRect(this.g.d+c,this.g.e+c,this.g.i(),this.g.h()));this.Lp(a,b)},Cu:function(a,b){var c;this.Yd&&(c=b.zm(this.ef))!==l&&a.kv(c);if(this.fb===l){if(a.Nu())return c="/ImageByImagePoolId?id="+this.ef,this.fb=this.Il?a.Jf(c,this.Yd,this.Xb):a.Jf(c,this.Yd),this.fb.se();
c=b.zm(this.ef);if(c!==l)return this.fb=this.Il?a.Jf(c,this.Yd,this.Xb):a.Jf(c,this.Yd),this.fb.se();WebvisuLogger.warn("Imagepoolentry for "+this.ef+" not found");return k}return this.fb.se()},eq:function(a,b,c,d){if(this.pk&&this.kk){var e=c(),d=this.jp(d,new A(this.uq*e.D,this.vq*e.F));this.pk=n;this.zj=k}this.zj?a.drawImage(b,d.d,d.e,d.i(),d.h()):this.rr?(e=c(),d.i()/e.D<d.h()/e.F?(c=d.i()*e.F/e.D,e=d.i()):(c=d.h(),e=d.h()*e.D/e.F),d=this.kp(new L(d.d,d.e,d.d+e,d.e+c),d),a.drawImage(b,d.d,d.e,
e,c)):a.drawImage(b,d.d,d.e)},jp:function(a,b){this.Ck?(a.d+=Math.floor(a.i()/2)-Math.floor(b.D/2),a.q=a.d+b.D):this.sl?a.d=a.q-b.D:a.q=a.d+b.D;this.Ml?(a.e+=Math.floor(a.h()/2)-Math.floor(b.F/2),a.s=a.e+b.F):this.Dj?a.e=a.s-b.F:a.s=a.e+b.F;return a},kp:function(a,b){a.i()<b.i()&&(this.Ck?a=a.fc(Math.floor(b.i()/2)-Math.floor(a.i()/2),0):this.sl&&(a=a.fc(b.i()-a.i(),0)));a.h()<b.h()&&(this.Ml?a=a.fc(0,Math.floor(b.h()/2)-Math.floor(a.h()/2)):this.Dj&&(a=a.fc(0,b.h()-a.h())));return a},Ms:function(a,
b,c){c&&(a.save(),b.Ua.Af(a,b));this.Lj&&(a.save(),a.beginPath(),a.rect(b.d,b.e,b.i()+1,b.h()+1),a.clip())},Lp:function(a,b){this.Lj&&a.restore();b&&a.restore()},fq:function(a,b){var c=b.Gm(-3);a.save();a.fillStyle="#eeeeee";a.strokeStyle="#ff0000";a.lineWidth=3;a.fillRect(c.d,c.e,c.i(),c.h());a.beginPath();a.moveTo(c.d,c.e);a.lineTo(c.q,c.s);a.moveTo(c.q,c.e);a.lineTo(c.d,c.s);a.closePath();a.stroke();a.restore()}};var Vb;
Vb=function(a,b){this.g=B.Fe(b,k);this.xl=B.Gb(b.getInt16());this.Vs=B.Gb(b.getInt16());this.wq=1==b.getInt16()};
Vb.prototype={execute:function(a){var b=a.getContext(),c=this.g.i(),d=this.g.h(),e=!a.v().ei(),f=!a.v().Ze,g=Math.min(c,d)/2;0>=c||0>=d||(b.save(),this.mp(b),a.v().ec()&&a.v().zf(this.Yq(g)),b.beginPath(),b.arc(0,0,g,this.xl,this.xl+this.Vs,n),this.wq&&(b.lineTo(0,0),b.closePath(),e&&b.fill()),b.restore(),f&&b.stroke(),a.v().ec()&&a.v().Uf())},Yq:function(a){return new L(-a,-a,a,a)},mp:function(a){var b=this.g.i(),c=this.g.h();this.g.Ua!==l?this.g.Ua.Af(a,this.g):a.translate(this.g.d+0.5,this.g.e+
0.5);a.translate(b/2,c/2);b>c?a.scale(b/c,1):a.scale(1,c/b)}};var Wb;Wb=function(a,b){this.o=B.$i(b)};Wb.prototype={execute:function(a){var a=a.getContext(),b;for(b=0;b<this.o.length;++b)a.fillRect(this.o[b].b,this.o[b].c,1,1)}};var Xb;Xb=function(a,b){this.Yb=b.getUint16();if(2==a)this.o=B.$i(b);else if(59==a)this.o=B.Bo(b)};
Xb.prototype={execute:function(a){var b=a.getContext(),c=!a.v().ei(),d=!a.v().Ze;if(!(2>this.o.length)){a.v().ec()&&a.v().zf(this.Ts());d&&this.ls(b);switch(this.Yb){case 0:this.gq(b,c,d);break;case 1:d&&this.hq(b);break;case 2:d&&this.cq(b)}a.v().ec()&&a.v().Uf()}},ls:function(a){var a=B.lg(a),b;if(0!==a)for(b=0;b<this.o.length;++b)this.o[b].b+=a,this.o[b].c+=a},gq:function(a,b,c){a.beginPath();a.moveTo(this.o[0].b,this.o[0].c);for(var d=1;d<this.o.length;++d)a.lineTo(this.o[d].b,this.o[d].c);a.closePath();
b&&a.fill();c&&a.stroke()},hq:function(a){var b;a.beginPath();a.moveTo(this.o[0].b,this.o[0].c);for(b=1;b<this.o.length;++b)a.lineTo(this.o[b].b,this.o[b].c);a.stroke()},cq:function(a){a.beginPath();a.moveTo(this.o[0].b,this.o[0].c);for(var b=1;b+3<=this.o.length;)a.bezierCurveTo(this.o[b].b,this.o[b].c,this.o[b+1].b,this.o[b+1].c,this.o[b+2].b,this.o[b+2].c),b+=3;for(;b<this.o.length;++b)a.lineTo(this.o[b].b,this.o[b].c);a.stroke()},Ts:function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e;for(e=0;e<this.o.length;++e){if(this.o[e].b<
a)a=this.o[e].b;if(this.o[e].c<c)c=this.o[e].c;if(this.o[e].b>b)b=this.o[e].b;if(this.o[e].c>d)d=this.o[e].c}return new L(a,c,b,d)}};var Yb;Yb=function(a,b){var c,d;c=b.getUint16();switch(a){case 1:d=B.Fe(b,k);break;case 45:d=B.Ib(b);break;case 60:d=B.yo(b);break;case 61:d=B.xo(b)}this.dt=new Zb(c,d)};Yb.prototype={execute:function(a){this.dt.Cf(a)}};var $b;
$b=function(a,b){this.Yb=b.getUint16();var c,d;c=b.getUint16();d=b.getUint16();this.$c=new A(c,d);c=b.getUint16();d=b.getUint16();this.Bh=new A(c,d);c=b.getUint32();this.bt=0!==(c&1);this.ct=0!==(c&2);this.Kh=0!==(c&4)};$b.prototype={execute:function(a){var b=a.v().uh,c,d,e;d=new z(b.b+this.Bh.D,b.c+this.Bh.F);this.Kh?(c=a.v().th,e=d.b,d.b=c.b+this.Bh.D,c=e-d.b):c=this.$c.D;(new Zb(this.Yb,new L(d.b,d.c,d.b+c,d.c+this.$c.F))).Cf(a);this.bt&&(b.b+=this.$c.D);this.ct&&(b.c+=this.$c.F)}};var Zb;
Zb=function(a,b){this.Yb=a;this.g=b.Qu()};
Zb.prototype={dq:function(a,b,c,d,e,f,g){var i=0.5522848*(d/2),o=0.5522848*(e/2),m=b+d,x=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-o,d-i,c,d,c);a.bezierCurveTo(d+i,c,m,e-o,m,e);a.bezierCurveTo(m,e+o,d+i,x,d,x);a.bezierCurveTo(d-i,x,b,e+o,b,e);a.closePath();f&&a.fill();g&&a.stroke()},iq:function(a,b,c,d,e,f,g){f&&a.fillRect(b,c,d,e);g&&a.strokeRect(b,c,d,e)},Cf:function(a){var b=a.getContext(),c=this.g.d,d=this.g.e,e=this.g.i(),f=this.g.h(),g=!a.v().ei(),i=!a.v().Ze,o=this.g.Ua;
if(!(0>e||0>f)){a.v().ec()&&a.v().zf(this.g);o!==l&&(b.save(),this.g.Ua.Af(b,this.g));if(i&&o===l)var m=B.lg(b),c=c+m,d=d+m;switch(this.Yb){case 0:this.iq(b,c,d,e,f,g,i);break;case 1:B.Ln(b,c,d,e,f,g,i);break;case 2:this.dq(b,c,d,e,f,g,i);break;case 3:i&&(b.beginPath(),b.moveTo(c,d+f),b.lineTo(c+e,d),b.stroke());break;case 4:i&&(b.beginPath(),b.moveTo(c,d),b.lineTo(c+e,d+f),b.stroke())}o!==l&&b.restore();a.v().ec()&&a.v().Uf()}}};var ac;
ac=function(a,b){var c,d;if(3==a||11==a)d=B.Zi(b);else if(46==a||47==a)d=B.Ao(b);c=b.getUint32();this.$e=this.cr(c);this.cd=this.ft(c);this.Cj=0!==(c&16);this.yp=0!==(c&32);this.qs=0!==(c&64);this.Ds=0!==(c&1024);this.Kh=0!==(c&2048);this.Fh=0!==(c&256);this.Dl=0!==(c&512);this.g=B.Ci(d,0!==(c&128));c=b.getUint16();this.M=b.getString(c,11==a||47==a);this.Xk=B.mo(this.M);this.Al=B.no(this.M)};
ac.prototype={execute:function(a){var b=a.getContext(),c,d,e;if(this.qs)c=a.v().uh,this.Kh?(e=a.v().th,d=e.b,c=e.c):(d=c.b,c=c.c),this.g=new L(d,c,d+this.g.i(),c+this.g.h());b.save();this.g.Ua!==l&&this.g.Ua.Af(b,this.g);b.beginPath();b.rect(this.g.d-0.5,this.g.e-0.5,this.g.i()+1,this.g.h()+1);b.clip();b.fillStyle=a.v().Cl;d=n;if(this.Fh||this.Dl)d=this.vs(b,a);d===n&&(this.Xk?this.ol(b,a):this.pl(b));if(this.yp){c=a.v().uh;e=a.v().th;c.b=this.g.d;c.c=this.g.e;if(this.Ds)e.b=c.b+1,e.c=c.c;c.b=this.g.d+
this.El(b)}b.restore()},pl:function(a){this.Al?this.ss(a):this.Qe(a,this.M,this.Ag(a))},ol:function(a,b){var c=B.vg(this.M),d=this,e,f,g,i,o;if(0<c.length){f=H.jg(b);e=f*c.length;this.ip(a,e);e=this.lp(a,e);var m=function(b){d.Qe(a,b.text,g)};for(o=0;o<c.length;++o)this.Al?(i=B.wg(a,c[o]),g=this.xj(a,i),g.c=e.c,this.Nk(i,g,m)):this.Qe(a,c[o],e),e.c+=f}},vs:function(a,b){var c;this.Fh?c=this.us(a,b):this.Dl&&(c=this.ts(a,b));return c},us:function(a,b){var c,d,e,f,g,i,o,m,x=Array(100),K,G=[];c=n;i=
-1;m=g=f=0;o=this.g.q-this.g.d;if(this.El(a)>o){c=k;for(d=this.M[f];d!==j;)e=this.M[f+1],"\r"==d&&"\n"==e?(g=0,f+=1):(g+=a.measureText(d).width," "==d?i=f:g>o&&(100>m&&-1!=i&&(x[m]=i,m+=1,i=-1),g=0)),f+=1,d=this.M[f];if(0<m){d=0;for(e=this.M.length-1;0<m;){for(K=x[m-1];e>=K;)G[d]=this.M[e],e-=1,d+=1;G[d]="\r";d+=1;G[d]="\n";e-=1;m-=1;d+=1}}this.M=this.M.substr(0,K);for(f=G.length-1;-1<f;f--)this.M+=G[f];this.ol(a,b)}return c},ts:function(a,b){this.Cj=k;this.pl(a,b);return k},ss:function(a){var b=
B.wg(a,this.M),c=this.xj(a,b),d=this;this.Nk(b,c,function(b){d.Qe(a,b.text,c)})},Nk:function(a,b,c){var d;if(2==this.$e)for(d=a.length-1;0<=d;--d)c(a[d]),b.b-=a[d].ri*B.Dc;else for(d=0;d<a.length;++d)c(a[d]),b.b+=a[d].ri*B.Dc},Qe:function(a,b,c){this.Cj&&(b=this.Fq(a,b));a.fillText(b,c.b,c.c)},Fq:function(a,b){if(B.gc(a,b,n)<=this.g.i())return b;for(var c,d=0,e=b.length-1,f,g;1<e-d;){f=Math.floor((d+e)/2);c=b.substr(0,f)+"...";g=B.gc(a,c,n)-this.g.i();if(0===g)return c;0>g?(d=f,g=n):(e=f,g=k)}return g===
k?0<f?c.substr(0,f-1)+"...":"":c},lp:function(a,b){var c=this.Ag(a);a.textBaseline="top";3===this.cd?c=new z(c.b,this.g.e+this.g.h()/2-b/2):2===this.cd&&(c=new z(c.b,c.c-b));return c},ip:function(a,b){if(this.Fh&&3===this.cd&&this.g.h()<b)this.cd=1},Ag:function(a){var b,c;1===this.$e?(b=this.g.d+1,a.textAlign="left"):3===this.$e?(b=this.g.d+this.g.i()/2,a.textAlign="center"):(b=this.g.q-1,a.textAlign="right");1===this.cd?(c=this.g.e+2,a.textBaseline="top"):3===this.cd?(c=this.g.e+this.g.h()/2,a.textBaseline=
"middle"):(c=this.g.s-1,a.textBaseline="bottom");return new z(b,c)},xj:function(a,b){var c=this.Ag(a),d,e=0;if(3===this.$e){for(d=0;d<b.length;++d)e+=b[d].ri*B.Dc;c.b=this.g.d+(this.g.i()-e+B.Dc)/2}return c},cr:function(a){var b=1;0!==(a&1)?b=3:0!==(a&2)&&(b=2);return b},ft:function(a){var b=1;0!==(a&4)?b=3:0!==(a&8)&&(b=2);return b},El:function(a){if(this.Xk){var b=0,c=B.vg(this.M),d;for(d=0;d<c.length;++d)b=Math.max(b,B.gc(a,c[d],k));return b}return B.gc(a,this.M,k)}};var lb;
(function(){var a=l;lb=function(a,c){var d=c.getUint16();this.M=c.getString(d,15==a);this.f=B.Ac(c);this.zr=1===(c.getUint32()&1)};lb.prototype={execute:function(b){var c=b.getContext(),d=B.vg(this.M),e=b.a.j.Cm(),f=this.zp(c,e,d),g=f.lineHeight,i=new A(6,4),f=this.Ap(b.tc(),f.size,i),f=f.fc(0.5,0.5);c.save();c.font=e.Ti;c.textBaseline="top";c.textAlign="left";c.lineWidth=1;c.strokeStyle="#000000";c.fillStyle="#ffffe1";c.fillRect(f.d,f.e,f.i(),f.h());c.strokeRect(f.d,f.e,f.i(),f.h());c.fillStyle=
"#000000";i=new z(f.d+i.D/2,f.e+i.F/2);for(e=0;e<d.length;++e)c.fillText(d[e],i.b,i.c),i=new z(i.b,i.c+g);this.zr&&(a=new L(0,0,0,0));(a===l||!f.Gf(a))&&this.Hs(b.a,f);a=f;c.restore()},Hs:function(a,c){var d=new C(E.Vn,a.l.U,0,0),e=J.p(8),f=P.p(e,k);f.Ea(Math.floor(c.d));f.Ea(Math.floor(c.e));f.Ea(Math.ceil(c.q));f.Ea(Math.ceil(c.s));d.Ta(e);a.Oa.push(d)},zp:function(a,c,d){var e=new A(0,0),f=a.font,g,i,o=0;a.font=c.Ti;for(g=0;g<d.length;++g)0===g&&(o=H.kg(c.fo)),i=B.gc(a,d[g],n),e.D=Math.max(e.D,
i),e.F+=o+0;e.F=Math.ceil(e.F);a.font=f;return{size:e,lineHeight:o}},Ap:function(a,c,d){var e,f;e=this.f.b+20+d.D+c.D>=a.i()?this.f.b-20-d.D-c.D:this.f.b+20;f=this.f.c+20+c.F>=a.h()?this.f.c-20-c.F:this.f.c+20;0>e&&(e=c.D<a.i()?(a.i()-c.D)/2:0);0>f&&(f=c.F<a.h()?(a.h()-c.F)/2:0);return new L(e,f,e+c.D+d.D,f+d.F+c.F)}}})();var bc;bc=q();bc.prototype={execute:q()};var cc;cc=function(a,b){var c=b.getUint16();this.Mp=0===c||2==c};cc.prototype={execute:function(a){this.Mp&&a.a.Qb.close();a.a.Qb.rv()}};
var dc;dc=function(a,b,c){var d;d=b.z();this.Np=b.getUint16();a=b.getUint16();this.Nj=b.getString(a,n);c>=b.z()-d+10?(a=b.getUint16(),this.Oj=b.getString(a,n)):this.Oj=""};
dc.prototype={execute:function(){switch(this.Np){case 0:WebvisuLogger.warn("The functionality start process is not possible in the webvisualization.");break;case 1:case 2:case 3:WebvisuLogger.warn("The functionality printing is not possible in the webvisualization.");break;case 4:this.yr()}},yr:function(){"replace"===this.Oj?window.location.href=this.Nj:window.open(this.Nj)}};var kb;kb=function(a,b,c){a=b.z();this.g=B.Ib(b);this.Kj=k;if(c>=b.z()-a+12)this.Kj=0===(b.getUint32()&1)};
kb.prototype={execute:function(a){a.Ug.Oh(this.g);this.Kj&&a.G.clearRect(this.g.d,this.g.e,this.g.i(),this.g.h());a.a.Ic.iv(this.g)}};var ec;
ec=function(a,b){var c,d,e,f,g;this.dk=b.getUint32();this.oq=b.getUint32();c=b.getUint16();this.Wk=b.getString(c,n);c=b.getUint32();d=b.getUint16();this.el=[];this.fl=n;try{for(e=0;e<d;++e)f=b.getUint32(),g=b.getUint32(),this.el.push(this.os(b,f,g))}catch(i){i instanceof TypeError?(WebvisuLogger.error("Invalid argumenttype for calling '"+this.Wk+"'; call will not be executed"),this.fl=k):h(i)}2==(c&2)?(this.ae=b.getUint32(),this.wh=b.getUint32()):this.wh=this.ae=l};
ec.prototype={execute:function(a){if(!this.fl){var b=WebvisuExtensionMgr.Jt(this.dk,this.Wk,this.el);b!==l&&b!==j&&this.wh!==l&&this.ae!==l&&this.qq(b,a.a)}},Op:function(a,b){var c=J.p(b),d=P.p(c,k),e;for(e=0;e<b;++e)d.$(a.getUint8());return M.p(c.dc(),a.md(),a.sd())},os:function(a,b,c){a=this.Op(a,c);switch(b){case 0:case 1:return 0!==a.getUint8();case 2:case 10:return a.getUint8();case 6:return a.getInt8();case 3:case 11:return a.getUint16();case 7:return a.getInt16();case 8:return a.getInt32();
case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:return a.getUint32();case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:return a.getFloat32();case 15:return a.getFloat64();case 16:case 17:return a.Cb(17===b);default:h(new TypeError("TypeCode + "+b.toString()+" not supported"))}},qq:function(a,b){var c=J.p(this.wh),d=P.p(c,b.l.ua,b.ne()),e=new C(E.bo,b.l.U,this.dk,this.oq);try{this.sq(a,d),e.Ta(c)}catch(f){WebvisuLogger.error("Failed to encode return value: "+
a.toString()+". Result ignored")}b.Ab(e)},sq:function(a,b){switch(this.ae){case 0:case 1:b.$(a?1:0);break;case 2:case 10:b.$(a);break;case 6:b.Xl(a);break;case 3:case 11:b.ca(a);break;case 7:b.Ea(a);break;case 8:b.Wl(a);break;case 9:h(new TypeError("Type LINT not supported"));case 4:case 12:b.B(a);break;case 5:case 13:h(new TypeError("Type LWORD/ULINT not supported"));case 14:b.Ul(a);break;case 15:b.Vl(a);break;case 16:case 17:b.bc(a,17===this.ae);break;default:h(new TypeError("TypeCode + "+this.ae.toString()+
" not supported"))}}};var fc;fc=function(a,b){var c;this.Oc=b.getUint32();c=b.getUint16();this.Qj=b.getString(c,n);this.Qd=B.Ib(b)};fc.prototype={execute:function(a){var b=WebvisuExtensionMgr.lw(this.Qj);b===l?WebvisuLogger.warn("No native control named '"+this.Qj+"' found"):WebvisuExtensionMgr.Mt(b,this.Oc,this.Qd,a.G.canvas)}};var gc;gc=function(a,b){this.Oc=b.getUint32();this.Qd=B.Ib(b)};gc.prototype={execute:function(){WebvisuExtensionMgr.Kt(this.Oc,this.Qd)}};var hc;
hc=function(a,b){this.Oc=b.getUint32();var c=b.getUint32();this.Ns=1===(c&1);this.dx=2===(c&2);this.Wp=4===(c&4)};hc.prototype={execute:function(){this.Wp?WebvisuExtensionMgr.om(this.Oc):WebvisuExtensionMgr.Lt(this.Oc,this.Ns)}};var ic;
ic=function(a,b){var c,d,e,f;b.getUint16();b.getUint16();this.Pc=B.Ib(b);d=b.getUint32();this.sr=0!==(d&1);this.up=0!==(d&2);this.qk=b.getUint16();c=b.getUint16();this.Hq=b.getString(c,n);this.Ke=b.getUint16();f=b.getUint16();c=J.p(f);d=P.p(c,k);for(e=0;e<f;++e)d.$(b.getUint8());this.Ne=this.hl=n;if(25==a)d=b.getUint16(),this.hl=0!==(d&1),this.Ne=2==(d&2);0<f?(this.Ne&&(f/=2),c=M.p(c.dc(),b.md(),b.sd()),this.Fk=c.getString(f,this.Ne)):this.Fk=""};
ic.prototype={execute:function(a){var b=window.document.createElement("input"),c=this.wp(),d=a.iu();if(this.hl)b.type="password";b.value=this.Fk;c=c.fc(d.b,d.c);H.pg(b,c);b.style.zIndex=300;b.style.textAlign=0!==(this.Ke&1)?"center":0!==(this.Ke&2)?"right":"left";b.style.fontFamily=this.Hq;b.style.fontSize=this.qk+"px";if(this.sr)b.style.fontStyle="italic";if(this.up)b.style.fontWeight="bold";a.a.Qb.open(b,this.Ne);b.select()},wp:function(){var a=this.Pc.d+3,b=this.Pc.q-9,c,d=H.kg(this.qk);c=0!==
(this.Ke&8)?this.Pc.s-d-9:0!==(this.Ke&4)?this.Pc.e+(this.Pc.h()-d)/2:this.Pc.e+1;return new L(a,c,b,c+d)}};var nb;(function(){var a=l;nb=q();nb.En=function(b,c,d,e){a===l&&(a=[bc,Yb,Xb,ac,jc,kc,lc,kb,Sb,mc,ic,ac,cc,bc,lb,lb,bc,dc,nc,gb,oc,pc,pc,Tb,qc,ic,fc,ec,gc,hc,rc,$b,sc,tc,tc,uc,Vb,vc,bc,bc,bc,hb,wc,xc,Wb,Yb,ac,ac,rc,yc,zc,Ac,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Xb,Yb,Yb]);return b<a.length?new a[b](b,c,d,e):new bc}})();var B;
(function(){var a="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(","),b,c;b=function(b){return a[b>>4&15]+a[b&15]};c=function(a){return a&255};B=q();B.Dc=50;B.Di=0;B.xe=1;B.vd=2;B.we=3;B.Ac=function(a){var b=a.getInt16(),a=a.getInt16();return new z(b,a)};B.qg=function(a){var b=a.getFloat32(),a=a.getFloat32();return new z(b,a)};B.tj=function(a,b){var c=[],g;for(g=0;4>g;++g)c[g]=b(a);return c};B.Zi=function(a){return B.tj(a,B.Ac)};B.zo=function(a){return B.tj(a,B.qg)};B.Ao=function(a){var b=[];b[0]=B.Ac(a);
b[2]=B.Ac(a);b[1]=new z(b[2].b,b[0].c);b[3]=new z(b[0].b,b[2].c);return b};B.Ci=function(a,b){if(b&&(a[0].c!==a[1].c||a[3].c<a[0].c)){var c,g;c=Math.sqrt((a[0].b-a[1].b)*(a[0].b-a[1].b)+(a[0].c-a[1].c)*(a[0].c-a[1].c));g=Math.sqrt((a[0].b-a[3].b)*(a[0].b-a[3].b)+(a[0].c-a[3].c)*(a[0].c-a[3].c));return new L(0,0,c,g,Hc.Cn((a[1].b-a[0].b)/c,(a[1].c-a[0].c)/c,(a[3].b-a[0].b)/g,(a[3].c-a[0].c)/g,a[0].b,a[0].c))}return new L(a[0].b,a[0].c,a[2].b,a[2].c)};B.sj=function(a,b,c){a=c(a);return B.Ci(a,b)};B.Fe=
function(a,b){return B.sj(a,b,B.Zi)};B.yo=function(a){return B.sj(a,k,B.zo)};B.rj=function(a,b){var c,g;c=b(a);g=b(a);return new L(c.b,c.c,g.b,g.c)};B.Ib=function(a){return B.rj(a,B.Ac)};B.xo=function(a){return B.rj(a,B.qg)};B.uj=function(a,b){var c=a.getUint16(),g,i;i=Array(c);for(g=0;g<c;++g)i[g]=b(a);return i};B.$i=function(a){return B.uj(a,B.Ac)};B.Bo=function(a){return B.uj(a,B.qg)};B.Gb=function(a){return Math.PI*a/180};B.ta=function(a){return"#"+b(a>>16)+b(a>>8)+b(a)};B.$a=function(a){var e;
e=a>>24&255;return 255==e?"#"+b(a>>16)+b(a>>8)+b(a):"rgba("+c(a>>16)+", "+c(a>>8)+", "+c(a)+", "+e/255+")"};B.lg=function(a){return 1==a.lineWidth%2?0.5:0};B.mo=function(a){return 0<=a.indexOf("\n")||0<=a.indexOf("\r")};B.xc=function(a,b,c){return b>a.length-1?a:a.substr(0,b)+c+a.substr(b+1)};B.vo=function(a){var b,c,g,i;b=a.length;g=c=0;for(i=B.Di;c<b;)switch(i){case B.Di:switch(a[c]){case "\n":i=B.vd;break;case "\r":i=B.we;break;default:i=B.xe}break;case B.xe:switch(a[c]){case "\n":i=B.vd;g!=c&&
(a=B.xc(a,g,a[c]));g++;break;case "\r":i=B.we;break;default:g!=c&&(a=B.xc(a,g,a[c])),g++}c++;break;case B.vd:switch(a[c]){case "\n":g!=c&&(a=B.xc(a,g,a[c]));g++;break;case "\r":i=B.we;break;default:i=B.xe,g!=c&&(a=B.xc(a,g,a[c])),g++}c++;break;case B.we:a=B.xc(a,g,"\n");g++;switch(a[c]){case "\n":i=B.vd;break;case "\r":a=B.xc(a,g,"\n");g++;i=B.vd;break;default:g!=c&&(a=B.xc(a,g,a[c])),g++,i=B.xe}c++}return a.substring(0,g)};B.vg=function(a){return B.vo(a).split("\n")};B.no=function(a){return 0<=a.indexOf("\t")};
B.Jo=function(a){return a.split("\t")};B.gc=function(a,b,c){if(c){a=B.wg(a,b);for(b=c=0;b<a.length;++b)c+=a[b].vw;return c}return a.measureText(b).width};B.wg=function(a,b){var c=B.Jo(b),g=[],i,o,m;for(i=0;i<c.length;++i)o=a.measureText(c[i]).width,m=Math.max(1,Math.ceil(o/B.Dc)),i<c.length-1&&(o=m*B.Dc),g.push({text:c[i],ri:m,vw:o});return g};B.oo=function(a){return a.Ua!==l};B.Ln=function(a,b,c,g,i,o,m){var x=B.Gb(90),K=B.Gb(180),G=B.Gb(270),N=B.Gb(360),s;s=Math.max(1,Math.min(g,i)/8);a.beginPath();
a.moveTo(b+s,c);a.lineTo(b+g-s,c);a.arc(b+g-s,c+s,s,G,N,n);a.lineTo(b+g,c+i-s);a.arc(b+g-s,c+i-s,s,N,x,n);a.lineTo(b+s,c+i);a.arc(b+s,c+i-s,s,x,K,n);a.lineTo(b,c+s);a.arc(b+s,c+s,s,K,G,n);a.closePath();o&&a.fill();m&&a.stroke()}})();var qc;
qc=function(a,b){switch(b.getUint16()){case 0:this.oa="pointer";break;case 1:this.oa="default";break;case 2:this.oa="pointer";break;case 3:this.oa="wait";break;case 4:this.oa="text";break;case 5:this.oa="crosshair";break;case 6:this.oa="help";break;case 7:this.oa="col-resize";break;case 8:this.oa="row-resize";break;case 9:this.oa="nw-resize";break;case 10:this.oa="ne-resize";break;case 11:this.oa="w-resize";break;case 12:this.oa="s-resize";break;case 13:this.oa="pointer";break;default:this.oa="default"}};
qc.prototype={execute:function(a){a.G.canvas.style.cursor=this.oa}};var jc;jc=function(a,b,c,d){a=b.getUint32();b=b.getUint32();this.Md=1===(a&1);this.Jd=d.a.j.SemiTransparencyActive===k?B.$a(b):B.ta(b)};jc.prototype={execute:function(a){a.v().Ev(this.Jd,this.Md)}};var lc;lc=function(a,b,c,d){this.Jd=d.a.j.SemiTransparencyActive===k?B.$a(b.getUint32()):B.ta(b.getUint32());a=this.Ss(b.getUint32());this.rk=b.getUint16();c=b.getUint16();b=b.getString(c,n);this.xb=a+" "+this.rk+"px "+b};
lc.prototype={execute:function(a){a.v().$v(this.xb,this.rk,this.Jd)},Ss:function(a){var b=[];0!==(a&1)&&b.push("italic");0!==(a&2)&&b.push("bold");return b.join(" ")}};var rc;
rc=function(a,b,c,d){var c=1===b.getUint32(),e=b.getUint32(),f=b.getUint32(),g,i,o,m,x;30==a?(g=b.getUint32(),i=b.getUint32()/100,o=b.getUint32()/100,m=b.getUint32(),x=0===b.getUint32(),b.getUint32(),b=b.getUint32()):(g=b.getUint16(),i=b.getUint8()/100,o=b.getUint8()/100,m=b.getUint8(),x=k,b=0);d.a.j.SemiTransparencyActive===k?(e=B.$a(e),f=B.$a(f),30==a&&(b=B.$a(b))):(e=B.ta(e),f=B.ta(f),30==a&&(b=B.ta(b)));this.br=new Fa(c,e,f,g,i,o,m,x,b)};rc.prototype={execute:function(a){a.v().Gv(this.br)}};var wc;
wc=function(a,b,c,d){this.pa=b.getUint32();d.a.j.SemiTransparencyActive=2===(this.pa&2)};wc.prototype={execute:function(a){a=a.a.ka;a!==l&&(a.m.Iv(1===(this.pa&1)),a.m.Hv(0!==(this.pa&4)))}};var yc;yc=function(a,b,c,d){var e,f,g,i,a=b.getUint16();g=[];for(c=0;c<a;++c)e=b.getUint16(),g[c]=b.getString(e,n);this.wa=[];a=b.getUint16();for(c=0;c<a;++c){i=[];e=b.getUint16();for(f=0;f<e;++f)i[f]=g[b.getUint16()];this.wa.push({ii:i.join(".").toLowerCase(),Sm:b.getUint16()})}d.bh.vv(this.wa)};
yc.prototype={execute:q()};var kc;
kc=function(a,b,c,d){var e=b.z(),f=b.getUint32(),g=b.getUint32(),a=b.getUint16(),i=["butt","square","round"],o=["miter","bevel","round"];this.Md=5===f;this.Jd=d.a.j.SemiTransparencyActive===k?B.$a(g):B.ta(g);this.he=a;if(c>=b.z()-e+11){c=b.getUint16();this.Mb=i[0];if(0!==(c&0))this.Mb=i[0];if(0!==(c&1))this.Mb=i[1];if(0!==(c&2))this.Mb=i[2];c=b.getUint16();this.Nb=o[0];if(0!==(c&0))this.Nb=o[0];if(0!==(c&1))this.Nb=o[1];if(0!==(c&2))this.Nb=o[2];b=b.getUint16();this.Ed=1==b?1.7*a:2*b}else this.Mb=
i[0],this.Nb=o[0],this.Ed=1.7*a};kc.prototype={execute:function(a){a.v().Mv(this.he,this.Jd,this.Md,this.Mb,this.Nb,this.Ed)}};var xc;xc=function(a,b,c){this.ia=[];for(var d=l,a=b.z(),e,f;b.z()-a<c-8;)e=b.getUint32(),e&2147483648?(f=b.getUint32(),d=B.Ib(b),d.s-=1,d.q-=1,d=new Ic(f,d,e&2147483647),this.ia.push(d)):d!==l&&(f=e&65535,e=(e&2147483647)>>16,f=b.z()+f,this.ps(b,d,e),b.seek(f))};
xc.prototype={execute:function(a){var b=a.a.ka,c;if(b!==l){b.ia.clear();for(c=0;c<this.ia.length;++c)b.ia.Oh(this.ia[c]);a.a.j.DebugOnlyPrintTouchRectangles&&this.mq()}},ps:function(a,b,c){switch(c){case 3:b.info().scroll().V.Pv(new z(a.getInt32(),a.getInt32()));b.info().scroll().V.Nv(new z(a.getInt32(),a.getInt32()));b.xf(Jc.hj);break;case 4:b.info().zoom().V.Qv(a.getFloat32());b.info().zoom().V.Ov(a.getFloat32());b.xf(Jc.qj);break;case 5:b.info().zv(new L(a.getUint16(),a.getUint16(),a.getUint16(),
a.getUint16()));break;case 6:var c=a.getUint16(),d=a.getUint16(),e=Boolean(a.getUint8()),f=Boolean(a.getUint8()),a=new z(a.getUint16(),a.getUint16());b.info().gn(c,new Kc(d,e,f,a))}},mq:function(){var a,b;for(a=0;a<this.ia.length;++a)b=this.ia[a],WebvisuLogger.R(H.W("TouchRect ({0}): {1} (Flags: {2})",b.id(),H.Co(b.P),b.Bb())),b.r(Jc.hj)&&WebvisuLogger.R(H.W("  ScrollLimits {0} -> {1}",H.ic(b.info().scroll().V.Da),H.ic(b.info().scroll().V.Ca))),b.r(Jc.qj)&&WebvisuLogger.R(H.W("  Zoomlimits: {0} -> {1}",
b.info().zoom().V.Da,b.info().zoom().V.Ca))}};var nc;nc=function(a,b){this.sp=1===b.getUint16()};nc.prototype={execute:function(a){this.sp?a.mv():a.nv()}};var vc;vc=function(a,b){var c=b.getUint16();this.M=b.getString(c,n)};vc.prototype={execute:function(a){if(a.a.j.ChangeWindowTitle)window.document.title=this.M}};var mc;mc=function(a,b){this.g=B.Ib(b)};mc.prototype={execute:function(a){a.getContext().restore();a.v().apply()}};var oc;oc=q();oc.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteClientProgram is not possible in the webvisualization.")}};
var pc;pc=q();pc.prototype={execute:function(){WebvisuLogger.warn("The functionality OpenFileDialog is not possible in the webvisualization.")}};var Cc;Cc=function(a,b){this.nc=b.getUint16();this.he=b.getUint16();this.Xg=b.getUint16();this.pa=b.getUint32();this.vn=1};Cc.prototype={execute:function(a){var b=l,c=H.Gi(this.he,this.Xg).getContext("2d");this.pa&this.vn&&(b=H.Gi(this.he,this.Xg).getContext("2d"));a.hb.nt(this.nc,new ob(c,b,new A(this.he,this.Xg)))}};var Dc;Dc=function(a,b){this.nc=b.getUint16()};
Dc.prototype={execute:function(a){a.hb.lv(this.nc);a.a.ka.ia.Hu(this.nc)}};var Gc;Gc=function(a,b){this.$s=b.getUint32();this.dr=b.getUint16();this.af=b.getUint16();this.kh=Boolean(b.getUint8());this.lh=Boolean(b.getUint8());this.qh=new z(b.getUint16(),b.getUint16())};Gc.prototype={execute:function(a){var b=new Kc(this.af,this.kh,this.lh,this.qh);a.a.ka.ia.vu(this.$s).info().gn(this.dr,b)}};var Ec;Ec=function(a,b){this.nc=b.getUint16()};Ec.prototype={execute:function(a){a.hb.bv(this.nc);a.hb.Kv(k)}};
var Fc;Fc=function(a,b){this.nc=b.getUint16()};Fc.prototype={execute:function(a){a.hb.$u()}};var Bc;Bc=q();Bc.prototype={execute:function(a){var b=a.a.Oa,c=a.Hh,d,e,f;d=J.p(2*c.je());e=P.p(d,a.a.l.ua);for(f=0;f<c.je();++f)e.Ea(c.wu(f));a=new C(E.Yn,a.a.l.U,0,0);a.Ta(d);b.push(a)}};var uc;uc=q();uc.prototype={execute:function(a){var b=a.a.Oa,c=a.Gh,d,e,f;d=J.p(4*c.je());e=P.p(d,a.a.l.ua);for(f=0;f<c.je();++f)e.Ea(c.i(f)),e.Ea(c.h(f));a=new C(E.Zn,a.a.l.U,0,0);a.Ta(d);b.push(a)}};var Ac;
Ac=function(a,b){var c=b.getUint16();this.M=b.getString(c,34==a)};Ac.prototype={execute:function(a){a.Hh.mt(this.M)}};var tc;tc=function(a,b){var c=b.getUint16();this.M=b.getString(c,34==a)};tc.prototype={execute:function(a){a.Gh.lt(this.M)}};var zc;zc=function(a,b){b.getUint32();b.getUint32()};zc.prototype={execute:function(a){a.Hh.clear()}};var sc;sc=function(a,b){b.getUint32();b.getUint32()};sc.prototype={execute:function(a){a.Gh.clear()}};var Lc;
Lc=function(a){this.a=a;this.mh=k;this.zl=this.Mh=0};
Lc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa();b.Wt();this.zl=H.fa();a.Za(b.Xa(),this,n,!this.mh)},Xh:u(k),Ya:function(){var a=H.fa()-this.zl;this.mh?(this.Mh=a,this.mh=n,this.a.Z(this,0)):(WebvisuLogger.td(H.W("Deriving post method difference: {0}ms data in body, {1}ms without",this.Mh,a)),a<this.Mh-20&&(WebvisuLogger.R("POST requests will be sent with the data in header because this seems faster"),this.a.en(k)),this.a.Z(new Mc(this.a),0))},I:function(){this.a.error("deriving the best post method failed")},
className:u("DerivingPostMethodState")};var Mc;Mc=function(a,b,c,d,e){b===j&&(b=l);c===j&&(c=l);this.a=a;this.Xr=b;this.Wr=c;this.Vr=e;this.Ur=d};
Mc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa();b.Tt(this.Xr,this.Wr,this.Ur,this.Vr);a.Za(b.Xa(),this)},Ya:function(a){a=(new Pb(a,this.a.l.ua,this.a.ma())).dv();a instanceof Nb?0===a.aj?(WebvisuLogger.R("Successfully Logged in! DeviceSessionId: "+a.Ge),this.a.l.Li=a.Ge,this.a.Z(new Nc(this.a),0)):(WebvisuLogger.R("Login failed. Probably credentials necessary; result: "+a.aj),this.a.Z(new Oc(this.a,a),0)):this.I("DeviceLogin failed with the following error: "+a)},I:function(a){this.a.error("Login to the plc device failed: "+
a)},className:u("DeviceLoginState")};var Ab;Ab=r("a");Ab.prototype={execute:function(){WebvisuLogger.info("Triing to reconnect after error");this.a.Z(new ub(this.a),0)},className:u("ErrorState")};var Oc;Oc=function(a,b){this.a=a;this.kl=b};
Oc.prototype={execute:function(){this.Tr()},className:u("QueryCredentialsState"),Tr:function(){var a=window.document.createElement("div"),b=this.Rj("Ok"),c=this.Rj("Cancel"),d=this.Pp(),e=this;b.addEventListener("click",function(){e.Nr(a,d.tn,d.Zu)},n);c.addEventListener("click",function(){e.Er(a)},n);a.style.ox=a.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";a.align="center";a.appendChild(d.gw);a.appendChild(b);a.appendChild(c);window.document.body.appendChild(a);H.pg(a,this.Fp(300,200));
a.style.zIndex=300;a.style.backgroundColor="#d4d0c8";d.tn.focus()},Pp:function(){var a=window.document.createElement("table"),b=window.document.createElement("input"),c=window.document.createElement("input");c.type="password";a.border="0";a.appendChild(this.Tj("Username: ",b));a.appendChild(this.Tj("Password: ",c));return{gw:a,tn:b,Zu:c}},Tj:function(a,b){var c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);
d=window.document.createElement("td");d.appendChild(b);c.appendChild(d);return c},Fp:function(a,b){var c=this.a.T.tc();return new z((c.d+c.q-a)/2,(c.e+c.s-b)/2)},Mj:function(a){window.document.body.removeChild(a)},Nr:function(a,b,c){this.Mj(a);this.a.Z(new Mc(this.a,b.value,c.value,this.kl.An,this.kl.Gn),0)},Er:function(a){this.a.on("The user did not provide credentials.","No credentials");this.Mj(a)},Rj:function(a){var b=window.document.createElement("input");b.type="button";b.value=a;return b}};
var ub;
(function(){var a,b;a=function(a){return Ua.Yi(a)};b=[{la:"HandleTouchEvents",sa:"CFG_HandleTouchEvents",type:"boolean",na:a},{la:"TouchHandlingActive",sa:"CFG_TouchHandlingActive",type:"boolean",na:a},{la:"BestFit",sa:"CFG_BestFit",type:"boolean",na:a},{la:"LogLevel",sa:"CFG_LogLevel",type:"string",na:l},{la:"Benchmarking",sa:"CFG_Benchmarking",type:"boolean",na:a},{la:"WorkaroundDisableMouseUpDownAfterActiveTouch",sa:"CFG_WorkaroundDisableMouseUpDownAfterActiveTouch",type:"boolean",na:a},{la:"WorkaroundDisableResizeHandling",
sa:"CFG_WorkaroundDisableResizeHandling",type:"boolean",na:a},{la:"WorkaroundDisableSVGAspectRatioWorkaround",sa:"CFG_WorkaroundDisableSVGAspectRatioWorkaroundg",type:"boolean",na:a},{la:"PostDataInHeader",sa:"CFG_PostDataInHeader",type:"number",na:function(a){a=parseInt(a,10);if(0===a||1===a||2===a)return a;WebvisuLogger.info("Unexpected value at the URL configured; only 0..2 are allowed so falling back to default value");return 0}},{la:"DebugOnlyPrintPaintCommands",sa:"CFG_DebugOnlyPrintPaintCommands",
type:"boolean",na:a},{la:"DebugOnlyPrintRawTouches",sa:"CFG_DebugOnlyPrintRawTouches",type:"boolean",na:a},{la:"DebugOnlyPrintGestures",sa:"CFG_DebugOnlyPrintGestures",type:"boolean",na:a},{la:"DebugOnlyPrintTouchRectangles",sa:"CFG_DebugOnlyPrintTouchRectangles",type:"boolean",na:a},{la:"DebugOnlyDiagnosisDisplay",sa:"CFG_DebugOnlyDiagnosisDisplay",type:"boolean",na:a},{la:"ClientName",sa:"ClientName",type:"string",na:l}];ub=r("a");ub.prototype={execute:function(){var a=this.a.Ga(),b;b=window.document.URL;
b=b.substr(0,b.lastIndexOf("."));a.Lm(b+".cfg.json",this)},rm:function(a){try{var b=this.gs(a);this.hs(b);this.a.an(b);this.kq(b);this.be()}catch(e){this.I(e)}},hs:function(a){var d,e,f;for(d=0;d<b.length;++d)e=b[d],f=Ua.Wi(e.sa),f!==l&&(f=e.na!==l?e.na(f):f,a[e.la]=f,WebvisuLogger.info("Overridden Config Entry: "+e.la+" = "+f))},gs:function(a){try{var b=JSON.parse(a),e=new Configuration,f;for(f in b)f!==j&&(e[f]=b[f]);e.ow();return e}catch(g){return this.Pd(g),new Configuration}},I:function(a){this.Pd(a);
this.a.an(new Configuration);this.be()},be:function(){this.a.Z(new Pc(this.a),0)},Pd:function(a){WebvisuLogger.error("Loading the configuration failed for the following reason: "+a+". A default config will be used instead.")},className:u("RetrievingConfigurationState"),kq:function(a){WebvisuLogger.R("Configuration:");for(var b in a)a.hasOwnProperty(b)&&WebvisuLogger.R(H.W(" - {0}: {1}",b,a[b]));a.Benchmarking&&WebvisuLogger.info("Benchmarking active")}}})();var Qc;Qc=r("a");
Qc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa();b.sv();a.Za(b.Xa(),this)},Xh:u(k),Ya:function(a){if(a!==l&&(a=(new Pb(a,k,this.a.ma())).fv(),""!==a))this.a.l.Xi=a;this.a.Z(this.Tp(),0)},Tp:function(){if(this.a.l.Io){if(0===this.a.j.PostDataInHeader)return new Lc(this.a);1===this.a.j.PostDataInHeader&&(WebvisuLogger.info("POST-Data in header active by override"),this.a.en(k))}1===this.a.j.PostDataInHeader&&WebvisuLogger.warn("POST-Data in header active by override but not supported by Webserver");
return new Mc(this.a)},I:function(a){this.a.error("Retrieving IP Info failed: "+a)},className:u("RetrievingMyIpState")};var Rc;Rc=r("a");
Rc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.j,c=this.a.Wa();c.Xu(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.Za(c.Xa(),this)},Xh:u(k),Ya:function(a){a===l?this.a.Z(this,this.a.j.PollingRegistrationInterval):(a=(new Pb(a,k,this.a.ma())).ev(),a instanceof Ca?(WebvisuLogger.R("Successfully connected! SessionId: "+a.Ge+" IntelByteOrder: "+a.ua),this.a.yv(a),this.a.Z(new Qc(this.a),0)):this.a.error("Connection failed: "+a))},I:function(a){this.a.error("Starting to connect failed: "+
a)},className:u("StartConnectState")};var Pc;Pc=r("a");Pc.prototype={execute:function(){this.a.Ga().Lm(H.Ui((this.a.j.Application+".imagepoolcollection.csv").toLowerCase()),this)},rm:function(a){try{this.a.T.bh.fill(a)}catch(b){this.Pd(b)}this.be()},I:function(a){this.Pd(a);this.be()},be:function(){this.a.Z(new Rc(this.a),0)},Pd:function(a){WebvisuLogger.error("Loading the imagepool failed for the following reason: "+a+". Images will not work at all.")},className:u("UploadImagePoolState")};var Sc;
Sc=r("a");Sc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa(),c=C.Ki(this.a.l.U,this.a.j.BestFit,this.a.j.ScaleTypeIsotropic,this.a.T.tc());b.cg(c);a.Za(b.Xa(),this)},Ya:function(a){a=(new Pb(a,this.a.l.ua,this.a.ma())).Tf(l);a instanceof Oa?!a.Lf()||0<a.Lc?this.I("Unexpected paint result in "+this.className()):this.a.Z(new Tc(this.a),0):this.I(a)},I:function(a){this.a.error("Error during initializing (1) the visualization: "+a)},className:u("VisuOnlineInitState1")};var Tc;Tc=r("a");
Tc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa(),c=new C(E.Mi,this.a.l.U,0,0),d=J.p(16),e=P.p(d,k),f=this.a.j,g;e.B(458752);e.B(5);g=0;f.HasKeyboard===k&&(g|=24);f.TouchHandlingActive&&(g|=3);e.B(g);c.Ta(d);b.cg(c);a.Za(b.Xa(),this)},Ya:function(a){a=(new Pb(a,this.a.l.ua,this.a.ma())).Tf(l);a instanceof Oa?!a.Lf()||0<a.Lc?this.I("Unexpected paint result in "+this.className()):this.a.Z(new Uc(this.a),0):this.I(a)},I:function(a){this.a.error("Error during initializing (2) the visualization: "+
a)},className:u("VisuOnlineInitState2")};var Uc;Uc=r("a");
Uc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa(),c=new C(E.Mi,this.a.l.U,0,0),d=J.p(32),e=P.p(d,k);e.B(1);e.bc(this.a.j.StartVisu,n);c.Ta(d);b.cg(c);a.Za(b.Xa(),this)},Ya:function(a){a=(new Pb(a,this.a.l.ua,this.a.ma())).Tf(l);a instanceof Oa?!a.Lf()||0<a.Lc?this.I("Unexpected paint result in "+this.className()):this.a.Z(new Vc(this.a),0):this.I(a)},I:function(a){this.a.error("Error during initializing (3) the visualization: "+a)},className:u("VisuOnlineInitState3")};var Vc;
Vc=function(a){this.a=a;this.Mc=l;this.fx=H.fa();this.a.Cv(new Qb);this.Lh=n;this.ok=k;this.sh=n};
Vc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa();this.Jp(this.a.T.ah);if(this.Mc===l){var c;c=this.a.Oa.empty()?new C(E.$n,this.a.l.U,0,0):this.a.Oa.pop();c.Yc?(this.sh=k,b.rw(c)):(this.sh=n,b.cg(c))}else b.pw(this.Mc.Hg);this.Is=H.fa();a.Za(b.Xa(),this)},yt:function(){return this.Mc===l&&!this.Lh},Ya:function(a){if(this.sh)this.a.Z(this.zk(),this.Zj());else{var a=(new Pb(a,this.a.l.ua,this.a.ma())).Tf(this.Mc),b=this;if(a instanceof Oa)if(a.Lf()){this.Mc=l;if(this.ok)this.a.T.Et(),
this.ok=n;this.Lh=k;this.a.T.$t(a,function(){b.Lh=n;b.a.Z(b.zk(),b.Zj())})}else this.Mc=a,this.a.Z(this,0);else this.I(a)}},zk:function(){return this},Zj:function(){var a=this.a.Oa;if(a.empty()){var b=H.fa(),c=this.a.j.UpdateRate,a=b-a.Pk;return 0<=a&&a<Math.min(2*c,500)?Math.max(10,c/5):Math.max(10,c-(b-this.Is))}return 0},Jp:function(a){a.Bt()},I:function(a){this.a.error("Error while processing the visualization: "+a)},className:u("VisuOnlineState")};var Wc;Wc=function(a){this.a=a;this.As=0};
Wc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa();b.qw(this.a.l.U);a.Za(b.Xa(),this)},Ya:function(a){a=(new Pb(a,this.a.l.ua,this.a.ma())).gv();"number"===typeof a?0===a?(WebvisuLogger.R("Successfully finished visu registration"),this.a.Z(new Sc(this.a),0)):1===a?(0===this.As++%20&&WebvisuLogger.info("Still polling the registration of the visualization. Is the visu stopped?"),this.a.Z(this,this.a.j.PollingRegistrationInterval)):this.I("Unexpected return value: "+a):this.I(a)},I:function(a){this.a.error("Visu registration in the plc failed: "+
a)},className:u("VisuPollingRegistrationState")};var Nc;Nc=r("a");
Nc.prototype={execute:function(){var a=this.a.Ga(),b=this.a.Wa(),c=this.a.j;b.sw(c.Application,c.ClientName,this.a.l.Xi);a.Za(b.Xa(),this)},Ya:function(a){a=(new Pb(a,this.a.l.ua,this.a.ma())).hv();"number"===typeof a?(WebvisuLogger.R("Successful first visu registration step: "+a),this.a.l.U=a,this.a.Z(new Wc(this.a),this.a.j.PollingRegistrationInterval)):this.I(a)},I:function(a){this.a.error("Visu registration in the plc failed: "+a)},className:u("VisuRegistrationState")};var Xc;
Xc=function(a){this.a=a;this.Jc=l;this.Qa=[];this.La=[];"onpointerdown"in window?(WebvisuLogger.td("Touchsupport using PointerEvents"),this.zq(),this.nl(this.Hj)):"ontouchstart"in window?(WebvisuLogger.td("Touchsupport using TouchEvents"),this.Aq(),this.nl(this.Hj)):WebvisuLogger.warn("No touch support")};
Xc.prototype={register:r("Jc"),Vh:function(){var a;for(a=0;a<this.Qa.length;++a)this.a.T.G.canvas.removeEventListener(this.Qa[a].qc,this.Qa[a].ra)},Hj:function(){return this.a.T.G.canvas},nl:function(){var a;for(a=0;a<this.Qa.length;++a)this.a.T.G.canvas.addEventListener(this.Qa[a].qc,this.Qa[a].ra)},Aq:function(){function a(a){b.Sd(a)}var b=this;this.Qa.push({qc:"touchstart",ra:a});this.Qa.push({qc:"touchmove",ra:a});this.Qa.push({qc:"touchend",ra:a})},zq:function(){var a=this;this.Qa.push({qc:"pointerdown",
ra:function(b){a.Or(b)}});this.Qa.push({qc:"pointermove",ra:function(b){a.Pr(b)}});this.Qa.push({qc:"pointerup",ra:function(b){a.Qr(b)}})},Ys:function(a,b){var c;for(c=0;c<a.length;++c)if(a[c].identifier===b)return k;return n},zg:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],b.ed(new Yc(e.identifier,y.Ee(e),c))},vj:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],this.Ys(b,e.identifier)||c.ed(new Yc(e.identifier,y.Ee(e),S.nb))},Zp:function(){this.a.j!==l&&this.a.j.WorkaroundDisableMouseUpDownAfterActiveTouch&&
this.a.ph.Jv(H.fa()+100)},Sd:function(a){if(this.Jc!==l){a.preventDefault();this.Zp();var b=new Zc;"touchstart"==a.type?(this.zg(a.changedTouches,b,S.cb),this.vj(a.targetTouches,a.changedTouches,b,S.nb)):"touchmove"==a.type?this.zg(a.targetTouches,b,S.nb):(this.zg(a.changedTouches,b,S.Ja),this.vj(a.targetTouches,a.changedTouches,b,S.nb),0===a.targetTouches.length&&this.Bl());this.Jc(b)}},Or:function(a){"mouse"!==a.pointerType&&(a.preventDefault(),-1!==this.Tg(a.pointerId)?WebvisuLogger.warn(H.W("Unexpected Pointerdown event for id: {0}; Ignored!",
a.pointerId)):(this.Kl(),this.La.push(new Yc(a.pointerId,y.De(a),S.cb)),this.ml()))},Qr:function(a){this.Ll(a,S.Ja);this.La.splice(this.Tg(a.pointerId),1);"touch"===a.pointerType&&0===this.La.length&&this.Bl()},Pr:function(a){this.Ll(a,S.nb)},Ll:function(a,b){"mouse"!==a.pointerType&&(a.preventDefault(),this.Kl(),this.La[this.Tg(a.pointerId)]=new Yc(a.pointerId,y.De(a),b),this.ml())},ml:function(){var a=new Zc,b;for(b=0;b<this.La.length;++b)a.ed(this.La[b]);this.Jc(a)},Kl:function(){var a;for(a=0;a<
this.La.length;++a)this.La[a]=new Yc(this.La[a].id(),this.La[a].location().ha,S.nb)},Tg:function(a){var b;for(b=0;b<this.La.length;++b)if(this.La[b].id()===a)return b;return-1},Bl:function(){function a(a){a.preventDefault()}var b=this;b.a.T.G.canvas.addEventListener("contextmenu",a);window.setTimeout(function(){b.a.T.G.canvas.removeEventListener("contextmenu",a)},500)}};var $c;$c=function(a){this.bb=this.Na=l;if(!a)a=S.za;this.$f(a)};
$c.prototype={type:function(){this.Na===l&&h(Error("Unexpected call. Gesture data not yet assigned"));return this.Na.type()},$f:function(a){if(!(this.Na!==l&&this.type()===a))switch(a){case S.ob:this.Na=new ad;break;case S.za:this.Na=new bd;break;case S.Lb:this.Na=new cd;break;case S.eb:this.Na=new dd(n);break;case S.Ka:this.Na=new dd(k);break;default:h(Error("Unexpected gesture type"))}},data:t("Na"),Fa:function(){var a=new $c;if(this.Na!==l)a.Na=this.Na.Fa();a.bb=this.bb;return a}};var S;
S={nb:1,Ja:2,cb:4,Je:8,oj:16,mg:5,za:0,Lb:1,ob:2,eb:3,Ka:4,Kb:0,Ie:1,ep:2,He:4,mj:8,nj:16,Zw:255,Ia:0,Bd:5,Cd:10};S.ya=S.Cd;S.Bc=11;S.mb=12;S.ab=13;S.Lo=S.ab;var ed;ed=function(){this.si=this.ze=this.Ww=this.ig=this.og=this.fg=n};var fd;fd=function(){this.wb=[]};
fd.prototype={Vm:function(a,b){this.empty()||!this.or(a)||!b?this.wb.push(a):this.wb[this.wb.length-1]=a},pv:function(a,b){var c,d;for(c=0;c<this.wb.length;++c)if(d=this.wb[c],a.te(d,b),b.m.Xd)return n;this.wb=[];return k},empty:function(){return 0===this.wb.length},or:function(a){var b=this.wb[this.wb.length-1],c,d,e;if(a.touches().length!==b.touches().length)return n;for(c=0;c<a.touches().length;++c)if(d=a.touches()[c],e=b.touches()[c],d.id()!==e.id()||d.Bb()!==e.Bb()||d.r(S.Ja)||d.r(S.cb))return n;
return k}};var Yc;Yc=function(a,b,c){this.Zg=a;this.pa=c;this.Qd=new gd(b)};Yc.prototype={id:t("Zg"),location:t("Qd"),Bb:t("pa"),xf:function(a){this.pa|=a},r:function(a){return(this.pa&a)===a}};var Zc;Zc=function(){this.X=[];this.Ws=H.fa()};Zc.prototype={touches:t("X"),ed:function(a){this.X.push(a)},timeStamp:t("Ws")};var gd;gd=function(a){this.ha=a;this.Ok=l};gd.prototype={qe:t("Ok"),Lv:r("Ok")};var T;
T={Yh:function(a,b){var c=0<b.touches().length,d,e;a.data().Dt();for(d=0;d<b.touches().length;++d)e=b.touches()[d],a.data().ed(e.id(),e.location().ha,e.Bb()),e.r(S.Ja)||(c=n);return c},qt:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(a.touches()[c].r(b))return k;return n},fd:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(!a.touches()[c].r(b))return n;return k},Rt:function(a){var b=S.mj|S.nj;1===a.touches().length?b|=S.Ie|S.He:2===a.touches().length&&(b|=S.ep);return b},oe:function(a){return a===
S.eb||a===S.Ka}};var yb;yb=function(a){var b=this;this.a=a;this.hk=new Xc(a);this.hk.register(function(a){b.Jc(a)});this.fe=l;this.ia=new hd;this.m=new id;this.Wc=new jd(a.j);this.ws=-1;this.vl("none")};
yb.prototype={Vh:function(){this.vl("auto");this.hk.Vh()},ji:function(a,b){this.a.Ab(C.Fn(a,this.a.l.U,b))},fu:function(a,b){var c=new ed,d;if(this.eh(a,S.mj)&&this.ia.bu(b))c.si=k;else if(this.eh(a,S.nj)&&this.ia.pt(b))c.ze=k;else if(this.eh(a,S.Ie|S.He))d=[],this.ia.Ct(b,d),c.og=d[0],c.ig=d[1];c.fg=!this.Hp();return c},Zh:function(a,b,c){if(a>=S.Cd&&a<=S.Lo)if(b.type()===S.za||b.type()===S.Lb){if(this.Iq(a,b,b.bb,c))return k}else if(this.nr(b.type())&&this.Jq(a,b,b.bb))return k;return n},vl:function(a){this.a.T.G.canvas.style.touchAction=
a},Hp:function(){return this.m.Fm()?(this.m.Vv(k),n):k},eh:function(a,b){return(a&b)==b},nr:function(a){return a===S.ob||T.oe(a)},Kk:function(a){return a===S.Ka},Iq:function(a,b,c,d){var e=W.ng;if(a===S.ya){c=this.ia.tm(b);if(c===l)return k;b.bb=c;this.Qs(c);this.m.Du()}else if((a===S.ab||a===S.mb)&&c!==l)this.ik(e,b,c),this.ks(b,c);if(c!==l){if(b.type()===S.Lb||b.type()===S.za)e=b.data().am(c,a);W.wc(e,W.dg)&&(e=W.jb(e,W.Fi))}return a!==S.mb&&(this.ik(e,b,c),this.fe.Yu(this.a.T,c,e,d),W.r(e,W.Fi))?
((b.type()===S.Lb||b.type()===S.za)&&b.data().sm(c.info()),k):n},Jq:function(a,b,c){if(a===S.ya){c=this.ia.tm(b);if(c===l&&!this.Kk(b.type()))return k;b.bb=c;T.oe(b.type())&&this.rh(b,c)}else if(c!==l||this.Kk(b.type()))T.oe(b.type())?this.rh(b,c):(a===S.ab||a===S.mb)&&this.rh(b,c);return n},rh:function(a,b){this.ak(a.data().createEvent(this.a.l.U,b))},ak:function(a){this.a.Ab(a)},ks:function(a,b){var c=a.data().createEvent(this.a.l.U,b);c.hc=b.P;this.ak(c)},Qs:function(a){a.info().zoom().Vf(1);a.info().scroll().Fb(new z(0,
0));this.fe.zt(this.a.T,a.P)},ik:function(a,b,c){W.wc(a,W.qo)&&this.$p(a,b,c);W.r(a,W.ug)&&(c.info().zoom().Vf(c.info().zoom().V.Da),this.op(b,c));W.r(a,W.tg)&&c.info().zoom().Vf(c.info().zoom().V.Ca)},op:function(a,b){this.Qk(W.zd|W.Ad,b)},$p:function(a,b,c){b.type()===S.Lb?this.Qk(a,c):b.type()===S.za&&this.vr(a,c)},Qk:function(a,b){var c=b.nm(),d=b.info().zoom(),e;W.r(a,W.Ae)?d.rd(new z(d.vb.b+c.d,d.Aa.c)):W.r(a,W.zd)&&(e=d.vb.b-(1-d.ub)*d.vb.b,d.rd(new z(e,d.Aa.c)),b.info().scroll().Fb(new z(d.Aa.b-
d.vb.b,b.info().scroll().H.c)));W.r(a,W.Be)?d.rd(new z(d.Aa.b,d.vb.c+c.e)):W.r(a,W.Ad)&&(e=d.vb.c-(1-d.ub)*d.vb.c,d.rd(new z(d.Aa.b,e)),b.info().scroll().Fb(new z(b.info().scroll().H.b,d.Aa.c-d.vb.c)))},vr:function(a,b){var c=b.info().scroll(),d=c.V;W.r(a,W.Ae)&&c.Fb(new z(d.Da.b,c.H.c));W.r(a,W.Be)&&c.Fb(new z(c.H.b,d.Da.c));W.r(a,W.zd)&&c.Fb(new z(d.Ca.b,c.H.c));W.r(a,W.Ad)&&c.Fb(new z(c.H.b,d.Ca.c))},Jc:function(a){var b=this.a.j;if(!(b===l||!this.m.Ek||!b.TouchHandlingActive)){b.DebugOnlyPrintRawTouches&&
this.nq(a);this.Kp(a);if(this.fe===l)this.fe=new kd(this.a.T.G.canvas);this.m.Xd?(this.Wc.buffer().Vm(a,k),this.zh()):this.Wc.te(a,this)&&(this.m.Xd&&this.Wc.buffer().Vm(a,k),this.Wc.buffer().empty()||this.zh())}},Kp:function(a){T.fd(a,S.cb)?this.a.ph.cn(k):T.fd(a,S.Ja)&&this.a.ph.cn(n)},zh:function(){if(-1!==this.ws){var a=this;window.setTimeout(function(){a.Rr()},100)}},Rr:function(){this.Wc.buffer().pv(this.Wc,this)||this.zh()},nq:function(a){var b,c,d,e,f;c=H.W("Touches ({0}): ",a.touches().length);
for(b=0;b<a.touches().length;++b)d=a.touches()[b],e="D",f="",d.r(S.nb)?e="M":d.r(S.Ja)&&(e="U"),d.r(S.Je)&&(f="P"),c+=H.W("[{0}{1}{2} ({3}/{4})] ",f,e,d.id(),d.location().ha.b,d.location().ha.c);WebvisuLogger.td(c)}};var kd;kd=function(a){this.Ub=this.Sj(a.width,a.height);this.js=this.Qp()};
kd.prototype={Yu:function(a,b,c){W.wc(c,W.dg)||this.as(a,b)},as:function(a,b){var c=a.G;c.save();a.a.ka.m.bf?b.info().li(0)!==l?this.Rm(a,b):(this.xq(c,b),this.bs(c,b)):(this.$r(c,b),this.cs(c,b));c.restore()},$r:function(a,b){var c=b.P.d,d=b.P.e,e=b.P.i()+1,f=b.P.h()+1;a.fillStyle=this.js;a.fillRect(c,d,e,f)},cs:function(a,b){var c=b.P.d,d=b.P.e,e=b.P.i()+1,f=b.P.h()+1;a.beginPath();a.rect(c,d,e,f);a.clip();this.Ih(a,b,l);a.drawImage(this.Ub,c,d,e,f,c,d,e,f)},bs:function(a,b){var c=b.info().sb.d,
d=b.info().sb.e,e=b.info().sb.i(),f=b.info().sb.h();a.beginPath();a.rect(c,d,e,f);a.clip();e-=1;f-=1;this.Ih(a,b,l);a.drawImage(this.Ub,c,d,e,f,c,d,e,f)},xq:function(a,b){var c,d,e=b.info().sb.d,f=b.info().sb.e,g=b.info().sb.i(),i=b.info().sb.h();a.beginPath();a.rect(e,f,g,i);a.clip();if(0!==b.info().scroll().H.b){c=new L(e+0.5,f+0.5,e+g-2,f+i-2);d=new L(e,f,e+g,f+i);if(0>b.info().scroll().H.b)c.d=c.q-1;d.e+=b.info().scroll().H.c;d.s+=b.info().scroll().H.c;0<b.info().scroll().H.b?a.drawImage(this.Ub,
c.d,c.e,1,c.h(),d.d,d.e,b.info().scroll().H.b,d.h()):a.drawImage(this.Ub,c.d,c.e,1,c.h(),d.q+b.info().scroll().H.b,d.e,-b.info().scroll().H.b,d.h())}if(0!==b.info().scroll().H.c){c=new L(e+0.5,f+0.5,e+g-2,f+i-2);d=new L(e,f,e+g,f+i);if(0>b.info().scroll().H.c)c.e=c.s-1;d.d+=b.info().scroll().H.b;d.q+=b.info().scroll().H.b;0<b.info().scroll().H.c?a.drawImage(this.Ub,c.d,c.e,c.i(),1,d.d,d.e,d.i(),b.info().scroll().H.c):a.drawImage(this.Ub,c.d,c.e,c.i(),1,d.d,d.s+b.info().scroll().H.c,d.i(),-b.info().scroll().H.c)}},
Rm:function(a,b){var c,d,e=a.$d,f=e?a.ga:a.G;c=b.P.d;var g=b.P.e;d=b.P.i()+1;var i=b.P.h()+1;f.clearRect(c,g,d,i);f.beginPath();f.rect(c,g,d,i);f.clip();for(g=0;g<b.info().Tb.length;++g)c=b.info().li(g),c!==l&&(d=a.hb.ki(c.af),d=e?d.ga.canvas:d.Jg.canvas,f.save(),this.Ih(f,b,c),f.drawImage(d,0,0),f.restore())},Ih:function(a,b,c){a.translate(b.info().zoom().Aa.b,b.info().zoom().Aa.c);a.scale(b.info().zoom().ub,b.info().zoom().ub);a.translate(-b.info().zoom().Aa.b,-b.info().zoom().Aa.c);a.translate(c===
l||!c.kh?b.info().scroll().H.b:0,c===l||!c.lh?b.info().scroll().H.c:0);c!==l&&a.translate(b.P.d-c.Eb().b,b.P.e-c.Eb().c)},zt:function(a,b){var c=this.Ub.getContext("2d");c.drawImage(a.ga.canvas,b.d,b.e,b.i(),b.h(),b.d,b.e,b.i(),b.h());c.drawImage(a.G.canvas,b.d,b.e,b.i(),b.h(),b.d,b.e,b.i(),b.h())},Sj:function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c},Qp:function(){var a=this.Sj(8,8),b=a.getContext("2d");b.fillStyle="#fff";b.fillRect(0,0,a.width,a.height);b.dy=
"#000";b.lineWidth=1;b.beginPath();b.moveTo(b.lineWidth/2,a.height);b.lineTo(b.lineWidth/2,b.lineWidth/2);b.lineTo(a.width,b.lineWidth/2);b.stroke();b.closePath();return this.Ub.getContext("2d").createPattern(a,"repeat")}};var id;id=function(){this.Xd=this.Ek=n;this.cf=0;this.bf=n};id.prototype={Iv:r("Ek"),Vv:r("Xd"),Du:function(){this.cf++},Ot:function(){this.cf--;if(0===this.cf)this.Xd=n},Fm:function(){return 0<this.cf},Hv:r("bf")};var W;W={ng:0,ug:1,tg:2};W.Sw=W.ug|W.tg;W.Ae=4;W.Be=8;W.zd=16;
W.Ad=32;W.qo=W.Ae|W.Be|W.zd|W.Ad;W.Fi=65536;W.yi=131072;W.zi=262144;W.wi=524288;W.xi=1048576;W.Bi=2097152;W.Ai=4194304;W.ui=W.yi|W.wi;W.vi=W.zi|W.xi;W.eg=W.ui|W.vi;W.xn=W.Bi|W.Ai;W.dg=W.xn|W.eg;W.jb=function(a,b){return a|b};W.jv=function(a){return a&~W.eg};W.r=function(a,b){return(a&b)===b};W.wc=function(a,b){return 0!==(a&b)};var jd;
jd=function(a){var b;this.n=new fd;this.Wd=[];this.Wd[0]=new ld;for(b=1;b<S.mg;++b)this.Wd[b]=new md;this.ql();this.qf=new nd(a);this.m=new od;this.Sc=new pd;this.Od=l;this.lq=a.DebugOnlyPrintGestures};
jd.prototype={te:function(a,b){return 1>a.touches().length||a.touches().length>S.mg?n:this.aq(a,b)},qr:function(a){return!this.Sc.Tc.ze&&T.fd(a,S.cb)},Mk:function(a){return!this.Sc.Tc.ze&&T.fd(a,S.Ja)},aq:function(a,b){var c=new $c,d,e=n;this.yq(a);this.Gp(a,b)&&(this.qr(a)&&b.ji(E.co,a.touches()[0].location().ha),(this.m.N.state()===S.ya||this.m.N.state()===S.Bc)&&this.Eq(a,b),this.m.Xm(),this.ql(),this.Sc.Tc.si&&this.m.N.Pa.$f(S.eb));if(this.m.N.Pa.type()!=S.eb&&(d=a.touches().length-1,d=this.Wd[d].te(this,
a,c),d===S.Bd||d>=S.Cd)){if(d>=S.Cd)return this.Od!==l?(this.Mk(a)&&b.ji(E.Qi,a.touches()[0].location().ha),this.Ud(this.Od.state(),this.Od.Pa,a,b),this.Od=l,this.Ud(d,c,a,b)):(this.Ud(d,c,a,b),this.Mk(a)&&b.ji(E.Qi,a.touches()[0].location().ha)),k;this.m.N.assign(d,c);this.m.N.$l(a);e=k}if(!e)return this.Sc.Tc.fg||(d=this.Vp(c,a),this.Ud(d,c,a,b)),k;this.Lg(S.Ia,c);return n},buffer:t("n"),Fu:function(a,b){var c=new $c(S.Ka);c.data().ed(b,a,S.cb|S.Je);this.Od=new qd(S.ya,c)},Ud:function(a,b,c,d){if(this.m.N.state()!==
S.mb){var e=this.m.N.Pa.bb;this.Ip(a,b);this.Lg(a,b);this.m.N.assign(a,b.Fa());b.bb=e;e={Qt:n,px:function(){d.Zh(S.mb,b)}};d.Zh(a,b,e)&&(this.Lg(S.mb,b),e.Qt||d.Zh(S.mb,b),this.m.N.Zf(S.mb));this.m.N.Pa.bb=b.bb;a!==S.ab&&this.m.N.$l(c)}a===S.ab&&this.m.Xm()},Ip:function(a,b){var c,d;if(a===S.ya&&b.type()===S.Ka){c=n;for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].r(S.Je)){c=k;break}if(!c)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].r(S.cb)){this.m.N.Fv(b.data().touches()[d].id());
break}}if(this.m.N.vk)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].id()==this.m.N.Bj){b.data().touches()[d].xf(S.oj);break}},Vp:function(a,b){var c=T.fd(b,S.Ja),d;d=this.m.N.Pa.type()===S.eb?S.eb:S.Ka;a.$f(d);T.Yh(a,b);return c?S.ab:this.m.N.state()===S.ya||this.m.N.state()===S.Bc?S.Bc:S.ya},ql:function(){var a;for(a=0;a<this.Wd.length;++a)this.Wd[a].Zf(S.Ia)},yq:function(a){var b,c;for(b=0;b<a.touches().length;++b)c=a.touches()[b],this.m.mw(c)||this.m.kt(c)||WebvisuLogger.error("Could not store touch information; probably a touch release/up was missing")},
Gp:function(a,b){return this.mr(a)?(this.Sc.Rv(b.fu(T.Rt(a),a)),k):n},Eq:function(a,b){T.oe(this.m.N.Pa.type())&&T.Yh(this.m.N.Pa,a);this.Ud(S.ab,this.m.N.Pa,a,b)},mr:function(a){if(this.m.N.state()===S.Ia)return k;if(T.oe(this.m.N.Pa.type()))return T.fd(a,S.cb);if(this.m.N.ee.length!==a.touches().length)return k;var b;for(b=0;b<a.touches().length;++b)if(!this.m.N.Iu(a.touches()[b].id()))return k;return n},Lg:function(a,b){if(this.lq){var c="";switch(a){case S.Ia:WebvisuLogger.R("No gesture");return;
case S.Bd:c="Gesture (candidate); ";break;case S.ya:c="Gesture (new); ";break;case S.ab:c="Gesture (finished); ";break;case S.Bc:return;case S.ab:c="Gesture (finished); ";break;case S.mb:c="Gesture (cancelled); "}c+=b.data().Df();WebvisuLogger.R(c)}}};var rd;rd=function(){this.O=S.Ia;this.Pa=new $c;this.ee=[];this.vk=n;this.Bj=-1};
rd.prototype={state:t("O"),Zf:r("O"),Fv:function(a){this.vk=k;this.Bj=a},assign:function(a,b){this.O=a;this.Pa=b},$l:function(a){var b;this.ee=[];for(b=0;b<a.touches().length;++b)this.ee.push(a.touches()[b].id())},Iu:function(a){var b;for(b=0;b<this.ee.length;++b)if(this.ee[b]===a)return k;return n}};var pd;pd=function(){this.hx=n;this.Tc=l};pd.prototype={Rv:r("Tc")};var qd;qd=function(a,b){this.O=a;this.Pa=b};qd.prototype={state:t("O")};var od;od=function(){this.oc=[];this.N=new rd};
od.prototype={mw:function(a){var b;for(b=0;b<this.oc.length;++b)if(this.oc[b].id===a.id())return a.location().Lv(this.oc[b].qe),a.r(S.Ja)?this.oc.splice(b,1):this.oc[b].qe=a.location().qe(),k;return n},kt:function(a){if(this.oc.length===S.mg)return n;this.oc.push({id:a.id(),qe:a.location().ha});return k},Xm:function(){this.N=new rd}};var nd;nd=function(a){this.Gq=a.GesturesFlickPanThresholdPxPerSecond;this.es=a.GesturesPanFlickTimeThresholdMs;this.Zs=a.GesturesTouchMouseTimeThresholdMs;this.ds=a.GesturesPanClickThresholdDistSquare};
nd.prototype={eo:t("Gq"),ro:t("es"),dp:t("Zs")};var ad;ad=function(a){a===j&&(a=new z(0,0));this.qa=a;this.Ra=new z(0,0);this.bd=0};
ad.prototype={type:function(){return S.ob},Fa:function(){var a=new ad(this.qa);a.ie(this);return a},Df:function(){return H.W("Flick: start({0}), overall move({1}), velocity {2}",H.ic(this.qa),H.ic(this.Ra),this.bd)},createEvent:function(a,b){var c=new C(E.Nn,a,b.id(),0),d,e;d=J.p(12);e=P.p(d,k);e.B(this.qa.cc());e.B(this.Ra.cc());e.B(this.bd);c.Ta(d);return c},ie:function(a){this.qa=a.qa;this.Ra=a.Ra;this.bd=a.bd},start:t("qa"),cw:r("bd"),qi:function(a){this.Ra=a.yc(this.qa)}};var dd;
dd=function(a){this.ge=a;this.X=[]};
dd.prototype={type:function(){return this.ge?S.Ka:S.eb},touches:t("X"),Dt:function(){this.X=[]},ed:function(a,b,c){a=new Yc(a,b,c);if(a.r(S.Ja)||a.r(S.cb))this.gx=k;this.X.push(a)},Fa:function(){var a=new dd(this.ge);a.X=this.X.slice(0);return a},Df:function(){var a="",b="",c,a=this.ge?"TouchToMouse":"IEC-Touches";for(c=0;c<this.X.length;++c)if(2>c)b+=H.W("[{0}, {1}]({2}) ",c,this.X[c].Bb(),H.ic(this.X[c].location().ha));else{b+="...";break}return H.W("{0} ({1}): {2}",a,this.X.length,b)},createEvent:function(a,
b){var c,d=c=0,e,f,g,i,o=k,m;this.ge||(c=b.id());d=this.X.length;m=this.ge?E.Sn:E.On;e=J.p(8*this.X.length);f=P.p(e,k);for(g=0;g<this.X.length;++g){f.B(this.X[g].location().ha.cc());i=255&this.xr(this.X[g]);this.X[g].r(S.nb)||(o=n);if(this.X[g].r(S.Je)||this.X[g].r(S.oj))i|=256;i|=(this.X[g].id()&65535)<<16>>>0;f.B(i)}o&&m++;c=new C(m,a,c,d);c.Ta(e);return c},xr:function(a){return a.r(S.nb)?2:a.r(S.Ja)?3:a.r(S.cb)?1:0}};var bd;bd=function(a){a===j&&(a=new z(0,0));this.qa=a;this.Ra=new z(0,0)};
bd.prototype={type:function(){return S.za},Fa:function(){var a=new bd(this.qa);a.ie(this);return a},ie:function(a){this.qa=a.qa;this.Ra=a.Ra},sm:function(a){this.Ra=a.scroll().H},am:function(a,b){var c=a.info().scroll();b===S.ya&&c.Av(this.qa);c.Fb(this.Ra);return a.em()},Df:function(){return H.W("Pan: start({0}), overall move({1})",H.ic(this.qa),H.ic(this.Ra))},createEvent:function(a,b){var c=new C(E.Qn,a,b.id(),0),d,e;d=J.p(8);e=P.p(d,k);e.B(b.info().scroll().Vj.cc());e.B(b.info().scroll().H.cc());
c.Ta(d);return c},start:t("qa"),qi:function(a){this.Ra=a.yc(this.qa)}};var cd;cd=function(){this.Ch=new z(0,0);this.Jj=new z(0,0);this.bl=1;this.jf=this.tf=0};
cd.prototype={type:function(){return S.Lb},Fa:q(),Df:u("SpreadPinch: "),sm:function(a){this.bl=a.zoom().ub},am:function(a,b){var c=a.info().zoom(),d=a.info().scroll();b===S.ya&&c.rd(this.Ch);c.rd(this.Jj);c.Vf(this.bl);c.Zv(this.tf);c.Uv(this.jf);d.Fb(this.Jj.yc(this.Ch));c=a.em();W.wc(c,W.eg)&&this.pr(a)&&(c=W.jv(c));return c},createEvent:function(a,b){var c=new C(E.Rn,a,b.id(),0),d,e,f,g;g=b.info().zoom();d=J.p(16);e=P.p(d,k);e.B(g.Aa.cc());e.B(g.vb.cc());e.B(65536*g.ub);f=65536*(g.tf/2/Math.PI);
g=65536*(g.orientation()/2/Math.PI);e.B(f|g<<16);c.Ta(d);return c},pr:function(a){return 400>a.info().scroll().Nt.Wh(new z(0,0))}};var md;md=q();md.prototype={te:function(){return S.Ia},state:function(){return S.Ia},Zf:q()};var ld;ld=function(){this.O=S.Ia;this.uf=0;this.Rs=this.va=this.Vc=this.gh=l;this.tb=-1};
ld.prototype={te:function(a,b,c){var d,e=a.Sc.Tc;if(T.qt(b,S.Ja)){if(this.O===S.Bd)this.va=S.Kb,this.tb=S.Ka,this.Ik(a,b);this.O=this.Cp()}else switch(d=b.touches()[0].location(),this.O){case S.Ia:if(e.fg)return S.Ia;e.ze?(this.va=S.Kb,this.tb=S.Ka,this.O=S.ya):e.og||e.ig?(this.va=S.Kb,e.og&&(this.va|=S.Ie),e.ig&&(this.va|=S.He),this.O=S.Bd):(this.va=S.Kb,this.tb=S.Ka,this.O=S.ya);this.gr(b);break;case S.Bd:if(d=d.ha.Wh(d.qe())>a.qf.ds)this.va===S.Ie?this.ff(b,S.za):this.va===S.He?this.ff(b,S.ob):
(d=b.timeStamp()-this.uf>a.qf.ro)&&(this.Vc.bd<a.qf.eo?this.ff(b,S.za):this.ff(b,S.ob));else if(d=b.timeStamp()-this.uf>a.qf.dp)this.va=S.Kb,this.tb=S.Ka,this.Ik(a,b),this.O=S.Bc;break;default:this.Jl(b),this.O=S.Bc}if(this.O>=S.Cd)switch(c.$f(this.tb),this.tb){case S.za:c.data().ie(this.gh);break;case S.ob:c.data().ie(this.Vc);break;case S.eb:case S.Ka:T.Yh(c,b);break;default:h(Error("unexpected"))}return this.O},state:t("O"),Zf:r("O"),gr:function(a){a=a.touches()[0].location().ha;this.uf=H.fa();
this.Vc=new ad(a);this.gh=new bd(a);this.Rs=a},ff:function(a,b){this.Jl(a);this.va=S.Kb;this.tb=b;this.O=S.ya},Ik:function(a,b){a.Fu(b.touches()[0].location().ha,b.touches()[0].id())},Jl:function(a){var b=a.touches()[0].location().ha,c;(this.tb===S.za||this.va!==S.Kb)&&this.gh.qi(b);if(this.tb===S.ob||this.va!==S.Kb)c=this.Vc.start().Ut(b),a=a.timeStamp()-this.uf,1.0E-6>a&&(a=10),this.Vc.cw(1E3*(c/a)),this.Vc.qi(b)},Cp:function(){return this.O===S.Ia?S.Ia:S.ab}};var Ic;
Ic=function(a,b,c){this.Zg=a;this.P=b;this.pa=c;this.yb=new sd};
Ic.prototype={id:t("Zg"),Bb:t("pa"),xf:function(a){this.pa|=a},r:function(a){return(this.pa&a)===a},info:t("yb"),gd:function(a){return a.b>=this.P.d&&a.b<=this.P.q&&a.c>=this.P.e&&a.c<=this.P.s},lf:function(a,b,c,d){if(!W.wc(d,W.dg)){var e=Math.abs(b.b-c.b),b=Math.abs(b.c-c.c);if(W.wc(a,W.ui)&&e>b||W.wc(a,W.vi)&&b>e)d=W.jb(d,a)}return d},em:function(){var a=W.ng,b=this.yb.zoom(),c=this.yb.scroll(),d=b.ub,e=c.H,f=this.nm();d<b.V.Da&&(a=W.jb(a,W.ug),a=W.jb(a,W.Bi));d>b.V.Ca&&(a=W.jb(a,W.tg),a=W.jb(a,
W.Ai));e.b<f.d&&(a=W.jb(a,W.Ae),a=this.lf(W.yi,e,c.V.Da,a));e.c<f.e&&(a=W.jb(a,W.Be),a=this.lf(W.zi,e,c.V.Da,a));e.b>f.q&&(a=W.jb(a,W.zd),a=this.lf(W.wi,e,c.V.Ca,a));e.c>f.s&&(a=W.jb(a,W.Ad),a=this.lf(W.xi,e,c.V.Ca,a));return a},nm:function(){var a,b;b=this.P.ue().yc(this.yb.scroll().V.Ca);a=this.P.Bf().yc(this.yb.scroll().V.Da);a=(new L(b.b,b.c,a.b,a.c)).At(this.yb.zoom().Aa,this.yb.zoom().ub);b=this.P.ue().yc(a.ue());a=this.P.Bf().yc(a.Bf());a=new L(b.b,b.c,a.b,a.c);b=a.Bf().min(this.yb.scroll().V.Da);
a=a.ue().min(this.yb.scroll().V.Ca);return new L(b.b,b.c,a.b,a.c)}};var Jc;Jc={ng:0,ij:1,gp:3,Pw:4,Si:8,lj:16,qj:32,hj:64,wo:128};var sd;sd=function(){this.it=new td;this.Es=new ud;this.sb=new L(0,0,0,0);this.Tb=[]};sd.prototype={zoom:t("it"),scroll:t("Es"),zv:r("sb"),li:function(a){return this.Tb.length>a?this.Tb[a]:l},gn:function(a,b){this.Tb[a]=b},Gu:function(a){for(var b=0;b<this.Tb.length;++b)this.Tb[b]!==l&&this.Tb[b].af===a&&(this.Tb[b]=l)}};var ud;
ud=function(){this.V=new vd;this.Vj=new z(0,0);this.H=new z(0,0)};ud.prototype={Av:r("Vj"),Nt:t("H"),Fb:r("H")};var td;td=function(){this.V=new Gd;this.Aa=new z(0,0);this.vb=new z(0,0);this.ub=1;this.jf=this.tf=0};td.prototype={rd:r("Aa"),Vf:r("ub"),Zv:r("tf"),orientation:t("jf"),Uv:r("jf")};var Kc;Kc=function(a,b,c,d){this.af=a;this.kh=b;this.lh=c;this.qh=d};Kc.prototype={Eb:t("qh")};var hd;hd=function(){this.t=[]};
hd.prototype={tm:function(a){var b,c;switch(a.type()){case S.Lb:c=Jc.gp;break;case S.za:c=Jc.ij;break;case S.ob:c=Jc.Si;break;case S.eb:c=Jc.lj;break;default:c=0}for(b=0;b<this.t.length;++b)if(this.t[b].r(c)&&(a.type()===S.Lb&&this.t[b].gd(a.data().Ch)||a.type()===S.za&&this.t[b].gd(a.data().start())||a.type()===S.ob&&this.t[b].gd(a.data().start())||a.type()===S.eb&&this.yj(a.data().touches(),this.t[b])))return this.t[b];return l},bu:function(a){var b;for(b=0;b<this.t.length;++b)if(this.t[b].r(Jc.lj)&&
this.yj(a.touches(),this.t[b]))return this.t[b];return l},pt:function(a){var b,c,d=[];for(b=0;b<this.t.length;++b)for(c=0;c<a.touches().length;++c)d[c]||this.t[b].gd(a.touches()[c].location().ha)&&this.t[b].r(Jc.wo)&&(d[c]=k);for(c=0;c<a.touches().length;++c)if(d[c]!==k)return n;return k},Ct:function(a,b){b[0]=n;b[1]=n;if(1===a.touches().length){var c,d=a.touches()[0].location().ha,e;for(c=0;c<this.t.length&&(!this.t[c].gd(d)||!(e=n,this.t[c].r(Jc.ij)&&(e=b[0]=k),this.t[c].r(Jc.Si)&&(e=b[1]=k),!e));++c);
}},clear:function(){this.t=[]},Oh:function(a){this.t.unshift(a)},uu:function(a){return this.t.length>a?this.t[a]:l},vu:function(a){for(var b=0;b<this.t.length;++b)if(this.t[b].id()===a)return this.t[b];return l},Hu:function(a){for(var b=0;b<this.t.length;++b)this.t[b].info().Gu(a)},yj:function(a,b){var c;for(c=0;c<a.length;++c)if(!b.gd(a[c].location().ha))return n;return k}};var vd;vd=function(){this.Da=new z(0,0);this.Ca=new z(0,0)};vd.prototype={Pv:r("Da"),Nv:r("Ca")};var Gd;
Gd=function(){this.Ca=this.Da=0};Gd.prototype={Qv:r("Da"),Ov:r("Ca")};var sb;sb=function(a){this.a=a;this.Yc=this.Ec=this.Hk=n;this.nh=this.dl=this.fh=0;this.Sb=l;this.oh=n};
sb.prototype={ew:function(){this.Hk||this.jr();if(this.Ec)this.dl=H.ye()},Yt:function(a){if(this.Ec&&!a){a=H.ye();if(this.oh)this.fh=a-this.nh,this.Yc&&this.jl(this.fh,2),this.oh=n;this.Yc&&this.jl(a-this.dl,1)}},Pu:function(a){if(this.Ec)this.nh=H.ye(),this.Sb=y.De(a)},kw:function(a){if(this.Ec)this.nh=H.ye(),this.Sb=a},iv:function(a){if(this.Ec&&this.Sb!==l&&!(this.Sb.b<a.d||this.Sb.b>a.q))if(!(this.Sb.c<a.e||this.Sb.c>a.s))this.Sb=l,this.oh=k},Ku:function(){return Math.round(this.fh/1E3)},jl:function(a,
b){var c;c=new C(E.Pi,this.a.l.U,b,a&4294967295);c.Xv();this.a.Ab(c)},jr:function(){var a=this.a.j;this.Ec=a.Benchmarking||a.DebugOnlyDiagnosisDisplay;this.Yc=a.Benchmarking;this.Hk=k}};var Va;Va=function(){this.clear()};Va.prototype={clear:function(){this.t=[]},Oh:function(a){this.t.push(a)},st:function(a){a.beginPath();for(var b=0;b<this.t.length;++b)a.rect(this.t[b].d,this.t[b].e,this.t[b].i(),this.t[b].h());a.clip()}};var Ub;
Ub=function(a,b){this.tp=a;this.rf=b;this.Ej=[];this.Wj=[];var c,d=this.Xs(this.tp);for(c=0;c<this.rf;++c){var e=Math.floor(d.ra+(c+1)*(128-Math.floor(d.ra/2))/this.rf);this.Ej[this.rf-c-1]=this.Fl(d.xa,d.qd,e,d.Nh);e=Math.floor(Math.floor(d.ra/3)+Math.floor(2*c*d.ra/(3*this.rf)));this.Wj[c]=this.Fl(d.xa,d.qd,e,d.Nh)}};
Ub.prototype={hu:function(a){return this.Ej[a]},vm:function(a){return this.Wj[a]},Xs:function(a){var b={},c,d,e,f,g,i,o;e=((a&4278190080)>>24)/255;c=((a&16711680)>>16)/255;d=((a&65280)>>8)/255;a=(a&255)/255;f=Math.min(c,Math.min(d,a));g=Math.max(c,Math.max(d,a));i=g-f;b.ra=(f+g)/2;if(0===i)b.xa=b.qd=0;else{b.qd=0.5>b.ra?i/(g+f):i/(2-g-f);f=((g-c)/6+i/2)/i;o=((g-d)/6+i/2)/i;i=((g-a)/6+i/2)/i;if(c===g)b.xa=i-o;else if(d===g)b.xa=1/3+f-i;else if(a===g)b.xa=2/3+o-f;0>b.xa&&(b.xa+=1);1<b.xa&&(b.xa-=1)}b.xa=
Math.round(255*b.xa);b.qd=Math.round(255*b.qd);b.ra=Math.round(255*b.ra);b.Nh=Math.round(255*e);return b},Fl:function(a,b,c,d){var e,f;0===b?c=f=a=c:(a/=255,b/=255,c/=255,b=0.5>c?c*(1+b):c+b-c*b,e=2*c-b,c=Math.round(255*this.Yg(e,b,a+1/3)),f=Math.round(255*this.Yg(e,b,a)),a=Math.round(255*this.Yg(e,b,a-1/3)));return(d<<24)+(c<<16)+(f<<8)+a},Yg:function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}};var ib;ib=q();
ib.prototype={ot:function(a,b){this.Ks(a,b,90)},zu:function(a){return(a=this.Nq(a))&&""!==a},Ks:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*c);document.cookie=a+"="+b+"; "+("expires="+d.toUTCString())},Nq:function(a){var a=a+"=",b,c,d;b=document.cookie.split(";");for(c=0;c<b.length;c++){for(d=b[c];" "==d.charAt(0);)d=d.substring(1);if(-1!=d.indexOf(a))return d.substring(a.length,d.length)}return""}};var eb;eb=function(a){this.a=a;this.wa=[]};
eb.prototype={Cf:function(a){if(this.a.j!==l&&this.a.j.DebugOnlyDiagnosisDisplay){this.pp();var b,c;b=13*this.wa.length+3;a.save();a.strokeStyle="rgb(0,0,0)";a.fillStyle="rgb(220,220,220)";a.font="10px Arial";a.beginPath();a.rect(10,10,150,b);a.clip();a.fillRect(10,10,150,b);a.strokeRect(10,10,150,b);a.fillStyle="rgb(0,0,0)";a.textAlign="left";a.textBaseline="top";for(b=0;b<this.wa.length;++b)c=H.W("{0}: {1}",this.wa[b].title,this.wa[b].ud()),a.fillText(c,13,13+13*b);a.restore()}},pp:function(){if(0===
this.wa.length){var a=this.a.Zc,b=this.a.T,c=this;this.wa.push({title:"DPR",ud:function(){return b.Em()?H.W("{0} (Changed)",y.xd()):y.xd()}});this.wa.push({title:"Canvas-Size",ud:function(){return H.W("{0}/{1}",b.tc().i(),b.tc().h())}});this.wa.push({title:"Resize-Count",ud:function(){return a!==l?a.Yk:"---"}});this.wa.push({title:"Window-Size",ud:function(){return H.W("{0}/{1}",window.innerWidth,window.innerHeight)}});this.wa.push({title:"DocElem-Size",ud:function(){return H.W("{0}/{1}",document.documentElement.clientWidth,
document.documentElement.clientHeight)}});this.wa.push({title:"Last Input Raction (*)",ud:function(){return H.W("{0}",c.a.Ic.Ku())}})}}};var rb;rb=function(a){this.a=a;this.Ma=l;this.Gg=this.wf=n};
rb.prototype={Jm:function(){return this.Ma!==l},open:function(a,b){this.Ma=a;this.wf=b;var c=this;this.Ma.addEventListener("keydown",function(a){c.pq(a)},n);window.document.body.appendChild(this.Ma)},close:function(){this.Ma!==l&&window.document.body.removeChild(this.Ma);this.Ma=l},Rh:function(a){var b,c,d;if(!this.Gg)c=H.rg(this.Ma),b=this.Ma.value.length+1,this.wf&&(b*=2),d=J.p(b),P.p(d,this.a.l.ua,this.a.ne()).bc(this.Ma.value,this.wf),b=new C(E.Un,this.a.l.U,a?this.wf?3:1:2,0),b.Ta(d),b.hc=c.Gm(4),
this.a.Oa.push(b),a?this.Gg=k:this.close()},rv:function(){this.Gg=n},pq:function(a){this.Ma!==l&&(27===a.keyCode?(a.preventDefault(),a.stopPropagation(),this.Rh(n)):13===a.keyCode&&this.Rh(k))}};var tb;tb=function(a){this.Kg=a.ma();this.Rc=a.ne()};tb.prototype={};var Jb;Jb=function(a){a===j&&(a=l);this.gf=a};
Jb.prototype={qp:function(){if(this.gf===l)try{this.gf=(new Configuration).ne()}catch(a){this.gf={ke:u(63)}}},pm:function(a){this.qp();a=this.gf.ke(String.fromCharCode(a));return 1===a.length?a[0]:63}};var ua;ua=function(a){try{this.fs(a)}catch(b){h(Error("Parsing the fontstring '"+a+"' failed for the following reason: "+b))}};
ua.prototype={fs:function(a){var b=l,c=l,d,e=n,f=a.split(/\s+/);for(d=0;d<f.length;++d){var g=f[d];switch(g){case "normal":break;case "italic":case "oblique":break;case "small-caps":break;case "bold":case "bolder":case "lighter":case "100":case "200":case "300":case "400":case "500":case "600":case "700":case "800":case "900":break;default:if(c===l){g=g.split("/");g=H.Cc(g[0]);"p"===g.charAt(g.length-2)&&"x"===g.charAt(g.length-1)&&(c=parseInt(g.substr(0,g.length-2),10));break}b=g;d<f.length-1&&(b+=
" "+f.slice(d+1).join(" "));e=k}if(e)break}b===l&&h(Error("Font Family/Name missing"));(c===l||isNaN(c))&&h(Error("Invalid or unsupported font Size"));this.Cw=b;this.fo=c;this.Ti=a}};var z;z=function(a,b){this.b=a;this.c=b};
z.prototype={nn:function(a){this.b-=a.b;this.c-=a.c;return this},yc:function(a){return this.Fa().nn(a)},min:function(a){return new z(Math.min(this.b,a.b),Math.min(this.c,a.c))},max:function(a){return new z(Math.max(this.b,a.b),Math.max(this.c,a.c))},Eb:function(a){this.b+=a.b;this.c+=a.c;return this},fc:function(a){return this.Fa().Eb(a)},Tu:function(a){this.b+=a.D;this.c+=a.F;return this},Pm:function(a){return this.Fa().Tu(a)},cc:function(){return(this.c>>>0&65535|this.b>>>0<<16)>>>0},Ut:function(a){return Math.sqrt(this.Wh(a))},
Wh:function(a){return(this.b-a.b)*(this.b-a.b)+(this.c-a.c)*(this.c-a.c)},Fa:function(){return new z(this.b,this.c)}};var L;L=function(a,b,c,d,e){this.d=a;this.e=b;this.q=c;this.s=d;this.Ua=e!==j?e:l};
L.prototype={i:function(){return this.q-this.d},h:function(){return this.s-this.e},ju:function(){return new z((this.d+this.q)/2,(this.e+this.s)/2)},Fa:function(){return new L(this.d,this.e,this.q,this.s,this.Ua)},ue:function(){return new z(this.d,this.e)},Bf:function(){return new z(this.q,this.s)},At:function(a,b){var c=this.size().scale(b),d=this.ue().nn(a),d=(new A(d.b,d.c)).scale(b),d=a.Pm(d),c=d.Pm(c);return new L(d.b,d.c,c.b,c.c)},size:function(){return new A(this.i(),this.h())},fc:function(a,
b){return new L(this.d+a,this.e+b,this.q+a,this.s+b,this.Ua)},Gm:function(a){return new L(this.d-a,this.e-a,this.q+a,this.s+a,this.Ua)},Gf:function(a){return this.d===a.d&&this.e===a.e&&this.q===a.q&&this.s===a.s},normalize:function(){var a;if(this.d>this.q)a=this.q,this.q=this.d,this.d=a;if(this.e>this.s)a=this.s,this.s=this.e,this.e=a},Qu:function(){var a=this.Fa();a.normalize();return a}};var zb;zb=function(a){this.a=a;this.Hd=l;this.bk=n;this.Yk=0;this.Zk=y.xd()};
zb.prototype={tt:function(){var a=this;this.Hd=function(){a.Sr()};window.addEventListener("resize",this.Hd,n)},detach:function(){if(this.Hd!==l)window.removeEventListener("resize",this.Hd,n),this.Hd=l},Sr:function(){var a=y.xd(),b=this.bk?a:1;if(a!==this.Zk)this.bk=k,this.Zk=b=a,this.a.T.Ru();this.Yk++;this.a.T.qm(b);this.l!==l&&this.j!==l&&this.a.Dv(C.Ki(this.a.l.U,this.a.j.BestFit,this.a.j.ScaleTypeIsotropic,this.a.T.tc()))}};var A;A=function(a,b){this.D=a;this.F=b};
A.prototype={scale:function(a){return new A(this.D*a,this.F*a)}};var vb;vb=function(a,b){function c(){d.Wu();d.de=window.setTimeout(c,e)}this.M=a;this.gb=b;this.ix=0;this.gb.clear();this.tr=H.fa();this.xb=l;var d=this,e=y.gj()?400:50;this.de=window.setTimeout(c,e)};
vb.prototype={close:function(){this.gb.clear();window.clearInterval(this.de)},Wu:function(){var a=this.gb.G,b=this.gb.tc(),c=2*Math.PI/6,d=(2*Math.PI-5*c)/5,e=250/3,f=10+e,g=2*Math.PI*(H.fa()-this.tr)/6E3,i=1;a.save();if(250>b.i()||250>b.h())i=0.9*Math.min(b.i()/250,b.h()/250);a.scale(i,i);a.translate(Math.max(5,(b.i()-250)/2),Math.max(5,(b.h()-250)/2));a.strokeStyle="#a90018";a.lineWidth=4;a.strokeRect(0,0,250,250);a.fillStyle="#f4f4f4";a.fillRect(0,0,250,250);for(b=0;5>b;++b)a.save(),a.translate(125,
f),a.rotate(g+b*(c+d)),this.jq(a,c,e,"#cd001c"),a.restore();this.xb===l&&this.Up(a,250);a.font=this.xb;a.textAlign="center";a.textBaseline="bottom";a.fillStyle="#000000";a.fillText(this.M,125,2750/12);a.restore()},Up:function(a,b){var c=40;for(a.font=this.Ak(c);2<c&&a.measureText(this.M).width>=0.95*b;)c-=2,a.font=this.Ak(c);this.xb=a.font},Ak:function(a){return"italic "+a+"px Arial"},jq:function(a,b,c,d){var e=0.9*c;a.beginPath();a.moveTo(0,-c);a.arc(0,0,c,-Math.PI/2,b-Math.PI/2,n);a.lineTo(Math.sin(b)*
e,-(Math.cos(b)*e));a.arc(0,0,e,b-Math.PI/2,-Math.PI/2,k);a.lineTo(0,-c);a.closePath();a.strokeStyle=d;a.fillStyle=a.strokeStyle;a.stroke();a.fill()}};var cb;cb=function(a){this.gb=a;this.ce=[]};cb.prototype={clear:function(){this.ce=[]},je:function(){return this.ce.length},i:function(a){return this.ce[a].b},h:function(a){return this.ce[a].c},lt:function(a){a=B.gc(this.gb.getContext(),a,k);this.ce.push(new z(a,H.jg(this.gb)))}};var db;db=function(a){this.gb=a;this.Xc=[]};
db.prototype={clear:function(){this.Xc=[]},je:function(){return this.Xc.length},wu:function(a){return this.Xc[a]},mt:function(a){this.Xc.push(a.length+1);var b,c;for(b=1;b<=a.length;b++)c=B.gc(this.gb.getContext(),a.substring(0,b),k),this.Xc.push(c);this.Xc.push(H.jg(this.gb))}};var Hc;Hc=function(){this.Sk=this.Tk=this.Uk=this.Vk=this.ek=this.fk=this.Va=l};Hc.zw=function(a){var b=new Hc;b.Va=a;return b};Hc.Cn=function(a,b,c,d,e,f){var g=new Hc;g.Sk=a;g.Tk=b;g.Uk=c;g.Vk=d;g.ek=e;g.fk=f;return g};
Hc.prototype={Af:function(a,b){this.Va!==l?this.Bs(a,b):this.np(a)},Bs:function(a,b){a.translate(b.d,b.e);a.rotate(this.Va);a.translate(-b.d,-b.e)},np:function(a){a.transform(this.Sk,this.Tk,this.Uk,this.Vk,this.ek,this.fk)}};var Ua;Ua={Yi:function(a){if(a!==l){if("false"===a.toLowerCase())return n;if("true"===a.toLowerCase())return k}return l},Wi:function(a){a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a===l?l:a[1]}};
Ua.io=function(){var a=Ua.Wi("WorkaroundDisableDPRBasedZoom");return a!==l?Ua.Yi(a):n};var H;H=q();H.Dr=function(){var a=window.performance||{};a.now=function(){return a.now||a.Uy||a.ky||a.ly||a.jy||function(){return(new Date).getTime()}}();return a.now()};H.Ui=function(a){var b=window.location,c;c=b.pathname.lastIndexOf("/");-1!=c&&(a=b.pathname.substr(0,c+1)+a,"/"===a[0]&&(a=a.substr(1)));return b.protocol+"//"+b.host+"/"+a};H.fa=function(){return(new Date).getTime()};
H.ye=function(){return 1E3*H.Dr()};H.jg=function(a){return H.kg(a.v().sk)};H.kg=function(a){return 1.15*a};H.rg=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)!==l);return new L(b,c,b+a.offsetWidth,c+a.offsetHeight)};H.pg=function(a,b){var c;c=b instanceof L?new z(b.d,b.e):b;a.style.position="absolute";a.style.left=Math.floor(c.b)+"px";a.style.top=Math.floor(c.c)+"px";if(b instanceof L)a.style.width=Math.floor(b.i())+"px",a.style.height=Math.floor(b.h())+"px"};
H.W=function(){var a=arguments,b,c;if(0===a.length)return"";b=a[0];for(a=1;a<arguments.length;a++)c=RegExp("\\{"+(a-1)+"\\}","gi"),b=b.replace(c,arguments[a]);return b};H.Co=function(a){return H.W("{0}/{1} {2}/{3}",a.d,a.e,a.q,a.s)};H.ic=function(a){return H.W("{0}/{1}",a.b,a.c)};H.Vw=function(a){return H.W("{0}/{1}",a.D,a.F)};H.Kn=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};H.Cc=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};
H.Gi=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};
